<div *ngIf="!users_retrieved" class="skeletons-container" [@enterAnimation]>
    <div class="skeleton-story"></div>
    <div class="skeleton-story"></div>
    <div class="skeleton-story"></div>
</div>


<div class="stories-container" *ngIf="users_retrieved" [@enterAnimation]>
    <div class="stories-bar">
        <div class="story-swiper-container">
            <div class="swiper-wrapper">
    
                <div class="swiper-slide" *ngFor="let item of  final_list_of_users;let i=index">
                    <div class="story" (click)="watch_story(i)">
                        <img class="background-image" [src]="list_of_cover_pictures[i]" (load)="load_cover(i)" [ngClass]="{'invisible': !cover_is_loaded[i]}">
                        <div class="img-container" [ngClass]="{'new': list_of_state[i],'old':!list_of_state[i] }">
                                <img class="img" [src]="list_of_profile_pictures[i]"  (load)="load_pp(i)"  [ngClass]="{'invisible': !pp_is_loaded[i]}" >
                        </div>
                        <div class="author"*ngIf="i==0" >
                            Publier une story
                        </div>
                        
                        <div class="author" *ngIf="i>0">
                            {{list_of_author_names[i]}}
                        </div>
                    </div>
                </div>

            </div>
        </div>
        
    </div>
    <!-- Add Arrows -->
    <div class="button-prev-shadow" *ngIf="swiper" [ngClass]="{'invisible': swiper.isBeginning }"></div>
    <div class="button-next-shadow" *ngIf="swiper" [ngClass]="{'invisible': swiper.isEnd }"></div>
    <div class="swiper-button-next" [ngClass]="{'invisible': swiper && swiper.isBeginning && swiper.isEnd }"></div>
    <div class="swiper-button-prev" [ngClass]="{'invisible': swiper && swiper.isBeginning && swiper.isEnd }"></div>
</div>

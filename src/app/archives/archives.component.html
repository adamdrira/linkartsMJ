

            
<div class="logos-container" #target>
    <div class="logo" [ngClass]="{'opened': opened_category == 0 }" (click)="open_category(0);scroll(target);">
        <mat-icon class="image1">account_circle</mat-icon>
        <span>
            Archives personnelles
        </span>
    </div>
    <div class="logo" [ngClass]="{'opened': opened_category == 1 }" (click)="open_category(1);scroll(target);">
        <mat-icon class="image2">supervisor_account</mat-icon>
        <span>
            Autres utilisateurs
        </span>
    </div>
</div>


<div class="albums-filter" style="display:flex;justify-content: center;" *ngIf="opened_category>=0">
    <div>
        <button mat-raised-button *ngIf="(opened_category == 0 && private_list_of_comics.length>0) || (opened_category == 1 && list_of_comics.length>0)" class="content-action text-center" [ngClass]="{ 'opened' : opened_album == 0 }" (click)="open_album(0);">
            <div>Bandes dessinées</div>
        </button>
    </div>
    <div>
        <button mat-raised-button *ngIf="(opened_category == 0 && private_list_of_drawings.length>0) || (opened_category == 1 && list_of_drawings.length>0)"  class="content-action text-center" [ngClass]="{ 'opened' : opened_album == 1 }" (click)="open_album(1);">
            <div>Dessins</div>
        </button>
    </div>
    <div>
        <button mat-raised-button  *ngIf="(opened_category == 0 && private_list_of_writings.length>0) || (opened_category == 1 && list_of_writings.length>0)" class="content-action text-center" [ngClass]="{ 'opened' : opened_album == 2 }" (click)="open_album(2);">
            <div>Écrits</div>
        </button>
    </div>
    <div *ngIf="opened_category == 0 && list_of_stories_data.length>0">
        <button mat-raised-button  class="content-action text-center" [ngClass]="{ 'opened' : opened_album == 3 }" (click)="open_album(3);">
            <div>Stories</div>
        </button>
    </div>
    <div *ngIf="opened_category == 1 && list_of_ads.length>0">
        <button mat-raised-button  class="content-action text-center" [ngClass]="{ 'opened' : opened_album == 4 }" (click)="open_album(4);">
            <div>Annonces</div>
        </button>
    </div>
    <div  class="display:flex;justify-content:center" *ngIf=" opened_category == 1 && !(list_of_ads.length>0 ||  list_of_writings.length>0
      || list_of_drawings.length>0 || list_of_comics.length>0)">
        Archives vides
    </div>
    <div  class="display:flex;justify-content:center" *ngIf=" opened_category == 0 && !(list_of_stories_data.length>0 || private_list_of_writings.length>0 
        || private_list_of_drawings.length>0 || private_list_of_comics.length>0)">
        Archives vides
    </div>
</div>





<div class="artworks-container" *ngIf="opened_album>=0 ">

    <div style="display: flex;justify-content: center;" *ngIf="contents_loading && 4>opened_album">
        <mat-spinner diameter="30" ></mat-spinner>
    </div>

    <!--!!!!!!!!!!!!!!!!-->
    <!--bandes dessinées-->
    <!--!!!!!!!!!!!!!!!!-->
    <div *ngIf="opened_album==0 && private_list_of_comics_sorted && list_of_comics_added" [ngClass]="{'invisible':!display_comics }" >
        <!--Mes archives-->
        <div *ngIf="opened_category==0" class="bd-thumbnails-container container-comics" #container_comics >
                <ng-container *ngFor="let item of private_list_of_comics.slice(0,this.number_of_comics_to_show_by_category[0])">
                    <app-thumbnail-comics 
                    *ngIf="item.chaptersnumber == null" 
                    [item]=item 
                    format='one-shot' 
                    now_in_seconds={{now_in_seconds}}
                    (send_loaded)="display_comics_thumbnails()"></app-thumbnail-comics> 
                    <app-thumbnail-comics 
                    *ngIf="item.chaptersnumber>=0"
                    [item]=item 
                    format='serie' 
                    now_in_seconds={{now_in_seconds}}
                    (send_loaded)="display_comics_thumbnails()"></app-thumbnail-comics>
                </ng-container>
        </div>
        <!--Autres utilisateurs-->
        <div *ngIf="opened_category==1" class="bd-thumbnails-container container-comics" #container_comics  >
                <ng-container *ngFor="let item of list_of_comics.slice(0,this.number_of_comics_to_show_by_category[1])">
                    <app-thumbnail-comics 
                    *ngIf="item.chaptersnumber == null" 
                    [item]=item 
                    format='one-shot' 
                    (send_loaded)="display_comics_thumbnails()"
                    now_in_seconds={{now_in_seconds}}></app-thumbnail-comics> 
                    <app-thumbnail-comics 
                    *ngIf="item.chaptersnumber>=0"
                    [item]=item 
                    format='serie' 
                    now_in_seconds={{now_in_seconds}}
                    (send_loaded)="display_comics_thumbnails()"></app-thumbnail-comics>
                </ng-container>
        </div>
    </div>

    <!--!!!!!!!!!!!!!!!!-->
    <!--dessins-->
    <!--!!!!!!!!!!!!!!!!-->
    <div *ngIf="opened_album==1 && private_list_of_drawings_sorted && list_of_drawings_added" class="drawings-container" #container_drawings [ngClass]="{'invisible':!list_visibility_albums_drawings }"  
    >
        <!--Mes archives-->
        <div *ngIf="opened_category==0" class="drawing-container" >

            <div  class="grid" data-masonry='{ "itemSelector": ".grid-item", "columnWidth": 200 }'>
                <div *ngFor="let item of private_list_of_drawings.slice(0,this.number_of_drawings_to_show_by_category[0])" class="grid-item">
                    <app-thumbnail-drawing *ngIf="item.pagesnumber == null"
                        (sendLoaded)="display_drawings_thumbnails();"
                        [item]=item
                        format='one-shot'
                        now_in_seconds={{now_in_seconds}}
                    ></app-thumbnail-drawing>
                    <app-thumbnail-drawing *ngIf="item.pagesnumber >=0"
                        (sendLoaded)="display_drawings_thumbnails();"
                        [item]=item
                        format='artbook'
                        now_in_seconds={{now_in_seconds}}
                    ></app-thumbnail-drawing>
                </div>
                <div class="grid-item" style="height:1px;width:100px;">
                </div>
                <div class="grid-item" style="height:1px;width:100px;">
                </div>
                <div class="grid-item" style="height:1px;width:100px;">
                </div>
                <div class="grid-item" style="height:1px;width:100px;">
                </div>
            </div>
        </div>
        <!--Autres utilisateurs-->
        <div *ngIf="opened_category==1" class="drawing-container" >
            <div class="grid" data-masonry='{ "itemSelector": ".grid-item", "columnWidth": 200 }'>
                <div *ngFor="let item of list_of_drawings.slice(0,this.number_of_drawings_to_show_by_category[1])" class="grid-item">
                    <app-thumbnail-drawing *ngIf="item.pagesnumber == null"
                        (sendLoaded)="display_drawings_thumbnails();"
                        [item]=item
                        format='one-shot'
                        now_in_seconds={{now_in_seconds}}
                    ></app-thumbnail-drawing>
                    <app-thumbnail-drawing *ngIf="item.pagesnumber >=0"
                        (sendLoaded)="display_drawings_thumbnails();"
                        [item]=item
                        format='artbook'
                        now_in_seconds={{now_in_seconds}}
                    ></app-thumbnail-drawing>
                </div>
                <div class="grid-item" style="height:1px;width:100px;">
                </div>
                <div class="grid-item" style="height:1px;width:100px;">
                </div>
                <div class="grid-item" style="height:1px;width:100px;">
                </div>
                <div class="grid-item" style="height:1px;width:100px;">
                </div>
            </div>

        </div>
    </div>

    <!--!!!!!!!!!!!!!!!!-->
    <!--writings-->
    <!--!!!!!!!!!!!!!!!!-->
    <div *ngIf="opened_album==2 && private_list_of_writings_sorted && list_of_writings_added" [ngClass]="{'invisible':!display_writings }">
        <!--Mes archives-->
        <div *ngIf="opened_category==0" class="writing-thumbnails-container container-writings" #container_writings>
                <ng-container *ngFor="let item of private_list_of_writings.slice(0,this.number_of_writings_to_show_by_category[0]); let i = index">
                    <app-thumbnail-writing
                        [item]=item
                        now_in_seconds={{now_in_seconds}}
                        (sendLoaded)="display_writings_thumbnails();"
                    ></app-thumbnail-writing>
                </ng-container>
        </div>
        <!--Autres utilisateurs-->
        <div *ngIf="opened_category==1" class="writing-thumbnails-container container-writings" #container_writings>
                <div *ngFor="let item of list_of_writings.slice(0,this.number_of_writings_to_show_by_category[1]); let i = index">
                    <app-thumbnail-writing
                        [item]=item
                        now_in_seconds={{now_in_seconds}}
                        (sendLoaded)="display_writings_thumbnails();"
                    ></app-thumbnail-writing>
                </div>
        </div>
    </div>
    
    <!--!!!!!!!!!!!!!!!!-->
    <!--stories-->
    <!--!!!!!!!!!!!!!!!!-->
    <div *ngIf="opened_album==3 && list_of_stories_received && list_of_stories_data_received" [ngClass]="{'invisible':!display_stories }"  >
        <div class="container-stories" #container_stories>

            <div *ngFor="let item of list_of_stories_data.slice(0,this.number_of_stories_to_show_by_category[0]); let i = index" class="thumbnail-story" [ngClass]="{'invisible':!list_display_stories[i] }">
                <img [src]="list_of_stories[i]" (load)="display_stories_thumbnails(i)">
                <div class="story-bottom-container">
                    <span>Le {{get_date(item.createdAt)}}</span>
                </div>


                <button mat-icon-button class="optionsMenu"  [matMenuTriggerFor]="storyOptions">
                    <mat-icon class="optionsButton">more_vert</mat-icon>
                </button>
                <mat-menu  #storyOptions="matMenu">
                    
                    <button class="mat-menu-item" mat-menu-item (click)="hide_story(i)"> 	
                        <mat-icon class="item-icon">visibility_off</mat-icon>
                        <span>ne plus afficher</span>
                    </button>

                </mat-menu>


            </div>

        </div>

    </div>
    
    <!--!!!!!!!!!!!!!!!!-->
    <!--annonces-->
    <!--!!!!!!!!!!!!!!!!-->
    <div *ngIf="opened_album==4" >
        <div *ngIf="list_of_ads_added">
            <div *ngFor="let item of list_of_ads.slice(0,number_of_ads_to_show); let i = index" style="margin-top:40px">
                <app-thumbnail-ad 
                [item]=item
                now_in_seconds={{now_in_seconds}}
                ></app-thumbnail-ad>
            </div>
        </div>
    </div>

</div>



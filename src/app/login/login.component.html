



<div class="popup-container" *ngIf="!reset_password_menu && !delete_account">
    <button mat-button class="mat-icon-button position" (click)="close_dialog()" tabIndex="-1">
        <mat-icon class="item-icon" >close</mat-icon>
    </button>
    <div class="popup-step" >

        <div class="back-and-logo">
            <div class="logo" style="width:40px">
                <img class="logo" (load)="logo_loaded()" src='../../assets/img/svg/Logo-LA3.svg' [ngClass]="{'invisible':!logo_is_loaded}">
            </div>
        </div>
        <div class="step-name">
            <span>Connexion</span>
        </div>
        <div class="step-form" [formGroup]="loginForm">

            <div class="form-item">
                <mat-form-field>
                    <mat-label>E-mail</mat-label>
                    <input matInput formControlName="username" autocomplete="off">
                </mat-form-field>
            </div>
            
            <div class="form-item">
                <mat-form-field style="position:relative">
                    <mat-label>Mot de passe</mat-label>
                    <input matInput formControlName="password" [type]="hide ? 'password' : 'text'" autocomplete="off">
                    <div class="error" *ngIf="display_wrong_data">Le mot de passe ou l'email sont incorrectes
                    </div>
                    <div class="error" *ngIf="display_old_password">Ce mot de passe n'est plus d'actualité
                    </div>
                    <div class="error" *ngIf="display_error_group">La création de ce groupe n'a pas encore été validée par tous ses membres
                    </div>
                    
                    <div style="margin:auto auto; position:absolute;right: 5px;top:5px;cursor: pointer;">
                        <mat-icon class="item-icon" style="color: #162644;     font-size: 20px;"  (click)="change_password_type()" >remove_red_eye</mat-icon>
                    </div>
                </mat-form-field>
            </div>

        </div>


        <div class="step-validation">

            <button mat-raised-button [disabled]="loading" class="submit-button style1" (click)="login();">
                <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
                <span *ngIf="!loading" style=" font-size: 16px;">Se connecter</span>
            </button>

        </div>
        
        <div style="display: flex;height: 40px;width: 400px;">
            <div (click)="signup()" class="btn btn-link" style="margin:auto auto auto 0px;cursor:pointer;     font-size: 12px;     color: #203864;">S'inscrire</div>
            <div (click)="open_reset_password()" class="btn btn-link" style="margin:auto 0px auto auto; cursor:pointer;font-size: 12px;     color: #203864;">Mot de passe oublié</div>
        </div>

    </div>
</div>




<div class="popup-container" *ngIf="reset_password_menu && !delete_account">
    
    <button mat-button class="mat-icon-button position" (click)="close_dialog()" tabIndex="-1">
        <mat-icon class="item-icon" >close</mat-icon>
    </button>
    <div class="popup-step">
        <div class="back-and-logo">
            <div class="back-button">
                <button mat-raised-button class="style0" (click)="open_connexion_menu();">
                    <span>Retour</span>
                </button>
            </div>
            <div class="logo">
                logo
            </div>
        </div>

        
        <div class="step-name">
            <span>Récupérer mon mot de passe</span>
        </div>
        <div class="step-form" [formGroup]="ResetPasswordForm">

            <div class="form-item">
                <mat-form-field>
                    <mat-label>Adresse mail</mat-label>
                    <input matInput formControlName="mail_recuperation" autocomplete="off">
                    <mat-error *ngIf="ResetPasswordForm.controls['mail_recuperation'].invalid">Veuillez faire une saisie valide
                    </mat-error>
                </mat-form-field>
            </div>
            
        </div>

        <div class="step-validation">
            <button mat-raised-button [disabled]="loading" class="submit-button style0" (click)="onSubmitReset();">
                <span>Envoyer</span>
            </button>
        </div>


    </div>



</div>

<div class="popup-container" *ngIf="delete_account">
    <button mat-button class="mat-icon-button position" (click)="close_dialog()" tabIndex="-1">
        <mat-icon class="item-icon" >close</mat-icon>
    </button>

    <div class="popup-step" *ngIf="step_deletion==0">

        <div class="back-and-logo">
            <div class="logo" style="width:40px">
                <img class="logo" (load)="logo_loaded()" src='../../assets/img/svg/Logo-LA3.svg' [ngClass]="{'invisible':!logo_is_loaded}">
            </div>
        </div>
        <div class="step-name">
            <span>Authentification</span>
        </div>
        <div class="step-form" [formGroup]="loginForm">

            <div class="form-item">
                <mat-form-field>
                    <mat-label>E-mail</mat-label>
                    <input matInput formControlName="username" autocomplete="off">
                </mat-form-field>
            </div>
            
            <div class="form-item">
                <mat-form-field style="position:relative">
                    <mat-label>Mot de passe</mat-label>
                    <input matInput formControlName="password" [type]="hide ? 'password' : 'text'" autocomplete="off">
                    <div class="error" *ngIf="display_wrong_data">Le mot de passe ou l'email sont incorrectes
                    </div>
                    <div class="error" *ngIf="display_old_password">Ce mot de passe n'est plus d'actualité
                    </div>
                    <div class="error" *ngIf="display_error_group">La création de ce groupe n'a pas encore été validée par tous ses membres
                    </div>
                    
                    <div style="margin:auto auto; position:absolute;right: 5px;top:5px;cursor: pointer;">
                        <mat-icon class="item-icon" style="color: #162644;     font-size: 20px;"  (click)="change_password_type()" >remove_red_eye</mat-icon>
                    </div>
                </mat-form-field>
            </div>

        </div>


        <div class="step-validation">

            <button mat-raised-button [disabled]="loading" class="submit-button style1" (click)="account_deletion(0);">
                <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
                <span *ngIf="!loading" style=" font-size: 16px;">S'authentifier</span>
            </button>

        </div>


    </div>


    <div class="popup-step" *ngIf="step_deletion==1">

        <div class="back-and-logo">
            <div class="logo" style="width:40px">
                <img class="logo" (load)="logo_loaded()" src='../../assets/img/svg/Logo-LA3.svg' [ngClass]="{'invisible':!logo_is_loaded}">
            </div>
        </div>
        <div class="step-name">
            <span *ngIf="usage=='delete_account'">Veuillez selectionner un motif de suppression</span>
            <span *ngIf="usage!='delete_account'">Veuillez selectionner un motif de suspension</span>
        </div>
        

        <div class="step-validation">

            <button mat-raised-button [disabled]="loading" class="submit-button style1" (click)="account_deletion(1);">
                <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
                <span *ngIf="!loading && usage=='delete_account'" style=" font-size: 16px;">Suivant</span>
                <span *ngIf="!loading && usage!='delete_account'" style=" font-size: 16px;">Valider et suspendre mon compte</span>
            </button>

        </div>


    </div>
 

    
    <div class="popup-step" *ngIf="step_deletion==2">

        <div class="back-and-logo">
            <div class="logo" style="width:40px">
                <img class="logo" (load)="logo_loaded()" src='../../assets/img/svg/Logo-LA3.svg' [ngClass]="{'invisible':!logo_is_loaded}">
            </div>
        </div>
        <div class="step-name">
            <span>Veuillez vous authentifier une dernière fois</span>
        </div>
        <div class="step-form" [formGroup]="loginForm">

            <div class="form-item">
                <mat-form-field>
                    <mat-label>E-mail</mat-label>
                    <input matInput formControlName="username" autocomplete="off">
                </mat-form-field>
            </div>
            
            <div class="form-item">
                <mat-form-field style="position:relative">
                    <mat-label>Mot de passe</mat-label>
                    <input matInput formControlName="password" [type]="hide ? 'password' : 'text'" autocomplete="off">
                    <div class="error" *ngIf="display_wrong_data">Le mot de passe ou l'email sont incorrectes
                    </div>
                    <div class="error" *ngIf="display_old_password">Ce mot de passe n'est plus d'actualité
                    </div>
                    <div class="error" *ngIf="display_error_group">La création de ce groupe n'a pas encore été validée par tous ses membres
                    </div>
                    
                    <div style="margin:auto auto; position:absolute;right: 5px;top:5px;cursor: pointer;">
                        <mat-icon class="item-icon" style="color: #162644;     font-size: 20px;"  (click)="change_password_type()" >remove_red_eye</mat-icon>
                    </div>
                </mat-form-field>
            </div>

        </div>


        <div class="step-validation">

            <button mat-raised-button [disabled]="loading" class="submit-button style1" (click)="account_deletion(2);">
                <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
                <span *ngIf="!loading" style=" font-size: 16px;">Valider et supprimer mon compte</span>
            </button>

        </div>


    </div>


</div>
<div style="display:block">

    <!-- ***************************RECHERCHE PAR STYLE ET GENRE *********************-->
    <div class="main-title" *ngIf="display_title_style_and_tags">
        Recherche par style et par genre
    </div>

    <ng-container *ngIf="opened_section==2">
        <div class="categories-container">
            <div class="categories-titles-container title-selected-container" >
                <span class="category-title" >{{category_to_show}}</span>
            </div>
        </div>
        <div class="second-categories-container">
            <div class="second-categories-left">
                <div class="second-categories-titles-container" (click)="change_first_filter_selected_sg(i)" *ngFor="let item of first_filters[indice_title_selected];let i=index" [ngClass]="{'title-selected-container': first_filter_selected==i }">
                    <span class="second-category-title" >{{item}}</span>
                </div>
                <div class="second-categories-titles-container-tags" (click)="change_second_filter_selected_sg(i)" *ngFor="let item of second_filters[indice_title_selected];let i=index" [ngClass]="{'title-selected-container-tags': second_filter_selected==i }">
                    <span class="second-category-title" >{{item}}</span>
                </div>
            </div>
            
        </div>
    </ng-container>
   
    


<!-- ***************************RECHERCHE PAR MOTS *********************-->
    <div class="main-title" *ngIf="display_title">
        Meilleures résultats pour : {{research_string}}
    </div>
    <ng-container *ngIf="display_no_results">
        Aucun résultat pour la recherche demandée
    </ng-container>
    <ng-container *ngIf="display_results">
        <div class="categories-container">
            <div class="categories-titles-container" (click)="change_indice_title_selected(i)" *ngFor="let item of list_of_categories;let i=index" [ngClass]="{'title-selected-container': indice_title_selected==i }" >
                <span class="category-title" >{{item}}</span>
            </div>
        </div>
        <div class="second-categories-container">
            <div class="second-categories-left">
                <div class="second-categories-titles-container" (click)="change_first_filter_selected(i)" *ngFor="let item of first_filters[indice_title_selected];let i=index" [ngClass]="{'title-selected-container': first_filter_selected==i }">
                    <span class="second-category-title" >{{item}}</span>
                </div>
                <div class="second-categories-titles-container-tags" (click)="change_second_filter_selected(i)" *ngFor="let item of second_filters[indice_title_selected];let i=index" [ngClass]="{'title-selected-container-tags': second_filter_selected==i }">
                    <span class="second-category-title" >{{item}}</span>
                </div>
            </div>
            
        </div>
    </ng-container>
        <!--<div *ngIf="loading_propositions" class="loading-page">
            <mat-spinner diameter="30" ></mat-spinner>
        </div>-->
    <ng-container *ngIf="show_propositions">
        <div style="display:block;min-height:500px" *ngIf="!loading_propositions ">
            <div class="list-of-propositions" *ngFor="let item of list_of_first_propositions;let i=index" >

                <div class="item-row" *ngIf="item.publication_category=='Artist'">

                    <a href="/account/{{list_of_last_propositions[i].nickname}}/{{list_of_last_propositions[i].id}}" style="display:contents;">
                        <div class="result-container">
                          <div class="image-container">
                            <img [src]="list_of_thumbnails[i]"  (load)="pp_thumb_load(i)" [ngClass]="{'invisible': !pp_thumb_is_loaded[i] }">
                          </div>
                          <div class="name-container">
                            <span>{{list_of_last_propositions[i].nickname}}</span>
                          </div>
                          <div class="type-container">
                            <span>Artiste</span>
                          </div>
                        </div>
                      </a>
                </div>

                <div  *ngIf="item.publication_category=='Comic' " [ngClass]="{'invisible': !pp_thumb_is_loaded[i] }">
                <app-thumbnail-comics class="thumbnail-component-container" 
                        [item]=list_of_last_propositions[i]
                        [format]=item.format
                        now_in_seconds={{now_in_seconds}}
                        (send_number_of_thumbnails)="send_number_of_thumbnails( $event );"
                        (send_loaded)="pp_thumb_load(i);"
                    ></app-thumbnail-comics>
                </div>

                <div  *ngIf="item.publication_category=='Drawing' ">
                <app-thumbnail-drawing class="thumbnail-component-container" 
                        [item]=list_of_last_propositions[i]
                        [format]=item.format
                        now_in_seconds={{now_in_seconds}}
                    ></app-thumbnail-drawing>
                </div>

                <div  *ngIf="item.publication_category=='Writing' ">
                <app-thumbnail-writing class="thumbnail-component-container" 
                        [item]=list_of_last_propositions[i]
                        now_in_seconds={{now_in_seconds}}
                    ></app-thumbnail-writing>
                </div>
                
            </div>
            <div style="display:flex;margin:auto;    justify-content: center;">
                <span>page {{current_page}}/{{number_of_pages}}</span>
            </div>
            
        </div>
    </ng-container>
    
    <div style="display:flex;margin:auto" *ngIf="display_no_propositions">
        Aucune proposition pour la recherche demandée
    </div>
        
    
    
    

</div>

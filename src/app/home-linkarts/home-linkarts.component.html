<div class="home-linkarts" *ngIf="type_of_profile_retrieved">

    <div class="categories-container" [ngClass]="{'visitor': type_of_profile!='account' }">

        <div class="select-container">
            <mat-form-field floatLabel='never' [ngClass]="{'opened': homeLinkartsSelect && homeLinkartsSelect.panelOpen }">

                <mat-select #homeLinkartsSelect panelClass="homeLinkartsSelect" ng-animate-disabled
                [(value)]="category_index" disableOptionCentering
                (selectionChange)="sectionChange2($event.value)">
                    
                    <mat-select-trigger>
                        <ng-container *ngIf="category_index==0">
                            <div class="icon-container">
                                <div class="icon icon-recommendation">
                                </div>
                            </div>
                            <span>Recommandations</span>
                        </ng-container>
                        <ng-container *ngIf="category_index==1">
                            <div class="icon-container">
                                <div class="icon icon-trendings">
                                </div>
                            </div>
                            <span>Tendances</span>
                        </ng-container>
                        <ng-container *ngIf="category_index==2">
                            <div class="icon-container">
                                <div class="icon icon-newsfeed">
                                </div>
                            </div>
                            <span>Abonnements</span>
                        </ng-container>
                        <ng-container *ngIf="category_index==3">
                            <div class="icon-container">
                                <div class="icon icon-love">
                                </div>
                            </div>
                            <span>Coups de cœur</span>
                        </ng-container>
                        
                        <div class="arrow-container" [ngClass]="{'opened': homeLinkartsSelect && homeLinkartsSelect.panelOpen }">
                            <mat-icon>arrow_back_ios_new</mat-icon>
                        </div>
                    </mat-select-trigger>

                    


                    <mat-option [value]="0">
                        <div class="icon-container">
                            <div class="icon icon-recommendation">
                            </div>
                        </div>
                        <span>Recommandations</span>
                    </mat-option>
                    <mat-option [value]="1">
                        <div class="icon-container">
                            <div class="icon icon-trendings">
                            </div>
                        </div>
                        <span>Tendances</span>
                    </mat-option>
                    <mat-option [value]="2" *ngIf="type_of_profile=='account'">
                        <div class="icon-container">
                            <div class="icon icon-newsfeed">
                            </div>
                        </div>
                        <span>Abonnements</span>
                    </mat-option>
                    <mat-option [value]="3">
                        <div class="icon-container">
                            <div class="icon icon-love">
                            </div>
                        </div>
                        <span>Coups de cœur</span>
                    </mat-option>
                </mat-select>

            </mat-form-field>
        </div>

        <div class="swiper-container">
            <div  #swiperCategories  class="swiper-item" >
                <div class="swiper-wrapper">

                    <div class="swiper-slide">
                        <a class="category" [routerLink]=get_category(0) [ngClass]="{'opened': category_index==0 }">
                            <div class="icon-container">
                                <div class="icon icon-recommendation">
                                </div>
                            </div>
                            <span>Recommandations</span>
                        </a>
                    </div>
                    <div class="swiper-slide">
                        <a class="category" [routerLink]=get_category(1) [ngClass]="{'opened': category_index==1 }">
                            <div class="icon-container">
                                <div class="icon icon-trendings">
                                </div>
                            </div>
                            <span>Tendances</span>
                        </a>
                    </div>
                    <div class="swiper-slide" *ngIf="type_of_profile=='account'">
                        <a class="category" [routerLink]=get_category(2) [ngClass]="{'opened': category_index==2 }">
                            <div class="icon-container">
                                <div class="icon icon-newsfeed">
                                </div>
                            </div>
                            <span>Abonnements</span>
                        </a>
                    </div>
                    <div class="swiper-slide">
                        <a class="category" [routerLink]=get_category(3) [ngClass]="{'opened': category_index==3 }">
                            <div class="icon-container">
                                <div class="icon icon-love">
                                </div>
                            </div>
                            <span>Coups de cœur</span>
                        </a>
                    </div>

                </div>
            </div>
            <div class="button-prev-shadow" *ngIf="swiper" [ngClass]="{'invisible': swiper.isBeginning }"></div>
            <div class="button-next-shadow" *ngIf="swiper" [ngClass]="{'invisible': swiper.isEnd }"></div>
            <div class="swiper-button-prev" [ngClass]="{'invisible': swiper && swiper.isBeginning && swiper.isEnd }"></div>
            <div class="swiper-button-next" [ngClass]="{'invisible': swiper && swiper.isBeginning && swiper.isEnd }"></div>
        </div>

    </div>

   

    
</div>

<ng-container *ngIf="type_of_profile_retrieved">

    <div *ngIf="categories_to_load[0]" [ngClass]="{'really-invisible':category_index!=0}">
        <app-recommendations
        [status]="status[0]"></app-recommendations>
    </div>
    <div *ngIf="categories_to_load[1]" [ngClass]="{'really-invisible':category_index!=1}" >
        <app-trendings
        [status]="status[1]"></app-trendings>
    </div>
    <div  *ngIf="type_of_profile=='account' && categories_to_load[2]"  [ngClass]="{'really-invisible':category_index!=2}">
        <app-subscribings
        ></app-subscribings>
    </div>
    <div  *ngIf="categories_to_load[3]"   [ngClass]="{'really-invisible':category_index!=3}">
        <app-favorites></app-favorites>
    </div>
</ng-container>


<!--<div *ngIf="category_index==0" >
    <app-recommendations></app-recommendations>
</div>
<div *ngIf="category_index==1" >
    <app-trendings></app-trendings>
</div>
<div *ngIf="category_index==2" >
    <app-subscribings></app-subscribings>
</div>
<div *ngIf="category_index==3" >
    <app-favorites></app-favorites>
</div>-->


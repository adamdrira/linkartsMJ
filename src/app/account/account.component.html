


<div class="container-fluid account" *ngIf="page_not_found">
    <app-page-not-found></app-page-not-found>
</div>

<div class="fake-navbar" *ngIf="for_reset_password">
    <a href="/" class="logo-container">
        <img class="logo" src='../../assets/img/svg/Logo-LA3-17-01.svg'>
    </a>
</div>

<div #main_container class="container-fluid account" *ngIf="!(list_writings_added && list_drawings_artbook_added
&& list_drawings_onepage_added && list_bd_series_added && list_bd_oneshot_added && user_blocked_retrieved) && !page_not_found">
        
    <div class="account-container shiny">

        <div  class="profile">

            <div class="profile-picture shiny" ></div>
            
            
            <div  class="profile-information">
                <div class="profile-name">
                    <div class="loading shiny">
                    </div>
                </div>

                <div class="profile-text" >	
                    <div class="loading1 shiny">
                    </div>
                </div>

                <div class="profile-text">
                    <div class="loading2 shiny">
                    </div>
                </div>

                <div class="profile-text" >
                    <div class="loading1 shiny">
                    </div>
                </div>

                <div class="profile-text" >
                    <div class="loading2 shiny">
                    </div>
                </div>
            </div>
            
        </div>
    </div>
    
    <div class="panel-controller" >
        
        <div class="middle-container">
            <div class="loading shiny">
            </div>
            <div class="loading shiny">
            </div>
            <div class="loading shiny">
            </div>
            <div class="loading shiny">
            </div>
            <div class="loading shiny">
            </div>
            <div class="loading shiny">
            </div>
        </div>

            
        <div class="small-screen-categories component-account">
            <div class="loading-container">
                <div class="loading shiny">
                </div>
            </div>
            
        </div>
    </div>

</div>


<div class="container-fluid account " #main_container [ngClass]="{'invisible2': !(list_writings_added && list_drawings_artbook_added
&& list_drawings_onepage_added && list_bd_series_added && list_bd_oneshot_added && user_blocked_retrieved)}">
        
    <div class="account-container" [ngClass]="{'really-invisible': !(list_writings_added && list_drawings_artbook_added
    && list_drawings_onepage_added && list_bd_series_added && list_bd_oneshot_added && user_blocked_retrieved)}">

        <img [src]="cover_picture" (load)="cover_loaded()" [ngClass]="{'invisible': !cover_is_loaded }" [alt]="'photo de couverture de '+author_name">

        <button *ngIf="!mode_visiteur && showEditCoverPic && !for_reset_password" class="change-cover-picture" (click)="change_cover_picture();">
            <mat-icon [ngClass]="{'invisible': !show_icon }">camera_alt</mat-icon>
            <span>Changer ma photo de couverture</span>
        </button>

        <!--------------------------------------------------------------------------------->
        <!--------------------------------------------------------------------------------->
        <!-----------------------------------PROFIL---------------------------------------->
        <!--------------------------------------------------------------------------------->
        <!--------------------------------------------------------------------------------->
        <div #profileHovered class="profile">

            <ng-container *ngIf="!user_blocked && !profile_not_found && user_blocked_retrieved && !for_reset_password">
                <div *ngIf="mode_visiteur && type_of_profile_retrieved " class="visitor-buttons-container">
                    <button (click)="open_chat_link()">
                            <mat-icon [ngClass]="{'invisible': !show_icon }" >send</mat-icon>
                            <span>Écrire</span>
                    </button>
                    <button *ngIf="!already_subscribed " [disabled]="loading_subscribtion" (click)="subscribtion()">
                        <mat-icon [ngClass]="{'invisible': !show_icon }">person_add</mat-icon>
                        <span>S'abonner</span>
                    </button>
                    <button *ngIf="already_subscribed" [disabled]="loading_subscribtion" (click)="subscribtion()">
                       <mat-icon [ngClass]="{'invisible': !show_icon }">notifications_active</mat-icon> 
                        <span>Abonné(e)</span>
                    </button>
                </div>
            </ng-container>

            

            
            <button *ngIf="user_blocked_retrieved && !profile_not_found && type_of_profile=='account' && mode_visiteur && !(user_blocked && user_who_blocked!='me')" class="profile-mat-menu" [ngClass]="{'opacity1': openedMenu=='0profile' }" (menuClosed)="menuClosed();" (menuOpened)="menuOpened(0,'profile');" [matMenuTriggerFor]="options">
                <mat-icon [ngClass]="{'invisible': !show_icon }">more_vert</mat-icon>
            </button>
            <mat-menu #options="matMenu" xPosition='before' class="account-mat-menu">
                <button *ngIf="!user_blocked " class="account-mat-menu-item" tabIndex="-1" mat-menu-item (click)=block_user()> 	
                    <mat-icon [ngClass]="{'invisible': !show_icon }">report</mat-icon>
                    <span>Bloquer</span>
                </button>
                <button *ngIf="user_blocked && user_who_blocked=='me' && mode_visiteur" class="account-mat-menu-item" tabIndex="-1" mat-menu-item (click)="unblock_user()"> 	
                    <mat-icon [ngClass]="{'invisible': !show_icon }">report_off</mat-icon>
                    <span>Débloquer</span>
                </button>
                <button *ngIf="!user_blocked" class="account-mat-menu-item" tabIndex="-1" mat-menu-item (click)="report()"> 	
                    <mat-icon [ngClass]="{'invisible': !show_icon }">flag</mat-icon>
                    <span>Signaler</span>
                </button>
            </mat-menu>


            <button *ngIf="!profile_not_found && !mode_visiteur && !for_reset_password" class="profile-mat-menu" [ngClass]="{'opacity1': openedMenu=='0profile' }" (click)="open_section(6,true,0);">
                <mat-icon [ngClass]="{'invisible': !show_icon }"
                matTooltip="Éditer mon profil" 
                matTooltipClass='linkarts-tooltip' 
                [matTooltipPosition]="'below'"
                [matTooltipShowDelay]="200">edit</mat-icon>
            </button>

            <button *ngIf="!profile_not_found && !mode_visiteur && !for_reset_password" class="change-profile-picture"   (click)="change_profile_picture();" [ngClass]="{'invisible': !show_icon || !pp_is_loaded}">
                <mat-icon 
                matTooltip="Changer ma photo de profil" 
                matTooltipClass='linkarts-tooltip' 
                [matTooltipPosition]="'below'"
                [matTooltipShowDelay]="200">camera_alt</mat-icon>
            </button>

            <div class="profile-picture" [ngClass]="{'visiteur': mode_visiteur && (!story_retrieved || !story_found),'new-story': story_state }">
                
                <img [src]="profile_picture" (load)="pp_loaded()" [ngClass]="{'invisible': !pp_is_loaded }" [alt]="'photo de profil de '+author_name">
                
                <ng-container *ngIf="!mode_visiteur && mode_visiteur_added && story_retrieved && !for_reset_password">
                    <div *ngIf="story_found" class="watch-top-story" (click)="watch_story();">
                        <mat-icon [ngClass]="{'invisible': !show_icon }">play_circle_outline</mat-icon>
                        <span>Voir ma Story</span>
                    </div>
                    <div  class="change-story-picture" [ngClass]="{'watch-story':!story_found}" (click)="add_story();">
                        <mat-icon [ngClass]="{'invisible': !show_icon }">add_circle_outline</mat-icon>
                        <span>Publier dans ma Story</span>
                    </div>
                </ng-container>
                <ng-container *ngIf="mode_visiteur && mode_visiteur_added && story_retrieved && story_found  && type_of_profile=='account' && !for_reset_password">
                    <div  class="change-story-picture  watch-story" (click)="watch_story();">
                        <mat-icon [ngClass]="{'invisible': !show_icon }">play_circle_outline</mat-icon>
                        <span>Voir la story</span>
                    </div>
                </ng-container>
               
            </div>
            
            <h1 class="main-title">{{h1}}</h1>
            <div *ngIf="mode_visiteur_added" class="profile-information">
                <div class="profile-name">
                    <span class="author-name">{{author_name}} 
                        
                        <mat-icon [ngClass]="{'invisible': !show_icon }" *ngIf="certified_account"
                        matTooltip="Compte certifié" 
                        matTooltipClass='linkarts-tooltip' 
                        [matTooltipPosition]="'below'"
                        [matTooltipShowDelay]="200">verified</mat-icon>

                    </span>
                </div>
                <div class="profile-description">
                    <span *ngIf="primary_description!=null">{{primary_description}}</span>
                </div>

                <div class="profile-text" *ngIf="pseudo">	
                    <mat-icon [ngClass]="{'invisible': !show_icon }"
                    matTooltip='Pseudonyme' 
                    matTooltipClass='tooltip-account-profile' 
                    [matTooltipPosition]="'below'"
                    [matTooltipShowDelay]="200">alternate_email</mat-icon>
                    <span>{{pseudo}}</span>
                </div>

                <div class="profile-text" *ngIf="user_location">
                    <mat-icon [ngClass]="{'invisible': !show_icon }"
                    matTooltip='Localisation' 
                    matTooltipClass='tooltip-account-profile' 
                    [matTooltipPosition]="'below'"
                    [matTooltipShowDelay]="200">location_on</mat-icon>
                    <span>{{user_location}}</span>
                </div>
                <div class="profile-text" *ngIf="type_of_account">
                    <mat-icon [ngClass]="{'invisible': !show_icon }"
                    matTooltip='Profil' 
                    matTooltipClass='tooltip-account-profile' 
                    [matTooltipPosition]="'below'"
                    [matTooltipShowDelay]="200">account_circle</mat-icon>

                    <span>{{type_of_account}}
                        

                    </span>
                </div>
                

            </div>
            
        </div>
        <!--------------------------------------------------------------------------------->
        <!--------------------------------------------------------------------------------->
        <!-------------------------------FIN-PROFIL---------------------------------------->
        <!--------------------------------------------------------------------------------->
        <!--------------------------------------------------------------------------------->
    </div>
    

    <!--------------------------------------------------------------------------------->
    <!--------------------------------------------------------------------------------->
    <!------------------------------- BOUTONS CONTROLLER------------------------------->
    <!--------------------------------------------------------------------------------->
    <!--------------------------------------------------------------------------------->

    
    <!--------------------------------------------------------------------------------->
    <!--------------------------------------------------------------------------------->
    <div class="panel-controller" *ngIf="!user_blocked && user_blocked_retrieved && !profile_not_found && !for_reset_password">
        
        <div class="middle-container">
            <div class="absolute-background-color" #absoluteBackgroundColor></div>

            <div #buttonSection>
                <button *ngIf="!my_profile_is_suspended" [ngClass]="{'opened': opened_section == 0 }" (click)="open_section(0,true,0);">
                    <mat-icon [ngClass]="{'invisible': !show_icon }">home</mat-icon>
                    <h2>Accueil</h2>
                </button>
            </div>
            <div #buttonSection >
                <button *ngIf="!my_profile_is_suspended" [ngClass]="{'opened': opened_section == 1 }" (click)="open_section(1,true,0);">
                    <mat-icon [ngClass]="{'invisible': !show_icon }" >auto_stories</mat-icon>
                    <h2 *ngIf="!type_of_account.includes('dit')">Œuvres ({{number_of_artpieces}})</h2>
                    <h2 *ngIf="type_of_account.includes('dit')">Extraits d'œuvres ({{number_of_artpieces}})</h2>
                </button>
            </div>
            <div #buttonSection>
                <button [ngClass]="{'opened': opened_section == 2 }" (click)="open_section(2,true,0);">
                    <mat-icon [ngClass]="{'invisible': !show_icon }">announcement</mat-icon>
                    <h2>Annonces ({{list_of_ads.length}})</h2>
                </button>
            </div>
            <div #buttonSection>
                <button [ngClass]="{'opened': opened_section == 3 }" *ngIf="!mode_visiteur" (click)="open_section(3,true,0);">
                    <mat-icon [ngClass]="{'invisible': !show_icon }">archive</mat-icon>
                    <h2>Projets</h2>
                </button>
            </div>

            
            <div #buttonSection >
                <!--<button *ngIf="!my_profile_is_suspended" [ngClass]="{'opened': opened_section == 4 }" (click)="see_subscribers();">
                    <mat-icon [ngClass]="{'invisible': !show_icon }">group</mat-icon>
                    <h2>Abonnés ({{subscribed_users_list.length}})</h2>
                </button>-->
            </div>
            <div #buttonSection  >
                <!--<button *ngIf="!my_profile_is_suspended" [ngClass]="{'opened': opened_section == 5 }" (click)="see_subscribings();">
                    <mat-icon [ngClass]="{'invisible': !show_icon }">subscriptions</mat-icon>
                    <h2>Abonnements ({{users_subscribed_to_list.length}})</h2>
                </button>-->
            </div>
            <div #buttonSection>
                <button *ngIf="!mode_visiteur" [ngClass]="{'opened': opened_section == 6 }" (click)="open_section(6,true,0);">
                   
                    <div class="profile-picture">
                        <img [src]="profile_picture" (load)="pp_loaded()" [ngClass]="{'invisible': !pp_is_loaded }" [alt]="'photo de profil de '+author_name">
                    </div>
                    <h2>Profil & Stat.</h2>
                </button>
            </div>
            <div #buttonSection>
                <button *ngIf="!mode_visiteur && !my_profile_is_suspended" [ngClass]="{'opened': opened_section == 7 }" (click)="open_section(7,true,0);">
                    <mat-icon [ngClass]="{'invisible': !show_icon }">bookmarks</mat-icon>
                    <h2>Archives</h2>
                </button>
            </div>
            <div #buttonSection>
                <button *ngIf="!mode_visiteur" [ngClass]="{'opened': opened_section == 8 }" (click)="open_section(8,true,0);">
                    <mat-icon [ngClass]="{'invisible': !show_icon }">settings</mat-icon>
                    <h2>Compte</h2>
                </button>
            </div>
            
            <a href="/add-artwork" *ngIf="!my_profile_is_suspended">
                <button *ngIf="!mode_visiteur">
                    <mat-icon [ngClass]="{'invisible': !show_icon }">add_circle_outline</mat-icon>
                    <h2>Publier</h2> 
                </button>
            </a>
        </div>

            
        <div class="h2-small-screen">
            <h2>Accueil</h2>
            <h2>Œuvres</h2>
            <h2>Extraits d'œuvres</h2>
            <h2>Annonces</h2>
            <h2>Projets</h2>
            <h2>Profil & Stat.</h2>
            <h2>Archives</h2>
            <h2>Compte</h2>
            <h2>Publier</h2>
        </div>
        
        <div class="small-screen-categories component-account">
            <mat-form-field floatLabel='never'>
                <mat-select  #accountSelect panelClass="accountCategorySelectClass" [(value)]="opened_section_small" disableOptionCentering (selectionChange)="onCategoryChange($event)">
                    
                    <mat-select-trigger>
                        <ng-container *ngIf="opened_section==0">
                            <mat-icon [ngClass]="{'invisible': !show_icon }">home</mat-icon>
                            <span>Accueil</span>
                        </ng-container>
                        <ng-container *ngIf="opened_section==1">
                            <mat-icon [ngClass]="{'invisible': !show_icon }">auto_stories</mat-icon>
                            <span *ngIf="!type_of_account.includes('dit')">Œuvres ({{number_of_artpieces}})</span>
                            <span *ngIf="type_of_account.includes('dit')">Extraits d'œuvres ({{number_of_artpieces}})</span>
                        </ng-container>
                        <ng-container *ngIf="opened_section==2">
                            <mat-icon [ngClass]="{'invisible': !show_icon }">announcement</mat-icon>
                            <span>Annonces ({{list_of_ads.length}})</span>
                        </ng-container>
                        <ng-container *ngIf="opened_section==3">
                            <mat-icon [ngClass]="{'invisible': !show_icon }">archive</mat-icon>
                            <span>Projets</span>
                        </ng-container>
                        <!--<ng-container *ngIf="opened_section==4">
                            <mat-icon [ngClass]="{'invisible': !show_icon }">group</mat-icon>
                            <span>Abonnés ({{subscribed_users_list.length}})</span>
                        </ng-container>
                        <ng-container *ngIf="opened_section==5">
                            <mat-icon [ngClass]="{'invisible': !show_icon }">subscriptions</mat-icon>
                            <span>Abonnements ({{users_subscribed_to_list.length}})</span>
                        </ng-container>-->
                        <ng-container *ngIf="opened_section==6">
                            
                            <div class="profile-picture">
                                <img [src]="profile_picture" (load)="pp_loaded()" [ngClass]="{'invisible': !pp_is_loaded }" [alt]="'photo de profil de '+author_name">
                            </div>
                            <span>Profil & Stat.</span>
                        </ng-container>
                        <ng-container *ngIf="opened_section==7">
                            <mat-icon [ngClass]="{'invisible': !show_icon }">bookmarks</mat-icon>
                            <span>Archives</span>
                        </ng-container>
                        <ng-container *ngIf="opened_section==8">
                            <mat-icon [ngClass]="{'invisible': !show_icon }">settings</mat-icon>
                            <span>Compte</span>
                        </ng-container>
                        <ng-container *ngIf="opened_section==9">
                            <mat-icon [ngClass]="{'invisible': !show_icon }">add_circle_outline</mat-icon>
                            <span>Publier</span>
                        </ng-container>
                    </mat-select-trigger>

                    <mat-option [value]="0" *ngIf="!my_profile_is_suspended">
                        <mat-icon [ngClass]="{'invisible': !show_icon }">home</mat-icon>
                        <span>Accueil</span>
                    </mat-option>
                    <mat-option [value]="1" *ngIf="!my_profile_is_suspended">
                        <mat-icon [ngClass]="{'invisible': !show_icon }">auto_stories</mat-icon>
                        <span *ngIf="!type_of_account.includes('dit')">Œuvres ({{number_of_artpieces}})</span>
                        <span *ngIf="type_of_account.includes('dit')">Extraits d'œuvres ({{number_of_artpieces}})</span>
                    </mat-option>
                    <mat-option [value]="2">
                        <mat-icon [ngClass]="{'invisible': !show_icon }">announcement</mat-icon>
                        <span>Annonces ({{list_of_ads.length}})</span>
                    </mat-option>
                    <mat-option [value]="3" *ngIf="!mode_visiteur">
                        <mat-icon [ngClass]="{'invisible': !show_icon }">archive</mat-icon>
                        <span>Projets</span>
                    </mat-option>
                    <!--<mat-option [value]="4" *ngIf="!my_profile_is_suspended" (click)="stop_event($event);see_subscribers();" disabled>
                        <mat-icon [ngClass]="{'invisible': !show_icon }">group</mat-icon>
                        <span>Abonnés ({{subscribed_users_list.length}})</span>
                    </mat-option>
                    <mat-option [value]="5" *ngIf="!my_profile_is_suspended" (click)="stop_event($event);see_subscribings();" disabled>
                        <mat-icon [ngClass]="{'invisible': !show_icon }">subscriptions</mat-icon>
                        <span>Abonnements ({{users_subscribed_to_list.length}})</span>
                    </mat-option>-->
                    <mat-option [value]="6" *ngIf="!mode_visiteur">
                        <div class="profile-picture">
                            <img [src]="profile_picture" (load)="pp_loaded()" [ngClass]="{'invisible': !pp_is_loaded }" [alt]="'photo de profil de '+author_name">
                        </div>
                        <span>Profil & Stat.</span>
                    </mat-option>
                    <mat-option [value]="7" *ngIf="!mode_visiteur && !my_profile_is_suspended">
                        <mat-icon [ngClass]="{'invisible': !show_icon }">bookmarks</mat-icon>
                        <span>Archives</span>
                    </mat-option>
                    <mat-option [value]="8" *ngIf="!mode_visiteur">
                        <mat-icon [ngClass]="{'invisible': !show_icon }">settings</mat-icon>
                        <span>Compte</span>
                    </mat-option>
                    <mat-option [value]="9" *ngIf="!my_profile_is_suspended && !mode_visiteur">
                        <mat-icon [ngClass]="{'invisible': !show_icon }">add_circle_outline</mat-icon>
                        <span>Publier</span>
                    </mat-option>
                </mat-select>
            </mat-form-field>
        </div>
    </div>

    <div class="panel-controller" *ngIf="for_reset_password">
        <div class="middle-container-password">
            <div #buttonSection>
                <button *ngIf="!page_not_found">
                    <mat-icon [ngClass]="{'invisible': !show_icon }">settings</mat-icon>
                    <span >Réinitialisation du mot de passe</span>
                </button>
                <button *ngIf="page_not_found">
                    <mat-icon [ngClass]="{'invisible': !show_icon }">settings</mat-icon>
                    <span >Session expirée</span>
                </button>
            </div>
        </div>
    </div>

    <!--------------------------------------------------------------------------------->
    <!--------------------------------------------------------------------------------->
    <!----------------------------FIN BOUTONS CONTROLLER------------------------------->
    <!--------------------------------------------------------------------------------->
    <!--------------------------------------------------------------------------------->


    
        
    <!--------------------------------------------------------------------------------->
    <!--------------------------------------------------------------------------------->
    <!-------------------------------PAGE COMPTE BLQUÉ--------------------------------->
    <!--------------------------------------------------------------------------------->
    <!--------------------------------------------------------------------------------->
    
    <div *ngIf="user_blocked && user_blocked_retrieved" class="blocked-user-container">
        <mat-icon [ngClass]="{'invisible': !show_icon }">error_outline</mat-icon>
        <span *ngIf="user_who_blocked=='me'">Vous avez bloqué cet utilisateur et ne pouvez plus accéder à son profil</span>
        <span *ngIf="user_who_blocked!='me'">Compte suspendu</span>
    </div>
    <div *ngIf="profile_not_found" class="blocked-user-container">
        <mat-icon [ngClass]="{'invisible': !show_icon }">error_outline</mat-icon>
        <span *ngIf="profile_suspended">Compte suspendu</span>
        <span *ngIf="!profile_suspended">Compte supprimé</span>
    </div>

    <div class="bottom-page-container" *ngIf="!user_blocked && user_blocked_retrieved" [ngClass]="{'really-invisible': !(list_writings_added && list_drawings_artbook_added
    && list_drawings_onepage_added && list_bd_series_added && list_bd_oneshot_added && user_blocked_retrieved)}">
        <div class="bottom-page-top">
        </div>
        <div class="bottom-page-middle">
            <div >
                
                <!--------------------------------------------------------------------------------->
                <!--------------------------------------------------------------------------------->
                <!------------------------------------ACCUEIL-------------------------------------->
                <!--------------------------------------------------------------------------------->
                <!--------------------------------------------------------------------------------->
                <div *ngIf="opened_section==0 &&  list_writings_added && list_drawings_artbook_added
                    && list_drawings_onepage_added && list_bd_series_added && list_bd_oneshot_added && !profile_not_found && !my_profile_is_suspended " >
                
    

                    <div class="account-display-flex">
                        <div class="account-display-flex-left">
                            
                            <div class="block" *ngIf="gender=='Groupe' && type_of_account.includes('Artiste')">
                                <div class="top">
                                    <mat-icon [ngClass]="{'invisible': !show_icon }">group</mat-icon>
                                    <h3 >Liste des membres</h3>
                                </div>
                                <div class="bottom">
                                    <div *ngIf="!list_of_members_data_retrieved" class="skeletons-container" [@enterAnimation]>
                                        <div class="skeleton-story"></div>
                                        <div class="skeleton-story"></div>
                                        <div class="skeleton-story"></div>
                                    </div>
        
                                    <div class="stories-container" *ngIf="list_of_members_data_retrieved" [@enterAnimation]>
            
                                        <div class="stories-bar">
                                            <div  #swiperCategories  class="story-swiper-container">
                                                <div class="swiper-wrapper">
                                        
                                                    <div class="swiper-slide" *ngFor="let item of  list_of_members;let i=index">
                                                        <div class="story" (click)="get_member_url(i)">
                                                            <img class="background-image swiper-lazy"  [attr.data-src]="list_of_cover_pictures[i]" [lazyLoad]="list_of_cover_pictures[i]" loading="lazy" (load)="load_cover_list(i)" [ngClass]="{'invisible': !list_of_covers_loaded[i]}" >
                                                        <div class="img-container" [ngClass]="{'shiny': !list_of_pp_loaded[i]}" >
                                                                    <img class="img swiper-lazy" [attr.data-src]="list_of_profile_pictures[i]" [lazyLoad]="list_of_profile_pictures[i]"  loading="lazy" (load)="load_pp_list(i)" [ngClass]="{'invisible': !list_of_pp_loaded[i] }" style=" border:unset;   box-shadow: 0px 0px 2px 2px #f9f9f959;">
                                                            </div>
                                                            
                                                            <div class="author" >
                                                                {{list_of_members_names[i]}}
                                                            </div>
                                                        </div>
                                                    </div>
                                    
                                                </div>
                                            </div>
                                            
                                        </div>
                                        <!-- Add Arrows -->
                                        <div class="button-prev-shadow" style="background: transparent;" *ngIf="swiper" [ngClass]="{'invisible': swiper.isBeginning }"></div>
                                        <div class="button-next-shadow" style="background: transparent;" *ngIf="swiper" [ngClass]="{'invisible': swiper.isEnd }"></div>
                                        <div class="swiper-button-next stories-button" style="background: transparent;" [ngClass]="{'invisible': swiper && swiper.isBeginning && swiper.isEnd }"></div>
                                        <div class="swiper-button-prev stories-button" style="background: transparent;" [ngClass]="{'invisible': swiper && swiper.isBeginning && swiper.isEnd }"></div>
                                    </div>
                                </div>
                            </div>

                            <div class="block">
                                <div class="top">
                                    <mat-icon [ngClass]="{'invisible': !show_icon }">list</mat-icon>
                                    <h3 *ngIf="!type_of_account.includes('dit') && !type_of_account.includes('tes') ">Qui suis-je ?</h3>
                                    <h3 *ngIf="type_of_account.includes('dit') || type_of_account.includes('tes')">Qui sommes-nous ?</h3>

                                    <div class="right-button" *ngIf="!mode_visiteur" (click)="open_section(6,true,0);">
                                        <mat-icon [ngClass]="{'invisible': !show_icon }">edit</mat-icon>
                                        <span>Modifier</span>
                                    </div>
                                </div>
                                <div class="bottom">
                                    <div class="block-info">
                                        <mat-icon [ngClass]="{'invisible': !show_icon }"
                                        matTooltip='Profil' 
                                        matTooltipClass='tooltip-account-profile' 
                                        [matTooltipPosition]="'below'"
                                        [matTooltipShowDelay]="200">account_circle</mat-icon>
                                        <span>{{type_of_account}}</span>
                                    </div>
                                    


                                    <div class="block-info" *ngIf="primary_description_extended && primary_description_extended.length>0">
                                        <mat-icon [ngClass]="{'invisible': !show_icon }"
                                        matTooltip='Description' 
                                        matTooltipClass='tooltip-account-profile' 
                                        [matTooltipPosition]="'below'"
                                        [matTooltipShowDelay]="200">description</mat-icon>
                                        <div class="account-form-container">
                                            <div class="form-item">
                                                <mat-form-field floatLabel='never'>
                                                    <mat-label>{{primary_description_extended}}</mat-label>
                                                    <textarea matInput cdkTextareaAutosize readonly class="readonly">{{primary_description_extended}}</textarea>
                                                </mat-form-field>
                                            </div>
                                        </div>
                                        
                                    </div>
                                    <div class="block-info" *ngIf="!primary_description_extended && !mode_visiteur">
                                        <mat-icon [ngClass]="{'invisible': !show_icon }"
                                        matTooltip='Description' 
                                        matTooltipClass='tooltip-account-profile' 
                                        [matTooltipPosition]="'below'"
                                        [matTooltipShowDelay]="200">description</mat-icon>
                                        <span *ngIf="!type_of_account.includes('dit') && !type_of_account.includes('tist')" class="span-button">Ajouter une description afin de décrir vos ambitions et vos objectifs.</span>
                                        <span *ngIf="type_of_account.includes('tist')" class="span-button">Ajouter une description afin de décrir vos objectifs éditoriaux ainsi que vos atouts.</span>
                                        <span *ngIf="type_of_account.includes('dit')" class="span-button">Ajouter une description afin de décrir la maison d'édition que vous représentez.</span>
                                    </div>

                                </div>
                            </div>

                            

                            <div class="block" *ngIf="type_of_account.includes('dit') && list_of_artworks_retrieved && ((mode_visiteur && list_of_artworks.length > 0) || !mode_visiteur)">
                                <div class="top">
                                    <mat-icon [ngClass]="{'invisible': !show_icon }">auto_stories</mat-icon>
                                    <h3>Nos œuvres phares</h3>

                                    <div class="right-button" *ngIf="!mode_visiteur" (click)="open_add_editor_artwork()">
                                        <mat-icon [ngClass]="{'invisible': !show_icon }">add</mat-icon>
                                        <span>Ajouter</span>
                                    </div>
                                </div>
                                <div class="bottom d-flex flex-wrap">
                                    <div class="artwork-highlighted-thumbnail" *ngFor="let item of list_of_artworks ; let i = index">
                                        
                                        <div>

                                            <button class="optionsMenu" [matMenuTriggerFor]="albumOptions1" *ngIf="!mode_visiteur">
                                                <mat-icon [ngClass]="{'invisible': !show_icon }" class="optionsButton">more_vert</mat-icon>
                                            </button>
                                            <mat-menu class="account-mat-menu" xPosition='before' #albumOptions1="matMenu">
                                                <button class="account-mat-menu-item" mat-menu-item (click)="remove_editor_artwork(i)"> 	
                                                    <mat-icon [ngClass]="{'invisible': !show_icon }" class="item-icon">close</mat-icon>
                                                    <span>Supprimer</span>
                                                </button>
                                            </mat-menu>

                                            <div class="img">

                                                <div class="absolute-hover-data d-flex flex-column">
                                                    <span class="description" [ngStyle]="{'margin':!(item.link && item.link!='')? 'auto 5px auto 5px' : 'auto 5px 10px 5px'}">{{item.description}}</span>
                                                    <a  *ngIf="item.link && item.link!=''" [href]="item.link" target="_blank" class="link" (click)="add_flagship_click()">Découvrir</a>
                                                </div>
                                                <img [lazyLoad]="editor_pictures_by_name[item.picture_name]"   [customObservable]="scrollobs? scrollobs : null" loading="lazy" (load)="load_editor_picture(item.picture_name)"  [ngClass]="{'invisible':!editor_pictures_loaded[item.picture_name]}">
                                            </div>

                                            <div class="title-and-author">
                                                <div class="d-flex flex-column">
                                                    <span class="title">{{item.title}}</span>
                                                    <span class="authors">{{item.authors}}</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div *ngIf="list_of_artworks.length==0 && !loading_editor_artworks" class="bottom-no-content">
                                        <mat-icon [ngClass]="{'invisible': !show_icon }">info_outline</mat-icon>
                                        <span> Vous n'avez ajouté aucune œuvre phare</span>
                                    </div>
                                    <div *ngIf="loading_editor_artworks" class="bottom-no-content">
                                        <mat-spinner diameter="20" style="margin:auto" ></mat-spinner>
                                    </div>
                                    <div class="artwork-highlighted-thumbnail empty"></div>
                                    <div class="artwork-highlighted-thumbnail empty"></div>
                                    <div class="artwork-highlighted-thumbnail empty"></div>
                                    <div class="artwork-highlighted-thumbnail empty"></div>
                                    <div class="artwork-highlighted-thumbnail empty"></div>
                                    <div class="artwork-highlighted-thumbnail empty"></div>
                                    <div class="artwork-highlighted-thumbnail empty"></div>
                                    <div class="artwork-highlighted-thumbnail empty"></div>
                                </div>
                            </div>




                            <div class="block" *ngIf="(list_of_news && list_of_news.length>0 && mode_visiteur)  || !mode_visiteur">
                                <div class="top">
                                    <mat-icon [ngClass]="{'invisible': !show_icon }">whatshot</mat-icon>
                                    <h3 *ngIf="!type_of_account.includes('dit') && !type_of_account.includes('tes')">Mon actualité</h3>
                                    <h3 *ngIf="type_of_account.includes('dit') || type_of_account.includes('tes')">Notre actualité</h3>


                                    <div class="right-button" *ngIf="!mode_visiteur && !add_news_input" (click)="add_news();">
                                        <mat-icon [ngClass]="{'invisible': !show_icon }">add</mat-icon>
                                        <span>Ajouter une actualité</span>
                                    </div>
                                </div>
                                <div class="bottom" [formGroup]="newsForm">

                                    <div class="form-item-add-news" style="height:unset !important;" *ngIf="add_news_input">
                                        <mat-form-field floatLabel='never'>
                                            <mat-label >Ajouter une actualité ...</mat-label>
                                            <textarea matInput cdkTextareaAutosize formControlName="news" maxLength="200" autocomplete="off" (input)="normalize_input(newsForm, 'news');"></textarea>
                                            <mat-error *ngIf="newsForm.controls['news'].invalid">Saisie invalide : les espaces en début de saisie ne sont pas autorisés</mat-error>
                                            <div class="length-indicator">{{newsForm.controls['news'].value?.length || 0}}/200</div>

                                            <div class="send-news" *ngIf="newsForm.controls['news'].valid" (click)="send_news()">
                                                <span>Publier</span>
                                            </div>
                                            <div class="cancel-send-news" (click)="cancel_add_news()">
                                                <mat-icon [ngClass]="{'invisible': !show_icon }" class="optionsButton">close</mat-icon>
                                            </div>

                                        </mat-form-field>
                                    </div>

                                    <ng-container *ngFor="let item of list_of_news ; let i = index">
                                        <div class="news" *ngIf="number_of_news_limit>i">
                                            <div class="news-text">
                                                <span>{{item.piece_of_news}}</span>
                                                <div class="cancel-send-news move-cancel" *ngIf="!mode_visiteur" (click)="remove_user_news(i)">
                                                    <mat-icon [ngClass]="{'invisible': !show_icon }" class="optionsButton">close</mat-icon>
                                                </div>

                                            </div>
                                            <div class="news-date">
                                                <span>{{list_of_news_date[i]}}</span>
                                            </div>
                                        </div>
                                    </ng-container>

                                    <ng-container *ngIf="!mode_visiteur && list_of_news.length==0 && !add_news_input">
                                        <div class="news" >
                                            <div class="news-text nothing">
                                                <span>Vous n'avez ajouté aucune actualité</span>
                                            </div>
                                        </div>
                                    </ng-container>

                                    <div class="add-news" *ngIf="list_of_news.length > number_of_news_limit" (click)="show_more_news();">
                                        <mat-icon [ngClass]="{'invisible': !show_icon }">keyboard_arrow_down</mat-icon>
                                    </div>
                                    

                                </div>
                            </div>


                            <div class="block" *ngIf="type_of_account.includes('dit')">
                                <div class="top">
                                    <mat-icon [ngClass]="{'invisible': !show_icon }">mail</mat-icon>
                                    <h3>Déposez votre projet</h3>

                                    <div class="right-button" *ngIf="!mode_visiteur" (click)="open_section(6,true,4);">
                                        <mat-icon [ngClass]="{'invisible': !show_icon }">edit</mat-icon>
                                        <span>Modifier</span>
                                    </div>
                                </div>


                                <div class="bottom">

                                    <div class="title-bottom">
                                        <mat-icon [ngClass]="{'invisible': !show_icon }"
                                        matTooltip='Profil' 
                                        matTooltipClass='tooltip-account-profile' 
                                        [matTooltipPosition]="'below'"
                                        [matTooltipShowDelay]="200">lightbulb</mat-icon>
                                        <span>Nos consignes</span>
                                    </div>

                                    <div class="description-bottom">
                                        <span *ngIf="instructions">{{instructions}}</span>
                                        <span *ngIf="!instructions && ! mode_visiteur">Vous n'avez ajouté aucune consigne.</span>
                                        <span *ngIf="!instructions && mode_visiteur">Aucune consigne spécifique.</span>
                                    </div>

                                    <div class="title-bottom">
                                       
                                        <mat-icon [ngClass]="{'invisible': !show_icon }"
                                        matTooltip='Profil' 
                                        matTooltipClass='tooltip-account-profile' 
                                        [matTooltipPosition]="'below'"
                                        [matTooltipShowDelay]="200">feed</mat-icon>
                                        <span>Nos formules</span>
                                    </div>
                                    <div class="formulas">

                                        
                                        <div class="formula">
                                            <div class="formula-title">
                                                <span>Standard</span>
                                                <div class="see-more-button left">
                                                    ?
                                                    <div class="information" >
                                                        <div class="first-text">
                                                            <span> <img  src='../../assets/img/tuto-logos/light.svg'>La formule Standard est la formule par défaut. Le délais maximal d'attente pour cette formule est le délais standard de l'éditeur. Une réponse constructive n'est pas nécessairement attendue.
                                                            </span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="formula-info">
                                                <div class="type">
                                                    <span>Tarif</span>
                                                </div>
                                                <div class="value">
                                                    <mat-icon [ngClass]="{'invisible': !show_icon }">euro_symbol</mat-icon>
                                                    <span *ngIf="standard_price==0">Gratuit</span>
                                                    <span *ngIf="standard_price==1">{{standard_price}} euro</span>
                                                    <span *ngIf="standard_price>1">{{standard_price}} euros</span>
                                                </div>
                                            </div>
                
                                            <div class="formula-info">
                                                
                                                <div class="type">
                                                    <span>Temps d'attente</span>
                                                </div>
                                                <div class="value">
                                                    <mat-icon [ngClass]="{'invisible': !show_icon }">timer</mat-icon>
                                                    <span>{{list_of_real_delays[standard_delay]}}</span>
                                                </div>
                                            </div>

                                            <ng-container *ngIf="mode_visiteur ">
                                                
                                                <div class="edit-formula"  (click)="submit_project(0)" *ngIf="type_of_profile=='account' && visitor_stats_retrieved &&  !visitor_type_of_account.includes('dit')">
                                                    <mat-icon [ngClass]="{'invisible': !show_icon }">archive</mat-icon>
                                                    <span>Soumettre un projet</span>
                                                </div>
                                                <div class="edit-formula"  (click)="submit_project(2)" *ngIf="type_of_profile!='account'">
                                                    <mat-icon [ngClass]="{'invisible': !show_icon }">archive</mat-icon>
                                                    <span>Soumettre un projet</span>
                                                </div>
                                            </ng-container>
                                        </div>
                
                                        <div class="formula">
                                            <div class="formula-title">
                                                <span>Express</span>
                                                <div class="see-more-button">
                                                    ?
                                                    <div class="information" >
                                                        <div class="first-text">
                                                            <span> <img  src='../../assets/img/tuto-logos/light.svg'>La formule Express est la formule premium. Le délais maximal d'attente pour cette formule est le délais optimal de l'éditeur. Une réponse plus constructive est aussi attendue avec cette formule.
                                                            </span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                
                                            <div class="formula-info">
                                                <div class="type">
                                                    <span>Tarif</span>
                                                </div>
                
                                                <div class="value">
                                                    <mat-icon [ngClass]="{'invisible': !show_icon }">euro_symbol</mat-icon>
                                                    <span>{{express_price}} euros</span>
                                                </div>
                                            </div>
                
                                            <div class="formula-info">
                                                <div class="type">
                                                    <span>Temps d'attente</span>
                                                </div>
                
                                                <div class="value">
                                                    <mat-icon [ngClass]="{'invisible': !show_icon }">timer</mat-icon>
                                                    <span>{{list_of_real_delays[express_delay]}}</span>
                                                </div>
                                            </div>
                
                
                                            <ng-container *ngIf="mode_visiteur">
                                                <div class="edit-formula"  (click)="submit_project(1)" *ngIf="type_of_profile=='account' && visitor_stats_retrieved &&  !visitor_type_of_account.includes('dit')">
                                                    <mat-icon [ngClass]="{'invisible': !show_icon }">archive</mat-icon>
                                                    <span>Soumettre un projet</span>
                                                </div>
                                                <div class="edit-formula"  (click)="submit_project(2)" *ngIf="type_of_profile!='account'">
                                                    <mat-icon [ngClass]="{'invisible': !show_icon }">archive</mat-icon>
                                                    <span>Soumettre un projet</span>
                                                </div>
                                            </ng-container>
                
                                        </div>
                                    </div>


                                </div>
                            </div>


                            <ng-container *ngIf="!type_of_account.includes('dit')" >
                                <div class="block" *ngIf="emphasized_artwork_added">
                                    <div class="top">
                                        <mat-icon [ngClass]="{'invisible': !show_icon }">stars</mat-icon>
                                        <h3>Œuvre mise en avant</h3>
                                    </div>
                                    <div class="bottom contains-artwork fit-size">
                                        <app-thumbnail-artwork 
                                        [item]=emphasized_artwork
                                        [emphasized]=emphasized
                                        page="subscribings"
                                        account_home=true
                                        now_in_seconds={{now_in_seconds}}
                                        ></app-thumbnail-artwork>
                                    </div>
                                </div>
                                <div class="block" *ngIf="!emphasized_artwork_added && !mode_visiteur && !(!new_comic_contents_added && !new_drawing_contents_added && !new_writing_contents_added)" >
                                    <div class="top">
                                        <mat-icon [ngClass]="{'invisible': !show_icon }">stars</mat-icon>
                                        <h3>Œuvre mise en avant</h3>
                                    </div>
                                    <div class="bottom min-height">
                                        <div class="text-lines">
                                            <mat-icon [ngClass]="{'invisible': !show_icon }">info_outline</mat-icon>
                                            <span>Aucune œuvre mise en avant</span>
                                            <span>Vous pouvez mettre une œuvre en avant depuis le mode lecture d'une œuvre</span>
                                        </div>
                                    </div>
                                </div>


                                <div class="block" *ngIf="list_of_ads.length>0 && list_of_ads_added">
                                    <div class="top">
                                        <mat-icon [ngClass]="{'invisible': !show_icon }">announcement</mat-icon>
                                        <h3>Annonce récente</h3>
                                    </div>
                                    <div class="bottom contains-artwork fit-size">
                                        <app-thumbnail-ad
                                        [item]=list_of_ads[0]
                                        [now_in_seconds]=now_in_seconds
                                        ></app-thumbnail-ad>
                                    </div>
                                </div>
                            </ng-container>

                            <!-- nouveauté -->
                            <div class="block" *ngIf="!type_of_account.includes('Fan') && !type_of_account.includes('Particulier') && !type_of_account.includes('Professionnel')">
                                <div class="top">
                                    <mat-icon [ngClass]="{'invisible': !show_icon }">alarm_add</mat-icon>
                                    <h3 *ngIf="!type_of_account.includes('dit') ">Mes nouveautés</h3>
                                    <h3 *ngIf="type_of_account.includes('dit')">Nos nouveautés</h3>

                                    <a [routerLink]=get_add_artwork_link() class="right-button" *ngIf="!mode_visiteur" >
                                        <mat-icon [ngClass]="{'invisible': !show_icon }">add</mat-icon>
                                        <span>Publier une œuvre</span>
                                    </a>
                                </div>
                                <div class="bottom">
                                    <div class="add-artwork-button" *ngIf="no_new_contents ">
                                        <span class="visitor" *ngIf="!type_of_account.includes('dit') ">Aucune œuvre disponible</span>
                                        <span class="visitor" *ngIf="type_of_account.includes('dit') ">Aucun extrait d'œuvre disponible</span>
                                    </div>
                                    <div *ngIf="display_new_comic_contents" class="bd-container no-max-width" >
                                        <div class="artwork-type-title" (click)="open_from_news(0);scroll(target)" #target>
                                            <span>Bandes dessinées</span>
                                        </div>
                                        
                                        <div #myScrollContainer class="container-account container-comics container-small-screen-news new-comics">
                
                                            <div (click)="click_absolute_arrow1(myScrollContainer,'left');" *ngIf="myScrollContainer.scrollLeft > 100" class="left-absolute-arrow" style="top: 49% !important;">
                                                <mat-icon [ngClass]="{'invisible': !show_icon }">expand_more</mat-icon>
                                            </div>
                
                                            <div *ngFor="let item of new_comic_contents.slice(0,number_of_new_contents_to_show),let i=index" >
                                                <app-thumbnail-comics 
                                                *ngIf="item.chaptersnumber == null" 
                                                [item]=item 
                                                [width]=width_for_news
                                                [myScrollContainer]=myScrollContainer
                                                format='one-shot' 
                                                now_in_seconds={{now_in_seconds}}
                                                ></app-thumbnail-comics> 
                                                <app-thumbnail-comics 
                                                *ngIf="item.chaptersnumber>=0"
                                                [item]=item 
                                                [myScrollContainer]=myScrollContainer
                                                [width]=width_for_news
                                                format='serie' 
                                                now_in_seconds={{now_in_seconds}}
                                                ></app-thumbnail-comics>
                                            </div>
                
                                            <div (click)="click_absolute_arrow1(myScrollContainer,'right');" *ngIf="-100 > myScrollContainer.scrollLeft + myScrollContainer.offsetWidth - myScrollContainer.scrollWidth " class="right-absolute-arrow" style="top: 49% !important;">
                                                <mat-icon [ngClass]="{'invisible': !show_icon }">expand_more</mat-icon>
                                            </div>
                                        </div>
                                    </div>
                
                                    <div *ngIf="display_new_drawing_contents" class="bd-container no-max-width" >
                                        <div class="artwork-type-title"  (click)="open_from_news(1);scroll(target)" #target>
                                            <span>Dessins</span>
                                        </div>
                
                                        <div #myScrollContainer class="container-account container-drawings newDrawings container-small-screen-news ">
                
                                            <div (click)="click_absolute_arrow2(myScrollContainer,'left');" *ngIf="myScrollContainer.scrollLeft > 100" class="left-absolute-arrow">
                                                <mat-icon [ngClass]="{'invisible': !show_icon }">expand_more</mat-icon>
                                            </div>
                
                                            <div *ngFor="let item of new_drawing_contents.slice(0,number_of_new_contents_to_show)" class="drawing-container" >
                                                <app-thumbnail-drawing *ngIf="item.pagesnumber == null"
                                                    [item]=item
                                                    for_news="yes"
                                                    format='one-shot'
                                                    [width]=width_for_news
                                                    now_in_seconds={{now_in_seconds}}
                                                ></app-thumbnail-drawing>
                                                <app-thumbnail-drawing *ngIf="item.pagesnumber >=0"
                                                    [item]=item 
                                                    [width]=width_for_news
                                                    for_news="yes"
                                                    format='artbook'
                                                    now_in_seconds={{now_in_seconds}}
                                                ></app-thumbnail-drawing>
                                            </div>
                
                                            <div (click)="click_absolute_arrow2(myScrollContainer,'right');" *ngIf="-100 > myScrollContainer.scrollLeft + myScrollContainer.offsetWidth - myScrollContainer.scrollWidth " class="right-absolute-arrow">
                                                <mat-icon [ngClass]="{'invisible': !show_icon }">expand_more</mat-icon>
                                            </div>
                                        </div>
                                    </div>
                
                                    <div *ngIf="display_new_writing_contents" class="bd-container no-max-width">
                                        <div class="artwork-type-title"  (click)="open_from_news(2);scroll(target)" #target>
                                            <span>Écrits</span>
                                        </div>
                
                                        <div #myScrollContainer class="container-account container-writings newWritings container-small-screen-news ">
                
                                            <div (click)="click_absolute_arrow3(myScrollContainer,'left');" *ngIf="myScrollContainer.scrollLeft > 100" class="left-absolute-arrow" style="top: 49% !important;">
                                                <mat-icon [ngClass]="{'invisible': !show_icon }">expand_more</mat-icon>
                                            </div>
                                            <div *ngFor="let item of new_writing_contents.slice(0,number_of_new_contents_to_show)" >
                                                <app-thumbnail-writing
                                                [item]=item
                                                [myScrollContainer]=myScrollContainer
                                                [width]=width_for_news
                                                now_in_seconds={{now_in_seconds}}
                                                ></app-thumbnail-writing>
                                            </div>
                                            
                                            <div (click)="click_absolute_arrow3(myScrollContainer,'right');" *ngIf="-100 > myScrollContainer.scrollLeft + myScrollContainer.offsetWidth - myScrollContainer.scrollWidth " class="right-absolute-arrow" style="top: 49% !important;">
                                                <mat-icon [ngClass]="{'invisible': !show_icon }">expand_more</mat-icon>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>

                        </div>

                        <div class="account-display-flex-right">
                            

                            <div class="block-right">
                                <div class="top">
                                    <mat-icon [ngClass]="{'invisible': !show_icon }">insert_chart</mat-icon>
                                    <h3>En quelques chiffres</h3>
                                </div>
                                <div class="bottom">
                                    
                                    <div class="block-info clickable" *ngIf="subscribed_users_list " (click)="see_subscribers();">
                                        <mat-icon [ngClass]="{'invisible': !show_icon }">group</mat-icon>
                                        <span><span class="emphasize">{{subscribed_users_list.length}}</span>  abonnés</span>
                                    </div>

                                    <div class="block-info clickable" *ngIf="users_subscribed_to_list" (click)="see_subscribings();">
                                        <mat-icon [ngClass]="{'invisible': !show_icon }">subscriptions</mat-icon>
                                        <span><span class="emphasize">{{users_subscribed_to_list.length}}</span>  abonnements</span>
                                    </div>

                                    <div class="block-info" *ngIf="profil_vews_found && !mode_visiteur">
                                        <mat-icon [ngClass]="{'invisible': !show_icon }">person</mat-icon>
                                        <span><span class="emphasize">{{number_of_visits}}</span>  visites du profil</span>
                                    </div>
                                    <div class="block-info" *ngIf="profil_vews_found && !mode_visiteur">
                                        <mat-icon [ngClass]="{'invisible': !show_icon }">person_search</mat-icon>
                                        <span><span class="emphasize">{{number_of_visits_after_research}}</span>  visites après recherche</span>
                                    </div>

                                    


                                    <div class="block-info" *ngIf="number_of_artpieces && !type_of_account.includes('dit')">
                                        <mat-icon [ngClass]="{'invisible': !show_icon }">auto_stories</mat-icon>
                                        <span><span class="emphasize">{{number_of_artpieces}}</span>  œuvres publiées</span>
                                    </div>
                                    <div class="block-info" *ngIf="list_of_ads && !type_of_account.includes('dit')">
                                        <mat-icon [ngClass]="{'invisible': !show_icon }">announcement</mat-icon>
                                        <span><span class="emphasize">{{list_of_ads.length}}</span>  annonces publiées</span>
                                    </div>
                                    <div class="block-info" *ngIf="number_of_views && !type_of_account.includes('dit')">
                                        <mat-icon [ngClass]="{'invisible': !show_icon }">visibility</mat-icon>
                                        <span><span class="emphasize">{{number_of_views}}</span> mentions vues</span>
                                    </div>
                                   
                                    <div class="block-info" *ngIf="number_of_likes && !type_of_account.includes('dit')">
                                        <mat-icon [ngClass]="{'invisible': !show_icon }">thumb_up</mat-icon>
                                        <span><span class="emphasize">{{number_of_likes}}</span>  mentions j'aime</span>
                                    </div>
                                    <div class="block-info" *ngIf="number_of_loves && !type_of_account.includes('dit')">
                                        <mat-icon [ngClass]="{'invisible': !show_icon }">favorite</mat-icon>
                                        <span><span class="emphasize">{{number_of_loves}}</span>  mentions j'adore</span>
                                    </div>
                                   
                                   
                                    <div class="block-info" *ngIf="number_of_flagship_clicks && type_of_account.includes('dit') && !mode_visiteur">
                                        <mat-icon [ngClass]="{'invisible': !show_icon }">visibility</mat-icon>
                                        <span><span class="emphasize">{{number_of_flagship_clicks}}</span> œuvres phares consultées</span>
                                    </div>
                                    
                                    <div class="block-info" *ngIf="number_of_forms && type_of_account.includes('dit')">
                                        <mat-icon [ngClass]="{'invisible': !show_icon }">archive</mat-icon>
                                        <span><span class="emphasize">{{number_of_forms}}</span>  projets reçus</span>
                                    </div>
                                </div>
                            </div>


                            <div class="block-right" *ngIf="( list_of_skills.length || list_of_categories.length || cv_name || !mode_visiteur ) && !type_of_account.includes('dit') && !type_of_account.includes('tes')">
                                <div class="top">
                                    <mat-icon [ngClass]="{'invisible': !show_icon }">color_lens</mat-icon>
                                    <h3>Ma palette</h3>
                                </div>
                                <div class="bottom">
                                    <div class="title">
                                        <span>Mes catégories phares</span>
                                    </div>
                                    <div class="list-of-skills" *ngIf="list_of_categories && list_of_categories.length>0">
                                        <span *ngFor="let item of list_of_categories">{{item}}</span>
                                    </div>
                                    <div class="list-of-skills" *ngIf="!mode_visiteur && (!list_of_categories || list_of_categories.length==0)">
                                        <span >Aucune catégorie ajoutée</span>
                                    </div>

                                    <div class="title">
                                        <span>Mes compétences</span>
                                    </div>
                                    <div class="list-of-skills" *ngIf="list_of_skills && list_of_skills.length>0">
                                        <span *ngFor="let item of list_of_skills">{{item}}</span>
                                    </div>
                                    <div class="list-of-skills" *ngIf="!mode_visiteur && (!list_of_skills || list_of_skills.length==0)">
                                        <span >Aucune compétence ajoutée</span>
                                    </div>

                              

                                    <div class="title" *ngIf="!mode_visiteur || cv_name">
                                        <span>Mon CV</span>
                                    </div>
                                    <div class="list-of-skills" *ngIf="!mode_visiteur && !cv_name">
                                        <span >Aucun CV ajouté</span>
                                    </div>
                                    <div class="see-cv" *ngIf="cv_name" (click)="read_cv();">
                                        <mat-icon [ngClass]="{'invisible': !show_icon }">description</mat-icon>
                                        <span>Voir mon CV</span>
                                    </div>
                                    <div class="add-skills" *ngIf="!mode_visiteur" (click)="open_section(6,true,2);">
                                        <mat-icon [ngClass]="{'invisible': !show_icon }">edit</mat-icon>
                                        <span>Éditer ma palette</span>
                                    </div>


                                </div>
                            </div>


                            <div class="block-right" *ngIf="( list_of_skills.length>0 || !mode_visiteur ) && (type_of_account.includes('dit') || type_of_account.includes('tes'))">
                                <div class="top">
                                    <mat-icon [ngClass]="{'invisible': !show_icon }">settings</mat-icon>
                                    <h3>Notre palette</h3>
                                </div>
                                <div class="bottom">
                                    <div class="title">
                                        <span>Nos catégories phares</span>
                                    </div>
                                    <div class="list-of-skills" *ngIf="list_of_categories && list_of_categories.length>0">
                                        <span *ngFor="let item of list_of_categories">{{item}}</span>
                                    </div>
                                    <div class="list-of-skills" *ngIf="!mode_visiteur && (!list_of_categories || list_of_categories.length==0)">
                                        <span >Aucune catégorie ajoutée</span>
                                    </div>

                                    <div class="title">
                                        <span>Nos genres favoris</span>
                                    </div>
                                    <div class="list-of-skills" *ngIf="list_of_skills && list_of_skills.length>0">
                                        <span *ngFor="let item of list_of_skills">{{item}}</span>
                                    </div>
                                    <div class="list-of-skills" *ngIf="!mode_visiteur && (!list_of_skills || list_of_skills.length==0)">
                                        <span >Aucun genre ajouté</span>
                                    </div>

                                    <div class="add-skills" *ngIf="!mode_visiteur" (click)="open_section(6,true,3);">
                                        <mat-icon [ngClass]="{'invisible': !show_icon }">edit</mat-icon>
                                        <span>Éditer la palette</span>
                                    </div>


                                </div>
                            </div>



                            <div class="block-right" *ngIf="!( mode_visiteur && !instagram && !facebook && !pinterest && !deviantart && !artstation && !website && !other_website )">
                                <div class="top">
                                    <mat-icon [ngClass]="{'invisible': !show_icon }">share</mat-icon>
                                    <h3 *ngIf="!type_of_account.includes('dit') && !type_of_account.includes('tes')">Mes réseaux</h3>
                                    <h3 *ngIf="type_of_account.includes('dit') || type_of_account.includes('tes')">Nos réseaux</h3>
                                </div>
                                <div class="bottom">
                                        
                                        <a [href]="instagram" target="_blank" class="network instagram" *ngIf="instagram">
                                            <mat-icon [ngClass]="{'invisible': !show_icon }">arrow_forward_ios</mat-icon>
                                            <span>Instagram</span>
                                            <!--<a [href]="insta_link" class="insta-link" *ngIf="!number_of_instagram_followers"
                                            matTooltip="Synchroniser votre nombre d'abonnés" 
                                            matTooltipClass='linkarts-tooltip' 
                                            [matTooltipPosition]="'below'"
                                            [matTooltipShowDelay]="200"> 
                                                <mat-icon  [ngClass]="{'invisible': !show_icon }">add_box</mat-icon>
                                            </a>-->
                                           
                                            <span *ngIf="number_of_instagram_followers" style="margin: auto 0px auto auto;">{{number_of_instagram_followers}} abonnés</span>
                                        </a>
                                        <a [href]="pinterest" target="_blank" class="network pinterest" *ngIf="pinterest">
                                            <mat-icon [ngClass]="{'invisible': !show_icon }">arrow_forward_ios</mat-icon>
                                            <span>Pinterest</span>
                                        </a>
                                        <a [href]="youtube" target="_blank" class="network youtube" *ngIf="youtube">
                                            <mat-icon [ngClass]="{'invisible': !show_icon }">arrow_forward_ios</mat-icon>
                                            <span>Youtube</span>
                                        </a>
                                        <a [href]="facebook" target="_blank" class="network facebook" *ngIf="facebook">
                                            <mat-icon [ngClass]="{'invisible': !show_icon }">arrow_forward_ios</mat-icon>
                                            <span>Facebook</span>
                                        </a>
                                        
                                        <a [href]="twitter" target="_blank" class="network twitter" *ngIf="twitter">
                                            <mat-icon [ngClass]="{'invisible': !show_icon }">arrow_forward_ios</mat-icon>
                                            <span>Twitter</span>
                                        </a>
                                       
                                        <a [href]="deviantart" target="_blank" class="network deviantart" *ngIf="deviantart">
                                            <mat-icon [ngClass]="{'invisible': !show_icon }">arrow_forward_ios</mat-icon>
                                            <span>Deviantart</span>
                                        </a>
                                        <a [href]="artstation" target="_blank" class="network artstation" *ngIf="artstation">
                                            <mat-icon [ngClass]="{'invisible': !show_icon }">arrow_forward_ios</mat-icon>
                                            <span>Artstation</span>
                                        </a>
                                        <a [href]="website" target="_blank" class="network other" *ngIf="website">
                                            <mat-icon [ngClass]="{'invisible': !show_icon }">arrow_forward_ios</mat-icon>
                                            <span>Site perso</span>
                                        </a>
                                        <a [href]="other_website" target="_blank" class="network other" *ngIf="other_website">
                                            <mat-icon [ngClass]="{'invisible': !show_icon }">arrow_forward_ios</mat-icon>
                                            <span>Autre site</span>
                                        </a>

                                        <div class="network other" *ngIf="!instagram && !facebook && !pinterest && !deviantart && !artstation && !website && !other_website && !mode_visiteur">
                                            <mat-icon [ngClass]="{'invisible': !show_icon }">arrow_forward_ios</mat-icon>
                                            <span>Aucun site web ajouté</span>
                                        </div>

                                        <div class="add-skills" *ngIf="!mode_visiteur" (click)="open_section(6,true,6);">
                                            <mat-icon [ngClass]="{'invisible': !show_icon }">edit</mat-icon>
                                            <span *ngIf="!type_of_account.includes('dit')">Éditer mes réseaux</span>
                                            <span *ngIf="type_of_account.includes('dit')">Éditer les réseaux</span>
                                        </div>

                                </div>
                            </div>



                            <div class="block-right" *ngIf="!( mode_visiteur && !email_about && !phone_about )">
                                <div class="top">
                                    <mat-icon [ngClass]="{'invisible': !show_icon }">explore</mat-icon>
                                    <h3 *ngIf="!type_of_account.includes('dit')">Mes coordonnées</h3>
                                    <h3 *ngIf="type_of_account.includes('dit')">Nos coordonnées</h3>
                                </div>
                                <div class="bottom">

                                    <ng-container *ngIf="!( mode_visiteur && !email_about && !phone_about )">

                                        <div class="block-info-contact" *ngIf="email_about && !mode_visiteur">
                                            <mat-icon [ngClass]="{'invisible': !show_icon }">alternate_email</mat-icon>
                                            <span matTooltip="Visible uniquement par les éditeurs certifiés" 
                                            matTooltipClass='linkarts-tooltip' 
                                            [matTooltipPosition]="'below'"
                                            [matTooltipShowDelay]="200">{{email_about}}</span>
                                        </div>
                                        <div class="block-info-contact" *ngIf="!email_about && !mode_visiteur">
                                            <mat-icon [ngClass]="{'invisible': !show_icon }">alternate_email</mat-icon>
                                            <span matTooltip="Visible uniquement par les éditeurs certifiés" 
                                            matTooltipClass='linkarts-tooltip' 
                                            [matTooltipPosition]="'below'"
                                            [matTooltipShowDelay]="200">Aucun e-mail ajouté</span>
                                        </div>

                                        <div class="block-info-contact" *ngIf="phone_about && !mode_visiteur" >
                                            <mat-icon [ngClass]="{'invisible': !show_icon }">local_phone</mat-icon>
                                            <span
                                            matTooltip="Visible uniquement par les éditeurs certifiés" 
                                            matTooltipClass='linkarts-tooltip' 
                                            [matTooltipPosition]="'below'"
                                            [matTooltipShowDelay]="200">{{phone_about}}</span>
                                        </div>
                                        <div class="block-info-contact" *ngIf="!phone_about && !mode_visiteur">
                                            <mat-icon [ngClass]="{'invisible': !show_icon }">local_phone</mat-icon>
                                            <span matTooltip="Visible uniquement par les éditeurs certifiés" 
                                            matTooltipClass='linkarts-tooltip' 
                                            [matTooltipPosition]="'below'"
                                            [matTooltipShowDelay]="200">Aucun numéro ajouté</span>
                                        </div>

                                        <div class="add-skills" *ngIf="!mode_visiteur" (click)="open_section(6,true,6);">
                                            <mat-icon [ngClass]="{'invisible': !show_icon }">edit</mat-icon>
                                            <a  class="a-button" *ngIf="!type_of_account.includes('dit')">Éditer mes coordonnées</a>
                                            <a  class="a-button" *ngIf="type_of_account.includes('dit')">Éditer les coordonnées</a>
                                        </div>
                                        

                                    </ng-container>

                                </div>
                            </div>


                        </div>

                    </div>


                
                </div>
                <!--********************************************FIN PAGE ACCUEIL********************************************-->
    
    
                    
                <!--------------------------------------------------------------------------------->
                <!--------------------------------------------------------------------------------->
                <!------------------------------------OEUVRES-------------------------------------->
                <!--------------------------------------------------------------------------------->
                <!--------------------------------------------------------------------------------->
                <div *ngIf="opened_section==1 && list_writings_added && list_drawings_artbook_added
                && list_drawings_onepage_added && list_bd_series_added && list_bd_oneshot_added && !profile_not_found && !my_profile_is_suspended " >
                    
                            
                    <div class="panel-background">
                        <div class="logos-container" [@enterFromTopAnimation]>
                            <button class="logo" [ngClass]="{'opened': opened_category == 0 }" (click)="open_category(0,false);scroll(target)" #target>
                                <div class="image1"></div>
                                <span class="long-title">Bandes dessinées ({{number_of_comics}})</span>
                                <span class="short-title">BD ({{number_of_comics}})</span>
                            </button>
                            <button class="logo" [ngClass]="{'opened': opened_category == 1 }" (click)="open_category(1,false);scroll(target)" #target>
                                <div class="image2"></div>
                                <span>Dessins ({{number_of_drawings}})</span>
                            </button>
                            <button class="logo" [ngClass]="{'opened': opened_category == 2 }" (click)="open_category(2,false);scroll(target)" #target>
                                <div class="image3"></div>
                                <span>Écrits ({{number_of_writings}})</span>
                            </button>
                        </div>
                    </div>
    
                
                    <ng-container *ngIf="opened_category==-1 && list_bd_oneshot.length==0 && list_bd_series.length==0  && list_drawings_artbook.length==0  && list_drawings_onepage.length==0  && list_writings.length==0  ">
                        
                        <div class="add-artwork-button" *ngIf="!mode_visiteur ">
                            <a [routerLink]=get_add_artwork_link() >
                                <button>
                                    <mat-icon [ngClass]="{'invisible': !show_icon }">add</mat-icon>
                                    <span *ngIf="!type_of_account.includes('dit')">Publier votre première œuvre</span>
                                    <span *ngIf="type_of_account.includes('dit')">Publier votre premier extrait d'œuvre</span>
                                </button>
                            </a>
                        </div>
                        

                        <div *ngIf="mode_visiteur " class="text-lines large" >
                            <mat-icon [ngClass]="{'invisible': !show_icon }">info_outline</mat-icon>
                            <span *ngIf="!type_of_account.includes('dit')">Aucune œuvre disponible</span>
                            <span *ngIf="type_of_account.includes('dit')">Aucune extrait d'œuvre disponible</span>
                        </div>
                    </ng-container>
                    
                    <ng-container *ngIf="opened_category != -1">
    
                        <div class="albums-title-main">
                                <!-- Titres des albums bd-->
                                <div class="albums-title-container" *ngIf="opened_category==0  && list_albums_bd_added && (list_bd_oneshot.length != 0 || list_bd_series.length != 0)">
    
                                    <ng-container *ngIf="list_titles_albums_bd_added.length==0 && !show_selector_for_album && opened_album>=0">
                                        <ng-container *ngFor="let element of list_titles_albums_bd; let i=index">
    
                                            <ng-container *ngIf="!(i==1 && list_bd_oneshot.length==0) && !(i==2 && list_bd_series.length==0)">
            
                                                <div class="albums-title">
                                                
                                                    <ng-container *ngIf="!mode_visiteur && i>2">
                                                        <button class="optionsMenu" [ngClass]="{ 'opened' : opened_album == i, 'opacity1': openedMenu==i+'album_name' }" (menuClosed)="menuClosed();" (menuOpened)="menuOpened(i,'album_name');" [matMenuTriggerFor]="albumOptions">
                                                            <mat-icon [ngClass]="{'invisible': !show_icon }" class="optionsButton">more_vert</mat-icon>
                                                        </button>
                                                        <mat-menu class="account-mat-menu" xPosition='before' #albumOptions="matMenu">
                                                        
                                                            <button class="account-mat-menu-item" mat-menu-item (click)="remove_bd_album(i)"> 	
                                                                <mat-icon [ngClass]="{'invisible': !show_icon }" class="item-icon">cancel</mat-icon>
                                                                <span>Supprimer</span>
                                                            </button>
                                                        </mat-menu>
                                                    </ng-container>
            
            
                                                    <button *ngIf="!mode_visiteur || (mode_visiteur && (3>i || (list_albums_bd[i-3] && list_albums_bd[i-3].length>0) ) && list_bd_albums_status[i-1]!='hidden' && list_bd_albums_status[i-1]!='private')"  class="albums-title-button" 
                                                    (click)="open_album(i,false);" [ngClass]="{ 'opened' : opened_album == i }" [@enterAnimation]
                                                    [matTooltip]="add_album!=-1 ? 'Veuillez quitter l\'ajout de section avant de revenir aux autres sections' : null"
                                                    matTooltipClass='tooltip-account-profile' 
                                                    [matTooltipPosition]="'below'"
                                                    [matTooltipShowDelay]="200">
            
            
                                                        <span>{{element}}</span>
                                                    </button>
                                                    
                                                </div>
            
                                            </ng-container>
                                        </ng-container>
                                    </ng-container >
    
                                    <ng-container *ngIf="(list_titles_albums_bd_added.length>0 || show_selector_for_album) &&  opened_album>=0">
    
                                        <div class="account-album-selector">
                                            <mat-form-field floatLabel='never'  [ngClass]="{'opened': albums_select && albums_select.panelOpen }">
                                                
                                                <div class="arrow-container" [ngClass]="{'opened': albums_select && albums_select.panelOpen }">
                                                    <mat-icon [ngClass]="{'invisible': !show_icon }">arrow_back_ios_new</mat-icon>
                                                </div>
    
                                                <mat-select #albums_select panelClass="albumSelectClass" [(value)]="opened_album_selector" disableOptionCentering (selectionChange)="albumChange($event)">
                                                    
                                                    <mat-select-trigger>
                                                            <span>{{list_titles_albums_bd[opened_album_selector]}}</span>
                                                    </mat-select-trigger>
                                                    
                                                    <ng-container *ngFor="let item of list_titles_albums_bd; let j=index">
                                                        <ng-container *ngIf="!(j==1 && list_bd_oneshot.length==0) && !(j==2 && list_bd_series.length==0)">
                                                            <mat-option *ngIf="!mode_visiteur || (mode_visiteur && (3>j || (list_albums_bd[j-3] && list_albums_bd[j-3].length>0) ) && list_bd_albums_status[j-1]!='hidden' && list_bd_albums_status[j-1]!='private')" [value]="j">
                                                                <span>{{item}}</span>
                                                            </mat-option>
                                                        </ng-container>
                                                    </ng-container>
                                                    
                                                    
                                                </mat-select>
                                            </mat-form-field>
    
                                            <ng-container *ngIf="!mode_visiteur && opened_album>2">
                                                <button class="optionsMenu opened"  (menuClosed)="menuClosed();" (menuOpened)="menuOpened(opened_album,'album_name');" [matMenuTriggerFor]="albumOptions1">
                                                    <mat-icon [ngClass]="{'invisible': !show_icon }" class="optionsButton">more_vert</mat-icon>
                                                </button>
                                                <mat-menu class="account-mat-menu" xPosition='before' #albumOptions1="matMenu">
                                                    
                                                    <button class="account-mat-menu-item" mat-menu-item (click)="remove_bd_album(opened_album)"> 	
                                                        <mat-icon [ngClass]="{'invisible': !show_icon }" class="item-icon">cancel</mat-icon>
                                                        <span>Supprimer</span>
                                                    </button>
                                                </mat-menu>
                                            </ng-container>
                                        
                                            
                                        </div>
                                    </ng-container>
                                    
                                    <!--AJOUT ALBUM-->
                                    <div class="albums-title-container" style=" padding-bottom: unset;" *ngIf="!mode_visiteur && opened_category==0 && number_of_comics!=0">
                                        <div class="albums-title">
                                            <button class="albums-title-button albums-title-button2" (click)="start_add_album( opened_category )" [@enterAnimation]>
                                                <ng-container *ngIf="add_album == -1">
                                                    <mat-icon [ngClass]="{'invisible': !show_icon }">add</mat-icon>
                                                    <span>Créer</span>
                                                </ng-container>
                                                <ng-container *ngIf="add_album != -1">
                                                    <mat-icon [ngClass]="{'invisible': !show_icon }">cancel</mat-icon>
                                                    <span>Annuler</span>
                                                </ng-container>
                                            </button>
                                        </div>
                                    </div>
                                </div>
    
                                <!-- Titres des albums drawing-->
                                <div class="albums-title-container" *ngIf="opened_category==1 && list_albums_drawings_added && (list_drawings_onepage.length != 0 || list_drawings_artbook.length != 0)">
    
    
                                    <ng-container *ngIf="list_titles_albums_drawings_added.length==0 && !show_selector_for_album &&  opened_album>=0">
                                        <ng-container *ngFor="let element of list_titles_albums_drawings; let i=index" class="albums-title">
                                            <ng-container *ngIf="!(i==1 && list_drawings_onepage.length==0) && !(i==2 && list_drawings_artbook.length==0)">
            
                                                <div class="albums-title">
                                                
            
                                                    <ng-container *ngIf="!mode_visiteur && i>2">
                                                        <button class="optionsMenu" [ngClass]="{ 'opened' : opened_album == i, 'opacity1': openedMenu==i+'album_name' }" (menuClosed)="menuClosed();" (menuOpened)="menuOpened(i,'album_name');" [matMenuTriggerFor]="albumOptions">
                                                            <mat-icon [ngClass]="{'invisible': !show_icon }" class="optionsButton">more_vert</mat-icon>
                                                        </button>
                                                        <mat-menu class="account-mat-menu" xPosition='before' #albumOptions="matMenu">
                                                    
                                                            <button class="account-mat-menu-item" mat-menu-item (click)="remove_drawing_album(i)"> 	
                                                                <mat-icon [ngClass]="{'invisible': !show_icon }" class="item-icon">cancel</mat-icon>
                                                                <span>Supprimer</span>
                                                            </button>
                                                        </mat-menu>
                                                    </ng-container>
                                                    
            
                                                    <button *ngIf="!mode_visiteur || (mode_visiteur && (3>i || (list_albums_drawings[i-3] && list_albums_drawings[i-3].length>0) ) && list_drawing_albums_status[i-1]!='hidden' && list_drawing_albums_status[i-1]!='private')" class="albums-title-button" 
                                                    (click)="open_album(i,false);" [ngClass]="{ 'opened' : opened_album == i }" [@enterAnimation]
                                                    [matTooltip]="add_album!=-1 ? 'Veuillez quitter l\'ajout de section avant de revenir aux autres sections' : null"
                                                    matTooltipClass='tooltip-account-profile' 
                                                    [matTooltipPosition]="'below'"
                                                    [matTooltipShowDelay]="200">
                                                    
                                                        
                                                        <span>{{element}}</span>
                                                    </button>
            
                                                </div>
            
                                            </ng-container>
                                        </ng-container>
                                    </ng-container>
                                    <ng-container *ngIf="(list_titles_albums_drawings_added.length>0 || show_selector_for_album ) &&  opened_album>=0">
    
                                        <div class="account-album-selector">
                                            <mat-form-field floatLabel='never'  [ngClass]="{'opened': albums_select && albums_select.panelOpen }">
                                                
                                                <div class="arrow-container" [ngClass]="{'opened': albums_select && albums_select.panelOpen }">
                                                    <mat-icon [ngClass]="{'invisible': !show_icon }">arrow_back_ios_new</mat-icon>
                                                </div>
    
                                                <mat-select #albums_select panelClass="albumSelectClass" [(value)]="opened_album_selector" disableOptionCentering (selectionChange)="albumChange($event)">
                                                    
                                                    <mat-select-trigger>
                                                            <span>{{list_titles_albums_drawings[opened_album_selector]}}</span>
                                                    </mat-select-trigger>
    
                                                    <ng-container *ngFor="let item of list_titles_albums_drawings; let j=index">
                                                        <ng-container *ngIf="!(j==1 && list_drawings_onepage.length==0) && !(j==2 && list_drawings_artbook.length==0)">
                                                            <mat-option *ngIf="!mode_visiteur || (mode_visiteur && (3>j || (list_albums_drawings[j-3] && list_albums_drawings[j-3].length>0) ) && list_drawing_albums_status[j-1]!='hidden' && list_drawing_albums_status[j-1]!='private')" [value]="j">
                                                                <span>{{item}}</span>
                                                            </mat-option>
                                                        </ng-container>
                                                    </ng-container>
    
                                                    
                                                    
                                                </mat-select>
                                            </mat-form-field>
    
                                            <ng-container *ngIf="!mode_visiteur && opened_album>2">
                                                <button class="optionsMenu opened"  (menuClosed)="menuClosed();" (menuOpened)="menuOpened(opened_album,'album_name');" [matMenuTriggerFor]="albumOptions1">
                                                    <mat-icon [ngClass]="{'invisible': !show_icon }" class="optionsButton">more_vert</mat-icon>
                                                </button>
                                                <mat-menu class="account-mat-menu" xPosition='before' #albumOptions1="matMenu">
                                                    
                                                    <button class="account-mat-menu-item" mat-menu-item (click)="remove_drawing_album(opened_album)"> 	
                                                        <mat-icon [ngClass]="{'invisible': !show_icon }" class="item-icon">cancel</mat-icon>
                                                        <span>Supprimer</span>
                                                    </button>
                                                </mat-menu>
                                            </ng-container>
                                        </div>
                                    </ng-container>
                                    
                                    <!--AJOUT ALBUM-->
                                    <div class="albums-title-container" style=" padding-bottom: unset;" *ngIf="!mode_visiteur && opened_category==1 && number_of_drawings!=0">
                                        <div class="albums-title">
                                            <button class="albums-title-button albums-title-button2" (click)="start_add_album( opened_category )" [@enterAnimation]>
                                                <ng-container *ngIf="add_album == -1">
                                                    <mat-icon [ngClass]="{'invisible': !show_icon }">add</mat-icon>
                                                    <span>Créer</span>
                                                </ng-container>
                                                <ng-container *ngIf="add_album != -1">
                                                    <mat-icon [ngClass]="{'invisible': !show_icon }">cancel</mat-icon>
                                                    <span>Annuler</span>
                                                </ng-container>
                                            </button>
                                        </div>
                                    </div>
    
                                </div>
    
                                <!-- Titres des albums writing-->
                                <div class="albums-title-container" *ngIf="opened_category==2 && list_albums_writings_added && (list_writings.length != 0)" >
                                    
                                    <ng-container *ngIf="list_titles_albums_writings_added.length==0  && !show_selector_for_album &&  opened_album>=0">
                                        <ng-container *ngFor="let element of list_titles_albums_writings; let i=index">
    
                                            <div class="albums-title">
                                                
                                                <ng-container *ngIf="!mode_visiteur && i>0">
                                                    <button class="optionsMenu" [ngClass]="{ 'opened' : opened_album == i, 'opacity1': openedMenu==i+'album_name' }" (menuClosed)="menuClosed();" (menuOpened)="menuOpened(i,'album_name');" [matMenuTriggerFor]="albumOptions">
                                                        <mat-icon [ngClass]="{'invisible': !show_icon }" class="optionsButton">more_vert</mat-icon>
                                                    </button>
                                                    <mat-menu class="account-mat-menu" xPosition='before' #albumOptions="matMenu">
                                                    
                                                        <button class="account-mat-menu-item" mat-menu-item (click)="remove_writing_album(i-1)"> 	
                                                            <mat-icon [ngClass]="{'invisible': !show_icon }" class="item-icon">cancel</mat-icon>
                                                            <span>Supprimer</span>
                                                        </button>
                                                    </mat-menu>
                                                </ng-container>
            
                                                <button *ngIf="!mode_visiteur || (mode_visiteur && (1>i || (list_albums_writings[i-1] && list_albums_writings[i-1].length>0) ) && list_writings_albums_status[i-1]!=='hidden' && list_writings_albums_status[i-1]!=='private')"  class="albums-title-button" 
                                                (click)="open_album(i,false);" [ngClass]="{ 'opened' : opened_album == i }" [@enterAnimation]
                                                [matTooltip]="add_album!=-1 ? 'Veuillez quitter l\'ajout de section avant de revenir aux autres sections' : null"
                                                matTooltipClass='tooltip-account-profile' 
                                                [matTooltipPosition]="'below'"
                                                [matTooltipShowDelay]="200">
            
                                                    <span>{{element}}</span>
                                                </button>
            
                                            </div>
                                                
                                        </ng-container>
                                    </ng-container>
    
                                    <ng-container *ngIf="(list_titles_albums_writings_added.length>0 || show_selector_for_album) &&  opened_album>=0">
                                        <div class="account-album-selector">
                                            <mat-form-field floatLabel='never'  [ngClass]="{'opened': albums_select && albums_select.panelOpen }">
                                                
                                                <div class="arrow-container" [ngClass]="{'opened': albums_select && albums_select.panelOpen }">
                                                    <mat-icon [ngClass]="{'invisible': !show_icon }">arrow_back_ios_new</mat-icon>
                                                </div>
    
                                                <mat-select #albums_select panelClass="albumSelectClass" [(value)]="opened_album_selector" disableOptionCentering (selectionChange)="albumChange($event)">
                                                    
                                                    <mat-select-trigger>
                                                            <span>{{list_titles_albums_writings[opened_album_selector]}}</span>
                                                    </mat-select-trigger>
                                                    
                                                    <ng-container *ngFor="let item of list_titles_albums_writings; let j=index">
                                                        <mat-option *ngIf="!mode_visiteur || (mode_visiteur && (1>j || (list_albums_writings[j-1] && list_albums_writings[j-1].length>0) ) && list_writings_albums_status[j-1]!=='hidden' && list_writings_albums_status[j-1]!=='private')" [value]="j">
                                                            <span>{{item}}</span>
                                                        </mat-option>
                                                    </ng-container>
    
                                                    
                                                    
                                                </mat-select>
                                            </mat-form-field>
    
                                            <ng-container *ngIf="!mode_visiteur && opened_album>0">
                                                <button class="optionsMenu opened"  (menuClosed)="menuClosed();" (menuOpened)="menuOpened(opened_album,'album_name');" [matMenuTriggerFor]="albumOptions1">
                                                    <mat-icon [ngClass]="{'invisible': !show_icon }" class="optionsButton">more_vert</mat-icon>
                                                </button>
                                                <mat-menu class="account-mat-menu" xPosition='before' #albumOptions1="matMenu">
                                                    
                                                    <button class="account-mat-menu-item" mat-menu-item (click)="remove_writing_album(opened_album)"> 	
                                                        <mat-icon [ngClass]="{'invisible': !show_icon }" class="item-icon">cancel</mat-icon>
                                                        <span>Supprimer</span>
                                                    </button>
                                                </mat-menu>
                                            </ng-container>
                                        </div>
                                    </ng-container>
    
                                    
                                    <!--AJOUT ALBUM-->
                                    <div class="albums-title-container" style=" padding-bottom: unset;" *ngIf=" (!mode_visiteur && opened_category==2 && number_of_writings!=0)">
                                        <div class="albums-title">
                                            <button class="albums-title-button albums-title-button2" (click)="start_add_album( opened_category )" [@enterAnimation]>
                                                <ng-container *ngIf="add_album == -1">
                                                    <mat-icon [ngClass]="{'invisible': !show_icon }">add</mat-icon>
                                                    <span>Créer</span>
                                                </ng-container>
                                                <ng-container *ngIf="add_album != -1">
                                                    <mat-icon [ngClass]="{'invisible': !show_icon }">cancel</mat-icon>
                                                    <span>Annuler</span>
                                                </ng-container>
                                            </button>
                                        </div>
                                    </div>
    
                                </div>
    
    
                                
                                
    
                        </div>
                        
    
                    
                    
    
                        <div class="artworks-container"  >
    
                            <!------------------------------------------------------------------------->
                            <!------------------------------------------------------------------------->
                            <!----------- VISUALISATION DES ALBUMS - PAS DE CREATION D'ALBUM ---------->
                            <!------------------------------------------------------------------------->
                            <!------------------------------------------------------------------------->
                            <div *ngIf="add_album==-1 " >
    
                                <ng-container *ngIf=" opened_category==0 && opened_album==0 && !display_comics_thumbnails">
                                    <div *ngFor="let item of categories_array; index as i1">
                                        <div class="category">
                                            <div class="category-title shiny"></div>
                                        </div>
                                        <div class="container-skeletons d-flex flex-wrap skeleton"
                                            [@enterAnimation]>
                                            <ng-container *ngFor="let item of skeleton_array; let i = index">
                                                <app-thumbnail-skeleton class="thumbnail-component-container"
                                                    *ngIf="number_of_skeletons_per_line>i"
                                                    (send_number_of_skeletons)="send_number_of_skeletons( $event );"
                                                    type_of_skeleton="comic">
                                                </app-thumbnail-skeleton>
                                            </ng-container>
                                        </div>
                        
                                    </div>
                                </ng-container>
    
                                <ng-container *ngIf=" opened_category==1 && !list_visibility_albums_drawings && opened_album==0">
                                    <div *ngFor="let item of categories_array; index as i1">
                                        <div class="category">
                                            <div class="category-title shiny"></div>
                                        </div>
                                        <div class="container-skeletons d-flex flex-wrap skeleton"
                                            [@enterAnimation]>
                                            <ng-container *ngFor="let item of skeleton_array; let i = index">
                                                <app-thumbnail-skeleton class="thumbnail-component-container"
                                                    *ngIf="number_of_skeletons_per_line>i"
                                                    (send_number_of_skeletons)="send_number_of_skeletons( $event );"
                                                    type_of_skeleton="drawing">
                                                </app-thumbnail-skeleton>
                                            </ng-container>
                                        </div>
                        
                                    </div>
                                </ng-container>
    
                                <ng-container *ngIf=" opened_category==1 && !list_visibility_albums_drawings && opened_album>0">
                                    <div *ngFor="let item of categories_array.slice(0,1); index as i1">
                                        <div class="container-skeletons d-flex flex-wrap skeleton"
                                            [@enterAnimation]>
                                            <ng-container *ngFor="let item of skeleton_array; let i = index">
                                                <app-thumbnail-skeleton class="thumbnail-component-container"
                                                    *ngIf="number_of_skeletons_per_line>i"
                                                    (send_number_of_skeletons)="send_number_of_skeletons( $event );"
                                                    type_of_skeleton="drawing">
                                                </app-thumbnail-skeleton>
                                            </ng-container>
                                        </div>
                        
                                    </div>
                                </ng-container>
    
                                <ng-container *ngIf=" opened_category==2 && opened_album==0 && !display_writings_thumbnails">
                                    <div *ngFor="let item of categories_array; index as i1">
                                        <div class="category">
                                            <div class="category-title shiny"></div>
                                        </div>
                                        <div class="container-skeletons d-flex flex-wrap skeleton"
                                            [@enterAnimation]>
                                            <ng-container *ngFor="let item of skeleton_array; let i = index">
                                                <app-thumbnail-skeleton class="thumbnail-component-container"
                                                    *ngIf="number_of_skeletons_per_line>i"
                                                    (send_number_of_skeletons)="send_number_of_skeletons( $event );"
                                                    type_of_skeleton="writing">
                                                </app-thumbnail-skeleton>
                                            </ng-container>
                                        </div>
                        
                                    </div>
                                </ng-container>
                                
                                <!------------------------------------------------------------------------->
                                <!------------------- VISUALISATION DES BANDES DESSINEES ------------------>
                                <!------------------------------------------------------------------------->
                                <div *ngIf="opened_category==0 && display_comics_thumbnails" class="bd-container" >
                                    
                                    <!--TOUS LES ALBUMS-->
                                    
    
                                    <div *ngIf="opened_album==0">
                                        <!--On parcourt tous les ajoutés albums-->
                                        <div *ngIf="list_albums_bd_added">
                                            <div *ngFor="let item of list_titles_albums_bd_added; let i = index"  >
    
                                                <!--On affiche l'album-->
                                                <div >
                                                    <div class="artwork-type-title" (click)="open_album(list_titles_albums_bd_added.length-i+2,false);" >
                                                        <span>{{list_titles_albums_bd_added[list_titles_albums_bd_added.length-i-1]}}</span>
                                                    </div>
                                                    <div  #myScrollContainer class=" container-comics container-small-screen"   >
                                                        <div *ngFor="let item2 of list_albums_bd[list_titles_albums_bd_added.length-i-1].slice(0,number_of_comics_to_show_by_album[list_titles_albums_bd_added.length-i+1]);let j=index" >
                                                            <app-thumbnail-comics *ngIf="item2.chaptersnumber == null" 
                                                            [item]=item2 
                                                            [width]=width
                                                            [myScrollContainer]=myScrollContainer
                                                            format='one-shot' 
                                                            now_in_seconds={{now_in_seconds}}
                                                            ></app-thumbnail-comics> 
                                                            <app-thumbnail-comics *ngIf="item2.chaptersnumber>=0"
                                                            [item]=item2 
                                                            [width]=width
                                                            [myScrollContainer]=myScrollContainer
                                                            format='serie' 
                                                            now_in_seconds={{now_in_seconds}}></app-thumbnail-comics>
                                                        </div>
                                                        <button *ngIf="list_albums_bd[list_titles_albums_bd_added.length-i-1].length>number_of_comics_to_show_by_album[list_titles_albums_bd_added.length-i+1]" class="see-more" (click)="see_more_comics(list_titles_albums_bd_added.length-i+1,0)">
                                                            <mat-icon [ngClass]="{'invisible': !show_icon }" class="icon">expand_more</mat-icon>
                                                        </button>
                                                    </div>
                                                </div>
                                                
                                            
                                            </div>
                                        </div>
    
                                        <!--On parcourt les séries -->
                                        <div *ngIf="list_bd_series_added && list_bd_series.length!=0 ">   
                                        
                                            <div >
                                                <div *ngIf="list_bd_series.length!=0">
                                                    <div class="artwork-type-title" (click)="open_album(2,false);">
                                                        <span>Séries</span>
                                                    </div>
                                                    <div #myScrollContainer class=" container-comics container-small-screen"  >
                                                        <app-thumbnail-comics 
                                                        *ngFor="let item of list_bd_series.slice(0,number_of_comics_to_show_by_album[1]) ; let i = index"
                                                        [item]=item 
                                                        [myScrollContainer]=myScrollContainer
                                                        [width]=width
                                                        format='serie' 
                                                        now_in_seconds={{now_in_seconds}}></app-thumbnail-comics>
                                                        <button *ngIf="list_bd_series.length>number_of_comics_to_show_by_album[1]" class="see-more" (click)="see_more_comics(1,0)">
                                                            <mat-icon [ngClass]="{'invisible': !show_icon }" class="icon">expand_more</mat-icon>
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        
                                        </div>
    
                                        <!--On parcourt les oneshots -->
                                        <div *ngIf="list_bd_oneshot_added && list_bd_oneshot.length!=0 ">   
                                        
                                            <div>
                                                <div *ngIf="list_bd_oneshot.length!=0">
                                                    <div class="artwork-type-title" (click)="open_album(1,false);">
                                                        <span>One-shots</span>
                                                    </div>
                                                    <div #myScrollContainer class=" container-comics  container-small-screen"  >
                                                        <app-thumbnail-comics *ngFor="let item of list_bd_oneshot.slice(0,number_of_comics_to_show_by_album[0]) ; let i = index" #bdThumbnail
                                                        [item]=item 
                                                        [myScrollContainer]=myScrollContainer
                                                        [width]=width
                                                        format='one-shot' 
                                                        now_in_seconds={{now_in_seconds}}></app-thumbnail-comics>
                                                        <button *ngIf="list_bd_oneshot.length>number_of_comics_to_show_by_album[0]" class="see-more" (click)="see_more_comics(0,0)">
                                                            <mat-icon [ngClass]="{'invisible': !show_icon }" class="icon">expand_more</mat-icon>
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        
                                        </div>
    
    
                                    </div>
    
    
                                    <!--ONE SHOTS-->
                                    <div *ngIf="opened_album==1" >
                                        <div class="container-comics"  >
                                            <app-thumbnail-comics  *ngFor="let item of list_bd_oneshot.slice(0,number_of_comics_to_show_by_album[0]) ; let i = index" #bdThumbnail
                                                [item]=item
                                                [width]=width
                                                format='one-shot'
                                                now_in_seconds={{now_in_seconds}}
                                            ></app-thumbnail-comics>
                                        </div>
                                        <div class="loading-page" *ngIf="new_contents_loading">
                                            <mat-spinner diameter="20" ></mat-spinner>
                                        </div>
                                    </div>
    
                                    <!--SERIES-->
                                    <div *ngIf="opened_album==2" >
                                        <div class=" container-comics"  >
                                            <app-thumbnail-comics  *ngFor="let item of list_bd_series.slice(0,number_of_comics_to_show_by_album[1]) ; let i = index" #bdThumbnail
                                                [item]=item
                                                [width]=width
                                                format='serie'
                                                now_in_seconds={{now_in_seconds}}
                                            ></app-thumbnail-comics>
                                        </div>
                                        <div class="loading-page" *ngIf="new_contents_loading">
                                            <mat-spinner diameter="20" ></mat-spinner>
                                        </div>
                                    </div>
    
                                    <!--AUTRES ALBUMS-->
                                    <div *ngFor="let elem of list_titles_albums_bd_added;let indice=index">
                                        <div *ngIf="opened_album==indice+3"  >
                                            <div class="container-comics" >
                                                <div *ngFor="let item of list_albums_bd[indice].slice(0,number_of_comics_to_show_by_album[indice+2]); let j = index"  #bdThumbnail>
                                
                                                    <app-thumbnail-comics *ngIf="item.chaptersnumber == null"
                                                        [item]=item
                                                        [width]=width
                                                        format='one-shot'
                                                        now_in_seconds={{now_in_seconds}}
                                                    ></app-thumbnail-comics>
                                                    <app-thumbnail-comics *ngIf="item.chaptersnumber >=0"
                                                        [item]=item 
                                                        [width]=width
                                                        format='serie'
                                                        now_in_seconds={{now_in_seconds}}
                                                    ></app-thumbnail-comics>
                                                </div>
                                                <div class="loading-page" *ngIf="new_contents_loading">
                                                    <mat-spinner diameter="20" ></mat-spinner>
                                                </div>
                                            </div>
                                            
                                        </div>
                                    </div>
    
    
                                </div>
    
                                
    
                                
                                <!------------------------------------------------------------------------->
                                <!----------------------- VISUALISATION DES DESSINS ----------------------->
                                <!--------------------------------------------------------------------- ---->
                                <div *ngIf="opened_category==1" class="bd-container"  [ngClass]="{'invisible':!list_visibility_albums_drawings}">
                                    
                                    
                                    <div *ngIf="opened_album==0" >
                                        <ng-container *ngIf="list_albums_drawings_added">
                                            <div *ngFor="let item of list_titles_albums_drawings_added ; let i = index">
    
                                                <!--On affiche l'album-->
                                                <div >
                                                    <div class="artwork-type-title with-margin-bottom" (click)="open_album(list_titles_albums_drawings_added.length-i+2,false);">
                                                        <span>{{list_titles_albums_drawings_added[list_titles_albums_drawings_added.length-i-1]}}</span>
                                                    </div>
                                                    <div class="grid" data-masonry='{ "itemSelector": ".grid-item", "columnWidth": 200 }' >
                                                        <div *ngFor="let item of list_albums_drawings[list_titles_albums_drawings_added.length-i-1].slice(0,number_of_drawings_to_show_by_album[list_titles_albums_drawings_added.length-i+1])"  
                                                            class="grid-item" >
                                                            <app-thumbnail-drawing *ngIf="item.pagesnumber == null"
                                                                (sendLoaded)="sendLoaded( $event );"
                                                                [item]=item
                                                                format='one-shot'
                                                                [width]=width
                                                                [prevent_shiny]=prevent_shiny
                                                                now_in_seconds={{now_in_seconds}}
                                                            ></app-thumbnail-drawing>
                                                            <app-thumbnail-drawing *ngIf="item.pagesnumber >=0"
                                                                (sendLoaded)="sendLoaded( $event );"
                                                                [item]=item
                                                                [width]=width
                                                                format='artbook'
                                                                [prevent_shiny]=prevent_shiny
                                                                now_in_seconds={{now_in_seconds}}
                                                            ></app-thumbnail-drawing>
                                                        </div>
                                                    </div>
                                                    <button *ngIf="list_albums_drawings[list_titles_albums_drawings_added.length-i-1].length>number_of_drawings_to_show_by_album[list_titles_albums_drawings_added.length-i+1]" 
                                                        class="see-more" (click)="see_more_drawings(list_titles_albums_drawings_added.length-i+1,0)">
                                                        <mat-icon [ngClass]="{'invisible': !show_icon }" >expand_more</mat-icon>
                                                    </button>
                                                </div>
    
                                            
                                                
                                            </div>
                                        </ng-container>
    
    
                                        <div *ngIf="list_drawings_artbook_added && list_drawings_artbook.length!=0 ">
                                            
    
                                            <div *ngIf="list_drawings_artbook.length!=0">
                                                <div class="artwork-type-title with-margin-bottom" (click)="open_album(2,false);">
                                                    <span>Artbooks</span>
                                                </div>
    
                                                <div class="grid" data-masonry='{ "itemSelector": ".grid-item", "columnWidth": 200 }'>
                                                    <div *ngFor="let item of list_drawings_artbook.slice(0,number_of_drawings_to_show_by_album[1])" class="grid-item">
                                                        <app-thumbnail-drawing
                                                            [item]=item
                                                            format='artbook'
                                                            now_in_seconds={{now_in_seconds}}
                                                            [prevent_shiny]=prevent_shiny
                                                            [width]=width
                                                            (sendLoaded)="sendLoaded( $event );"
                                                        ></app-thumbnail-drawing>
                                                    </div>
                                                    
                                                </div>
                                                <button *ngIf="list_drawings_artbook.length>number_of_drawings_to_show_by_album[1]" class="see-more" (click)="see_more_drawings(1,0)">
                                                    <mat-icon [ngClass]="{'invisible': !show_icon }" >expand_more</mat-icon>
                                                </button>
                                            </div>
                                        </div>
    
                                        <div *ngIf="list_drawings_onepage_added && list_drawings_onepage.length!=0 ">                              
                                            
                                            <div *ngIf="list_drawings_onepage.length!=0" >
                                                <div class="artwork-type-title with-margin-bottom"  (click)="open_album(1,false);">
                                                    <span>One-shots</span>
                                                </div>
                                                <div class="grid" data-masonry='{ "itemSelector": ".grid-item", "columnWidth": 200 }' >
                                                    <div *ngFor="let item of list_drawings_onepage.slice(0,number_of_drawings_to_show_by_album[0])" class="grid-item" #getwidth>
                                                        <app-thumbnail-drawing 
                                                            [item]=item
                                                            format='one-shot'
                                                            now_in_seconds={{now_in_seconds}}
                                                            [prevent_shiny]=prevent_shiny
                                                            [width]=width
                                                            (sendLoaded)="sendLoaded( $event );"
                                                        ></app-thumbnail-drawing>
                                                    </div>
                                                    
                                                    
                                                </div>
                                                <button *ngIf="list_drawings_onepage.length>number_of_drawings_to_show_by_album[0]" class="see-more" (click)="see_more_drawings(0,0)">
                                                    <mat-icon [ngClass]="{'invisible': !show_icon }" >expand_more</mat-icon>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
    
                                    <!--One-shots album-->
                                    <div *ngIf="opened_album==1"  >
                                        <div class="grid" data-masonry='{ "itemSelector": ".grid-item", "columnWidth": 200 }'>
                                            <div *ngFor="let item of list_drawings_onepage.slice(0,number_of_drawings_to_show_by_album[0])" class="grid-item" #getwidth>
                                                <app-thumbnail-drawing 
                                                    [item]=item
                                                    format='one-shot'
                                                    now_in_seconds={{now_in_seconds}}
                                                    [prevent_shiny]=prevent_shiny
                                                    [width]=width
                                                    (sendLoaded)="sendLoaded( $event );"
                                                ></app-thumbnail-drawing>
                                            </div>
                                        </div>
                                    </div>
                                    
    
    
                                    <!--Artbooks album-->
                                    <div  *ngIf="opened_album==2"  >
                                        <div class="grid" data-masonry='{ "itemSelector": ".grid-item", "columnWidth": 200 }'>
                                            <div *ngFor="let item of list_drawings_artbook.slice(0,number_of_drawings_to_show_by_album[1])" class="grid-item" #getwidth>
                                                <app-thumbnail-drawing 
                                                    [item]=item
                                                    [width]=width
                                                    format='artbook'
                                                    [prevent_shiny]=prevent_shiny
                                                    now_in_seconds={{now_in_seconds}}
                                                    (sendLoaded)="sendLoaded( $event );"
                                                ></app-thumbnail-drawing>
                                            </div>
                                            
                                    
                                        </div>
                                    </div> 
                                    
    
                                    
                                    <!--Autres albums-->
                                    <ng-container>
                                        
                                        <div *ngFor="let elem of list_titles_albums_drawings_added;let indice=index">
                                            <div *ngIf="opened_album==indice+3" >
                                                <div class="grid" data-masonry='{ "itemSelector": ".grid-item", "columnWidth": 200 }'>
                                                    <div *ngFor="let item of list_albums_drawings[indice].slice(0,number_of_drawings_to_show_by_album[indice+2])" class="grid-item" #getwidth>
                                                        <app-thumbnail-drawing *ngIf="item.pagesnumber == null"
                                                            [item]=item
                                                            format='one-shot'
                                                            now_in_seconds={{now_in_seconds}}
                                                            [prevent_shiny]=prevent_shiny
                                                            [width]=width
                                                            (sendLoaded)="sendLoaded( $event );"
                                                        ></app-thumbnail-drawing>
                                                        <app-thumbnail-drawing *ngIf="item.pagesnumber >=0"
                                                            [item]=item 
                                                            format='artbook'
                                                            now_in_seconds={{now_in_seconds}}
                                                            [prevent_shiny]=prevent_shiny
                                                            [width]=width
                                                            (sendLoaded)="sendLoaded( $event );"
                                                        ></app-thumbnail-drawing>
                                                    </div>
                                                </div>
                                            </div>
                                            
    
                                        </div>
                                    </ng-container>
    
                                </div>
    
                                
                                <!------------------------------------------------------------------------->
                                <!----------------------- VISUALISATION DES ECRITS ------------------------>
                                <!------------------------------------------------------------------------->
                                
    
                                <div *ngIf="opened_category==2 && display_writings_thumbnails" class="bd-container"  >
                                
                                    <div *ngIf="opened_album==0"  >
                                        <ng-container *ngIf="list_albums_writings_added">
                                            <div *ngFor="let item of list_titles_albums_writings_added ; let i = index">
    
                                                <!--On affiche l'album-->
                                                <div>
                                                    <div class="artwork-type-title"  (click)="open_album(list_titles_albums_writings_added.length-i,false);">
                                                        <span>{{list_titles_albums_writings_added[list_titles_albums_writings_added.length-i-1]}}</span>
                                                    </div>
    
                                                    <div #myScrollContainer class="container-small-screen container-writings">
                                                        <div *ngFor="let item of list_albums_writings[list_titles_albums_writings_added.length-i-1].slice(0,number_of_writings_to_show_by_album[list_titles_albums_writings_added.length-i])" >
                                                            <app-thumbnail-writing 
                                                                [item]=item
                                                                [myScrollContainer]=myScrollContainer
                                                                [width]=width
                                                                now_in_seconds={{now_in_seconds}}
                                                            ></app-thumbnail-writing>
                                                        </div>
                                                        <button *ngIf="list_albums_writings[list_titles_albums_writings_added.length-i-1].length>number_of_writings_to_show_by_album[list_titles_albums_writings_added.length-i]" class="see-more" (click)="see_more_writings(list_titles_albums_writings_added.length-i,0)">
                                                            <mat-icon [ngClass]="{'invisible': !show_icon }" class="icon">expand_more</mat-icon>
                                                        </button>
                                                    </div>
    
                                                </div>
    
                                                
                                                
                                            </div>
                                            
                                        </ng-container>
    
                                        <ng-container>
                                            <div *ngIf="list_titles_albums_writings_added.length>0" class="artwork-type-title"  (click)="open_album(0,false);">
                                                <span>Tout</span>
                                            </div>
                                            <div #myScrollContainer *ngIf="list_writings_added && list_writings.length!=0 " class="container-small-screen container-writings">   
                                            
                                                <div *ngFor="let item of list_writings.slice(0,number_of_writings_to_show_by_album[0])">
                                                    <app-thumbnail-writing 
                                                        [item]=item
                                                        [myScrollContainer]=myScrollContainer
                                                        [width]=width
                                                        now_in_seconds={{now_in_seconds}}
                                                    ></app-thumbnail-writing>
                                                </div>
    
                                                <button *ngIf="list_writings.length>number_of_writings_to_show_by_album[0]" class="see-more" (click)="see_more_writings(0,0)">
                                                    <mat-icon [ngClass]="{'invisible': !show_icon }" class="icon">expand_more</mat-icon>
                                                </button>
                                            </div>
                                            
                                        </ng-container>
                                        
                                    </div>
    
                                    <div *ngFor="let elem of list_titles_albums_writings_added;let indice=index">
                                        <div *ngIf="opened_album==indice+1"  >
                                            <div class="writing-thumbnails-container container-writings" >
                                                <div *ngFor="let item of list_albums_writings[indice].slice(0,number_of_writings_to_show_by_album[indice+1]); let j = index"  #bdThumbnail>
                                                    <app-thumbnail-writing 
                                                    [item]=item
                                                    [width]=width
                                                    now_in_seconds={{now_in_seconds}}
                                                    ></app-thumbnail-writing>
                                                </div>
                                                <div class="loading-page" *ngIf="new_contents_loading">
                                                    <mat-spinner diameter="20" ></mat-spinner>
                                                </div>
                                            </div>
                                            
                                        </div>
                                    </div>
    
    
                                </div>
    
                            </div>
                            
    
    
                            <!------------------------------------------------------------------------->
                            <!------------------- CREATION D'ALBUM - BANDE DESSINEE ------------------->
                            <!------------------------------------------------------------------------->
                            <div *ngIf="add_album==0 && list_bd_series_added && list_bd_oneshot_added" >
                                <app-add-album-comic 
                                    [author_name]=author_name
                                    [pseudo]=pseudo
                                    [user_id]=user_id
                                    [profile_picture]=profile_picture
                                    [primary_description]=primary_description
                                    [list_bd_oneshot]=list_bd_oneshot
                                    [list_bd_series]=list_bd_series>
                                </app-add-album-comic>
                            </div>
                            <!------------------------------------------------------------------------->
                            <!----------------------- CREATION D'ALBUM - DESSINS ---------------------->
                            <!------------------------------------------------------------------------->
                            <div  *ngIf="add_album==1 && list_drawings_onepage_added && list_drawings_artbook_added" >
                                <app-add-album-drawing
                                    [author_name]=author_name
                                    [pseudo]=pseudo
                                    [user_id]=user_id
                                    [profile_picture]=profile_picture
                                    [primary_description]=primary_description
                                    [list_drawings_onepage]=list_drawings_onepage
                                    [list_drawings_artbook]=list_drawings_artbook>
                                </app-add-album-drawing>
                            </div>
                            <!------------------------------------------------------------------------->
                            <!----------------------- CREATION D'ALBUM - ECRITS ----------------------->
                            <!------------------------------------------------------------------------->
                            <div *ngIf="add_album==2 && list_writings_added " >
                                <app-add-album-writing
                                    [author_name]=author_name
                                    [pseudo]=pseudo
                                    [user_id]=user_id
                                    [profile_picture]=profile_picture
                                    [primary_description]=primary_description
                                    [list_writings]=list_writings>
                                </app-add-album-writing>
                            </div>
    
    
                        </div>
    
                    </ng-container>
    
    
                    
                </div>
    
    
                <!---------------------------------------------------------------------------->
                <!---------------------------------------------------------------------------->
                <!-------------------------ADS & ABOUT & MY-ACCOUNT--------------------------->
                <!---------------------------------------------------------------------------->
                <!---------------------------------------------------------------------------->
                <ng-container *ngIf="list_writings_added && list_drawings_artbook_added
                && list_drawings_onepage_added && list_bd_series_added && list_bd_oneshot_added">
    
                    <div class="panel-background" *ngIf="!mode_visiteur && opened_section==2 ">
                        <div class="logos-container"  #target [@enterFromTopAnimation]>
                            <button class="logo" [ngClass]="{'opened': opened_category_ad == 0 }" (click)="open_category_ad(0);scroll(target);" #target>
                                <mat-icon [ngClass]="{'invisible': !show_icon }">announcement</mat-icon>
                                <span>Mes annonces</span>
                            </button>
                            <button class="logo" [ngClass]="{'opened': opened_category_ad == 1 }" (click)="open_category_ad(1);scroll(target);" #target>
                                <mat-icon [ngClass]="{'invisible': !show_icon }">post_add</mat-icon>
                                <span>Mes réponses</span>
                            </button>
                        </div>
                    </div>
    
                    <div class="ads-container" *ngIf="opened_section==2 && list_of_ads_added && list_of_ads.length>0 "  [@enterAnimation] [ngClass]="{'really-invisible': opened_category_ad!=0 }">
                        <div class="ad" *ngFor="let item of list_of_ads.slice(0,number_of_ads_to_show); let i = index">
                            <app-thumbnail-ad
                            [item]=item
                            [now_in_seconds]=now_in_seconds
                            ></app-thumbnail-ad>
                        </div>
                    </div>
    
                    <div class="ads-container" *ngIf="opened_section==2 && !mode_visiteur && list_of_ads_responses_added && list_of_ads_responses.length>0 "  [@enterAnimation] [ngClass]="{'really-invisible': opened_category_ad!=1 }">
                        <div class="ad" *ngFor="let item of list_of_ads_responses_data.slice(0,number_of_ads_responses_to_show); let k = index">
                            <app-thumbnail-ad
                            [item]=item
                            [response_date]="list_of_ads_responses_dates[k]"
                            [response_status]=list_of_ads_responses[k].status
                            [now_in_seconds]=now_in_seconds
                            ></app-thumbnail-ad>
    
                        
                        </div>
                    </div>
    
                    <div class="loading-page" *ngIf=" opened_section==2 && !mode_visiteur && loading_responses && opened_category_ad==1"  [@enterAnimation] >
    
                            <mat-spinner diameter="20" ></mat-spinner>
                    </div>
    
    
                    <div class="add-artwork-button" *ngIf="opened_section==2 && !mode_visiteur  && list_of_ads_added && list_of_ads.length==0 && opened_category_ad==0" >
                        <a [routerLink]=get_add_artwork_link()>
                            <button>
                                <mat-icon [ngClass]="{'invisible': !show_icon }">add</mat-icon>
                                <span>Publier votre première annonce</span>
                            </button>
                        </a>
                    </div>
    
                    <div class="text-lines large" *ngIf=" opened_section==2 && mode_visiteur  && list_of_ads_added && list_of_ads.length==0 && opened_category_ad==0" >
                        <mat-icon [ngClass]="{'invisible': !show_icon }">info_outline</mat-icon>
                        <span>Aucune annonce disponible</span>
                    </div>
    
                    <div class="text-lines large" *ngIf=" opened_section==2 && !mode_visiteur && list_of_ads_responses_added && list_of_ads_responses.length==0 && opened_category_ad==1" >
                        <mat-icon [ngClass]="{'invisible': !show_icon }">info_outline</mat-icon>
                        <span>Vous n'avez répondu à aucune annonce</span>
                    </div>
    
    
                    <div *ngIf=" opened_section==3">
                        <app-applications
                        [author]=author
                        [author_name]=author_name
                        ></app-applications>
                    </div>

                    <div *ngIf=" opened_section==6" >
                        <app-account-about
                        [pseudo]=pseudo
                        [id_user]=user_id
                        [author]=author
                        [opened_subcategory]=opened_subcategory
                        [visitor_mode]=mode_visiteur
                        ></app-account-about>
                    </div>
    
                    <div *ngIf="opened_section==7 && !mode_visiteur">
                        <app-archives
                        [pseudo]=pseudo
                        [id_user]=user_id
                        [author]=author
                        ></app-archives>
                    </div>
    
                    <div *ngIf="opened_section==8 && !mode_visiteur ">
                        <app-account-my-account
                        [pseudo]=pseudo
                        [id_user]=user_id
                        [author]=author
                        [visitor_mode]=mode_visiteur
                        ></app-account-my-account>
                    </div>
    
                    <div *ngIf="opened_section==9">
                        <app-account-my-account
                        [for_reset_password]=for_reset_password
                        [pseudo]=pseudo
                        [id_user]=user_id
                        [author]=author
                        [visitor_mode]=mode_visiteur
                        ></app-account-my-account>
                    </div>
    
                </ng-container>
    
            </div>
        </div>
        <div class="bottom-page-bottom">
        </div>
    </div>

   
    
</div>

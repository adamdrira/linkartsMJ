
<div class="container-fluid" [ngClass]="{'invisible': !(list_writings_added && list_drawings_artbook_added
&& list_drawings_onepage_added && list_bd_series_added && list_bd_oneshot_added)}">
    <main role="main">
        
        <div class="account-container">

            <img [src]="cover_picture" (load)="cover_loaded()" [ngClass]="{'invisible': !cover_is_loaded }">

            <button mat-raised-button *ngIf="!mode_visiteur && showEditCoverPic" class="change-cover-picture style0" (click)="change_cover_picture();">
                <div class="cover-picture-icon"></div>
                <span>Changer de photo de couverture</span>
            </button>

            <div #profileHovered class="profile">

                <div #profilePicHovered class="profile-picture" [ngClass]="{'visiteur': mode_visiteur }">

                    <img [src]="profile_picture" (load)="pp_loaded()" [ngClass]="{'invisible': !pp_is_loaded }">

                    <!--<div *ngIf="!mode_visiteur" class="change-profile-picture" (click)="change_profile_picture();">
                        <div class="picture-icon"></div>
                        <span>Changer de photo de profil</span>
                    </div>-->

                    <button mat-raised-button *ngIf="!mode_visiteur" class="change-profile-picture style0" (click)="change_profile_picture();">
                        <div class="picture-icon"></div>
                        <span>Changer de photo de profil</span>
                    </button>

                    <button mat-raised-button *ngIf="!mode_visiteur" class="change-story-picture style0" (click)="add_story();">
                        <mat-icon class="icon">play_circle_outline</mat-icon>
                        <span>Ajouter une story</span>
                    </button>
                    
                </div>
               
                

                <div *ngIf="mode_visiteur_added" class="profile-information">
                    <div class="profile-name">
                        <span>{{author_name}}</span>
                    </div>

                    <div class="profile-description">
                        <span *ngIf="primary_description!=null">{{primary_description}}</span>
                    </div>

                    <div class="profile-text" *ngIf="pseudo">	
                        <mat-icon class="icon">alternate_email</mat-icon>
                        <span> &nbsp; {{pseudo}}</span>
                    </div>
                    
                    <div class="profile-text" *ngIf="occupation">	
                        <mat-icon class="icon">work</mat-icon>
                        <span> &nbsp; {{occupation}}</span>
                    </div>
                    
                    <div class="profile-text" *ngIf="education">	
                        <mat-icon class="icon">school</mat-icon>
                        <span> &nbsp; {{education}}</span>
                    </div>

                    <div class="profile-text" *ngIf="user_location">
                        <mat-icon class="icon"> location_on</mat-icon>
                        <span> &nbsp; {{user_location}}</span>
                    </div>

                    <div *ngIf="mode_visiteur && type_of_profile_retrieved" class="visitor-buttons-container">
                        <a href="chat/{{pseudo}}/{{user_id}}">
                            <button mat-raised-button  class="visitor-button style0">
                                <div class="message-icon"></div>
                                    <span>Écrire</span>
                            </button>
                        </a>
                        <button *ngIf="!already_subscribed" (click)="subscribtion()" mat-raised-button class="visitor-button style1" style="box-shadow: 0px 0px 0px 2px rgb(69, 95, 143) !important;">
                            <div class="subscribe-icon"></div>
                            <span>S'abonner</span>
                        </button>
                        <button *ngIf="already_subscribed" (click)="subscribtion()" mat-raised-button class="visitor-button style1" style="box-shadow: 0px 0px 0px 2px rgb(69, 95, 143) !important;" >
                            <div class="subscribe-icon"></div>
                            <span>Se désabonner</span>
                        </button>
                    </div>

                </div>



                <button mat-raised-button *ngIf="!mode_visiteur && showEditBio" class="change-profile-info style0" (click)="change_profile_bio();">
                    <span>Editer mon profil</span>
                    <div class="change-profile-icon"></div>
                </button>

                
            </div>
        </div>
        

        <div class="panel-controller">
            <div  class="middle-container">

                <button mat-raised-button class="controller-category" [ngClass]="{'opened': opened_section == 0 }" (click)="open_section(0);">
                    <mat-icon style="font-size: 25px;margin: auto 5px auto auto;">home</mat-icon>
                    Accueil
                </button>
                <button mat-raised-button class="controller-category" [ngClass]="{'opened': opened_section == 1 }" (click)="open_section(1);scrollDown();">
                    <mat-icon style="font-size: 25px;margin: auto 5px auto auto;">art_track</mat-icon>
                    <ng-container *ngIf="!mode_visiteur">
                        Œuvres ({{number_of_artpieces}})
                    </ng-container>
                    <ng-container *ngIf="mode_visiteur">
                        Œuvres ({{number_of_artpieces}})
                    </ng-container>
                </button>
                <button mat-raised-button class="controller-category" [ngClass]="{'opened': opened_section == 2 }" (click)="open_section(2);">
                    <mat-icon style="font-size: 25px;margin: auto 5px auto auto;">announcement</mat-icon>
                    Annonces ({{list_of_ads.length}})
                </button>
                <button mat-raised-button class="controller-category" [ngClass]="{'opened': opened_section == 3 }" (click)="see_subscribers();">
                    <mat-icon style="font-size: 25px;margin: auto 5px auto auto;">group</mat-icon>
                    Abonnés ({{subscribed_users_list.length}})
                </button>
                <button mat-raised-button class="controller-category" [ngClass]="{'opened': opened_section == 4 }" (click)="see_subscribings();">
                    <mat-icon style="font-size: 25px;margin: auto 5px auto auto;">subscriptions</mat-icon>
                    Abonnements ({{users_subscribed_to_list.length}})
                </button>
                <button mat-raised-button class="controller-category" [ngClass]="{'opened': opened_section == 5 }" (click)="open_section(5);">
                    <mat-icon style="font-size: 25px;margin: auto 5px auto auto;">help</mat-icon>
                    À propos
                </button>
                <button mat-raised-button  *ngIf="!mode_visiteur" class="controller-category" [ngClass]="{'opened': opened_section == 6 }" (click)="open_section(6);">
                    <mat-icon style="font-size: 25px;margin: auto 5px auto auto;">bookmarks</mat-icon>
                    Archives 
                </button>
                <a href="/add-artwork">
                    <button mat-raised-button  *ngIf="!mode_visiteur" class="controller-category">
                        <mat-icon style="font-size: 25px;margin: auto 5px auto auto;">add_to_photos</mat-icon>
                        Publier 
                    </button>
                </a>

            </div>
        </div>


        <div *ngIf="opened_section==0 && list_writings_added && list_drawings_artbook_added
            && list_drawings_onepage_added && list_bd_series_added && list_bd_oneshot_added">
        
            <ng-container *ngIf="emphasized_artwork_added" >
                <div class="title">
                    <span>Œuvre mise en avant</span>
                </div>
                <div class="highlighted_artwork">
                     <app-thumbnail-artwork 
                     [item]=emphasized_artwork
                     now_in_seconds={{now_in_seconds}}
                     ></app-thumbnail-artwork>
                </div>
            </ng-container>
            

            <ng-container *ngIf="!emphasized_artwork_added && !mode_visiteur && !(!new_comic_contents_added && !new_drawing_contents_added && !new_writing_contents_added)" >
                <div class="title">
                    <span>Œuvre mise en avant</span>
                </div>
                <div class="highlighted_artwork">
                    <span >Aucune œuvre mise en avant <br> Vous pouvez mettre une œuvre en avant depuis la lecture d'une œuvre</span>
                </div>
            </ng-container>

            

            <ng-container *ngIf="!new_comic_contents_added && !new_drawing_contents_added && !new_writing_contents_added">
                <div class="highlighted_artwork" *ngIf="!mode_visiteur">
                    <a href="/add-artwork">
                        <button mat-raised-button >
                            <mat-icon style="font-size: 25px;margin: auto 5px auto auto;">add_to_photos</mat-icon>
                            Publier votre première oeuvre !
                        </button>
                    </a>
                </div>
                <div class="highlighted_artwork" *ngIf="mode_visiteur">
                    <span>Aucune oeuvre de disponible pour cet utilisateur</span>
                </div>
            </ng-container>


            <ng-container *ngIf="new_comic_contents_added || new_drawing_contents_added || new_writing_contents_added">

                <div class="title"  >
                    <span>Nouveautés</span>
                </div>
    
                <div *ngIf="new_comic_contents_added" class="bd-container" [ngClass]="{'invisible':!display_new_comic_contents}">
                    
                    <div class="artwork-type-title">
                        Bandes dessinées
                    </div>
                    <div class="container-comics newDrawings " >
                        <div *ngFor="let item of new_comic_contents,let i=index" class="new-artwork" #getwidth>
                            <app-thumbnail-comics 
                            *ngIf="item.chaptersnumber == null" 
                            (send_loaded)="new_contents_comics_thumbnails($event)"
                            [item]=item format='one-shot' 
                            now_in_seconds={{now_in_seconds}}
                            ></app-thumbnail-comics> 
                            <app-thumbnail-comics 
                            (send_loaded)="new_contents_comics_thumbnails($event)"
                            *ngIf="item.chaptersnumber>=0"
                            [item]=item format='serie' now_in_seconds={{now_in_seconds}}
                            ></app-thumbnail-comics>
                        </div>
                    </div>
                </div>
    
                <div *ngIf="new_drawing_contents_added" class="bd-container" [ngClass]="{'invisible':!display_new_drawing_contents}">
                    
                    <div class="artwork-type-title">
                        Dessins
                    </div>
                    <div class="container-drawings newDrawings">
                        <div *ngFor="let item of new_drawing_contents" style="height:280px; margin:40px 0px 30px 0px" class="new-artwork" #getwidth>
                            <app-thumbnail-drawing *ngIf="item.pagesnumber == null"
                                (sendLoaded)="new_contents_drawings_thumbnails($event)"
                                [item]=item
                                for_news="yes"
                                format='one-shot'
                                now_in_seconds={{now_in_seconds}}
                            ></app-thumbnail-drawing>
                            <app-thumbnail-drawing *ngIf="item.pagesnumber >=0"
                                (sendLoaded)="new_contents_drawings_thumbnails($event)"
                                [item]=item 
                                for_news="yes"
                                format='artbook'
                                now_in_seconds={{now_in_seconds}}
                            ></app-thumbnail-drawing>
                        </div>
                    </div>
                    
                </div>
    
                
                <div *ngIf="new_writing_contents_added" class="bd-container" [ngClass]="{'invisible':!display_new_writing_contents}">
                    
                    <div class="artwork-type-title">
                        Écrits
                    </div>
                    <div class="container-writings newDrawings">
                        <div *ngFor="let item of new_writing_contents" style="height:300px;" class="new-artwork" #getwidth>
                            <app-thumbnail-writing
                            (sendLoaded)="new_contents_writings_thumbnails($event)"
                            [item]=item
                            now_in_seconds={{now_in_seconds}}
                            ></app-thumbnail-writing>
                        </div>
                    </div>
                    
                </div>
            </ng-container >
            


        </div>




        <!--<ng-container *ngIf="opened_section==1 && number_of_artpieces==0 && list_bd_oneshot_added && list_bd_series_added && list_writings_added && list_drawings_artbook_added && list_drawings_onepage_added">
            <div class="highlighted_artwork" *ngIf="mode_visiteur">
                <span>L'utilisateur n'a publié aucune œuvre</span>
            </div>
            <div class="highlighted_artwork" *ngIf="!mode_visiteur">
                <br>
                <span>Vous n'avez pas encore publié d'œuvre
                    <br>
                    <br>
                    <a href="/add-artwork">Cliquez ici pour publier une œuvre</a>
                </span>
            </div>
        </ng-container>-->
            
        <ng-container *ngIf="opened_section==1 && list_writings_added && list_drawings_artbook_added
        && list_drawings_onepage_added && list_bd_series_added && list_bd_oneshot_added">
            
            <div class="logos-container">
                <div class="logo" [ngClass]="{'opened': opened_category == 0 }" (click)="open_category(0);scroll(target);" #target id="logo">
                    <div class="image1"></div>
                    <span *ngIf="!mode_visiteur">
                        Bandes dessinées ({{visible_number_of_comics}})
                    </span>
                    <span *ngIf="mode_visiteur">
                        Bandes dessinées ({{visible_number_of_comics}})
                    </span>
                </div>
                <div class="logo" [ngClass]="{'opened': opened_category == 1 }" (click)="open_category(1);scroll(target);" #target>
                    <div class="image2"></div>
                    <span  *ngIf="!mode_visiteur">
                        Dessins ({{visible_number_of_drawings}})
                    </span>
                    <span  *ngIf="mode_visiteur">
                        Dessins ({{visible_number_of_drawings}})
                    </span>
                </div>
                <div class="logo" [ngClass]="{'opened': opened_category == 2 }" (click)="open_category(2);scroll(target);" #target>
                    <div class="image3"></div>
                    <span *ngIf="!mode_visiteur">
                        Écrits ({{visible_number_of_writings}})
                    </span>
                    <span *ngIf="mode_visiteur">
                        Écrits ({{visible_number_of_writings}})
                    </span>
                </div>
            </div>

            
            <ng-container *ngIf="opened_category != -1">
                

                <div class="albums-container">
                    <div class="albums-filter">
                        <!-- Titres des albums bd-->
                        <ng-container *ngIf="opened_category==0 && list_albums_bd_added && (list_bd_oneshot.length != 0 || list_bd_series.length != 0)">
                            <div *ngFor="let element of list_titles_albums_bd; let i=index" style="position:relative;margin-bottom:5px">

                                <ng-container *ngIf="!(i==1 && list_bd_oneshot.length==0) && !(i==2 && list_bd_series.length==0)">


                                    <ng-container *ngIf="!mode_visiteur && ( i == 1 || i == 2 )">
                                        <button mat-icon-button class="optionsMenu"  [matMenuTriggerFor]="albumOptions">
                                            <mat-icon class="optionsButton">more_vert</mat-icon>
                                        </button>
                                        <mat-menu  #albumOptions="matMenu">
                                            <button class="mat-menu-item" *ngIf="list_bd_albums_status[i-1]!=='hidden'" mat-menu-item (click)="change_bd_album_status(i-1,true)"> 	
                                                <mat-icon class="item-icon">visibility_off</mat-icon>
                                                <span>Rendre privé</span>
                                            </button>
                                            <button class="mat-menu-item" *ngIf="list_bd_albums_status[i-1]=='hidden'" mat-menu-item (click)="change_bd_album_status(i-1,false)"> 	
                                                <mat-icon class="item-icon">visibility</mat-icon>
                                                <span>Rendre public</span>
                                            </button>
                                        </mat-menu>
                                    </ng-container>
                                    <ng-container *ngIf="!mode_visiteur && i>2">
                                        <button mat-icon-button class="optionsMenu" [matMenuTriggerFor]="albumOptions">
                                            <mat-icon class="optionsButton">more_vert</mat-icon>
                                        </button>
                                        <mat-menu  #albumOptions="matMenu">
                                            <button class="mat-menu-item" *ngIf="list_bd_albums_status[i-1]=='public'" mat-menu-item (click)="change_bd_album_status(i,true)"> 	
                                                <mat-icon class="item-icon">visibility_off</mat-icon>
                                                <span>Rendre privé</span>
                                            </button>
                                            <button class="mat-menu-item" *ngIf="list_bd_albums_status[i-1]=='private'" mat-menu-item (click)="change_bd_album_status(i,false)"> 	
                                                <mat-icon class="item-icon">visibility</mat-icon>
                                                <span>Rendre public</span>
                                            </button>
                                            <button class="mat-menu-item" mat-menu-item (click)="remove_bd_album(i)"> 	
                                                <mat-icon class="item-icon">cancel</mat-icon>
                                                <span>Supprimer cet album</span>
                                            </button>
                                        </mat-menu>
                                    </ng-container>


                                    <button mat-raised-button  *ngIf="!mode_visiteur || (mode_visiteur && list_bd_albums_status[i-1]!='hidden' && list_bd_albums_status[i-1]!='private')"  class="content-action text-center" 
                                    (click)="open_album(i);" [ngClass]="{ 'opened' : opened_album == i }">
                                        <div >{{element}}</div>
                                    </button>
                                </ng-container>

                            </div>

                        </ng-container>

                        <!-- Titres des albums drawing-->
                        <ng-container *ngIf="opened_category==1 && list_albums_drawings_added && (list_drawings_onepage.length != 0 || list_drawings_artbook.length != 0)">
                            <div *ngFor="let element of list_titles_albums_drawings; let i=index" style="position:relative;margin-bottom:5px">
                                
                                
                                <ng-container *ngIf="!(i==1 && list_drawings_onepage.length==0) && !(i==2 && list_drawings_artbook.length==0)">

                                    <ng-container *ngIf="!mode_visiteur && ( i == 1 || i == 2 ) ">
                                        <button mat-icon-button class="optionsMenu" [matMenuTriggerFor]="albumOptions">
                                            <mat-icon class="optionsButton">more_vert</mat-icon>
                                        </button>
                                        <mat-menu  #albumOptions="matMenu">
                                            <button class="mat-menu-item" *ngIf="list_drawing_albums_status[i-1]!=='hidden'" mat-menu-item (click)="change_drawing_album_status(i-1,true)"> 	
                                                <mat-icon class="item-icon">visibility_off</mat-icon>
                                                <span>Rendre privé</span>
                                            </button>
                                            <button class="mat-menu-item" *ngIf="list_drawing_albums_status[i-1]=='hidden'" mat-menu-item (click)="change_drawing_album_status(i-1,false)"> 	
                                                <mat-icon class="item-icon">visibility</mat-icon>
                                                <span>Rendre public</span>
                                            </button>
                                        </mat-menu>
                                    </ng-container>

                                    <ng-container *ngIf="!mode_visiteur && i>2">
                                        <button mat-icon-button class="optionsMenu" [matMenuTriggerFor]="albumOptions">
                                            <mat-icon class="optionsButton">more_vert</mat-icon>
                                        </button>
                                        <mat-menu  #albumOptions="matMenu">
                                            <button class="mat-menu-item" *ngIf="list_drawing_albums_status[i-1]=='public'" mat-menu-item (click)="change_drawing_album_status(i,true)"> 	
                                                <mat-icon class="item-icon">visibility_off</mat-icon>
                                                <span>Rendre privé</span>
                                            </button>
                                            <button class="mat-menu-item" *ngIf="list_drawing_albums_status[i-1]=='private'" mat-menu-item (click)="change_drawing_album_status(i,false)"> 	
                                                <mat-icon class="item-icon">visibility</mat-icon>
                                                <span>Rendre public</span>
                                            </button>
                                            <button class="mat-menu-item" mat-menu-item (click)="remove_drawing_album(i)"> 	
                                                <mat-icon class="item-icon">cancel</mat-icon>
                                                <span>Supprimer cet album</span>
                                            </button>
                                        </mat-menu>
                                    </ng-container>

                                    <button mat-raised-button  *ngIf="!mode_visiteur || (mode_visiteur && list_drawing_albums_status[i-1]!='hidden' && list_drawing_albums_status[i-1]!='private')" class="content-action text-center" 
                                    (click)="open_album(i);" [ngClass]="{ 'opened' : opened_album == i }">
                                        <div>{{element}}</div>
                                    </button>
                                </ng-container>
                            </div>


                        </ng-container>

                        <!-- Titres des albums writing-->
                        <ng-container *ngIf="opened_category==2 && (list_writings.length != 0)">
                            <div *ngFor="let element of list_titles_albums_writings; let i=index" style="position:relative;margin-bottom:5px">

                                
                                <ng-container *ngIf="!mode_visiteur && i>0">
                                    <button mat-icon-button class="optionsMenu" [matMenuTriggerFor]="albumOptions">
                                        <mat-icon class="optionsButton">more_vert</mat-icon>
                                    </button>
                                    <mat-menu  #albumOptions="matMenu">
                                        <button class="mat-menu-item" *ngIf="list_writings_albums_status[i-1]=='public'" mat-menu-item (click)="change_writing_album_status(i-1,true)"> 	
                                            <mat-icon class="item-icon">visibility_off</mat-icon>
                                            <span>Rendre privé</span>
                                        </button>
                                        <button class="mat-menu-item" *ngIf="list_writings_albums_status[i-1]=='private'" mat-menu-item (click)="change_writing_album_status(i-1,false)"> 	
                                            <mat-icon class="item-icon">visibility</mat-icon>
                                            <span>Rendre public</span>
                                        </button>
                                        <button class="mat-menu-item" mat-menu-item (click)="remove_writing_album(i-1)"> 	
                                            <mat-icon class="item-icon">cancel</mat-icon>
                                            <span>Supprimer cet album</span>
                                        </button>
                                    </mat-menu>
                                </ng-container>

                                <button mat-raised-button  *ngIf="!mode_visiteur || (mode_visiteur && list_writings_albums_status[i-1]!=='hidden' && list_writings_albums_status[i-1]!=='private')"  class="content-action text-center" 
                                (click)="open_album(i);" [ngClass]="{ 'opened' : opened_album == i }">
                                    <div>{{element}}</div>
                                </button>
                                    
                            </div>

                        </ng-container>


                        <div style="margin-bottom:5px">
                            <!--AJOUT ALBUM BD-->
                            <button mat-raised-button *ngIf="!mode_visiteur && opened_category==0 && number_of_comics!=0" class="add-album" (click)="start_add_album( opened_category )">
                                <ng-container *ngIf="add_album == -1">
                                    <mat-icon style="font-size: 25px;margin: auto 15px auto auto;">create_new_folder</mat-icon>
                                    <span>
                                        Créer une séction
                                    </span>
                                </ng-container>
                                <ng-container *ngIf="add_album != -1">
                                    <mat-icon style="font-size: 25px;margin: auto 15px auto auto;">cancel</mat-icon>
                                    <span>
                                        Annuler
                                    </span>
                                </ng-container>
                            </button>
                            <!--AJOUT ALBUM DESSINS-->
                            <button mat-raised-button *ngIf="!mode_visiteur && opened_category==1 && (number_of_drawings!=0)" class="add-album" (click)="start_add_album( opened_category )">
                                <ng-container *ngIf="add_album == -1">
                                    <mat-icon style="font-size: 25px;margin: auto 15px auto auto;">create_new_folder</mat-icon>
                                    <span>
                                        Créer une séction
                                    </span>
                                </ng-container>
                                <ng-container *ngIf="add_album != -1">
                                    <mat-icon style="font-size: 25px;margin: auto 15px auto auto;">cancel</mat-icon>
                                    <span>
                                        Annuler
                                    </span>
                                </ng-container>
                            </button>
                            <!--AJOUT ALBUM ECRITS-->
                            <button mat-raised-button style="width: 360px !important;" *ngIf="!mode_visiteur && opened_category==2 && number_of_writings!=0" class="add-album" (click)="start_add_album( opened_category )">
                                <ng-container *ngIf="add_album == -1">
                                    <mat-icon style="font-size: 25px;margin: auto 15px auto auto;">create_new_folder</mat-icon>
                                    <span>
                                        Créer une séction
                                    </span>
                                </ng-container>
                                <ng-container *ngIf="add_album != -1">
                                    <mat-icon style="font-size: 25px;margin: auto 15px auto auto;">cancel</mat-icon>
                                    <span>
                                        Annuler
                                    </span>
                                </ng-container>
                            </button>
                        </div>


                    </div>
        
                    

                </div>
                

                <!--**********************************-->
                <!--**********************************-->
                <!--Component artist artworks-->
                <!--**********************************-->
                <!--**********************************-->
                
                <div class="artworks-container" *ngIf=" opened_category>=0  && opened_section==1">

                    <!------------------------------------------------------------------------->
                    <!------------------------------------------------------------------------->
                    <!----------- VISUALISATION DES ALBUMS - PAS DE CREATION D'ALBUM ---------->
                    <!------------------------------------------------------------------------->
                    <!------------------------------------------------------------------------->
                    <ng-container *ngIf="add_album==-1">
                        
                        <div class="loading-page" *ngIf="contents_loading">
                            <mat-spinner diameter="30" ></mat-spinner>
                        </div>
                        <!------------------------------------------------------------------------->
                        <!------------------- VISUALISATION DES BANDES DESSINEES ------------------>
                        <!------------------------------------------------------------------------->
                        <div *ngIf="opened_category==0" class="bd-container" [ngClass]="{'really-invisible': !display_comics_thumbnails}">
                            
                            <!--TOUS LES ALBUMS-->
                            <ng-container *ngIf="opened_album==0">
                                <!--On parcourt tous les ajoutés albums-->
                                <ng-container *ngIf="list_albums_bd_added">
                                    <div *ngFor="let item of list_titles_albums_bd_added; let i = index">

                                        <!--On affiche l'album-->
                                        <div *ngIf="!mode_visiteur">
                                            <div class="artwork-type-title">
                                                {{list_titles_albums_bd_added[list_titles_albums_bd_added.length-i-1]}}
                                                </div>
                                            <div class="bd-thumbnails-container container-comics" #container_comics  >
                                                <div *ngFor="let item2 of list_albums_bd[list_titles_albums_bd_added.length-i-1].slice(0,number_of_comics_to_show_by_album[list_titles_albums_bd_added.length-i+1]);let j=index" >
                                                    <app-thumbnail-comics *ngIf="item2.chaptersnumber == null" 
                                                    [item]=item2 
                                                    format='one-shot' 
                                                    now_in_seconds={{now_in_seconds}}
                                                    (send_loaded)="display_albums_comics_thumbnails()"
                                                    ></app-thumbnail-comics> 
                                                    <app-thumbnail-comics *ngIf="item2.chaptersnumber>=0"
                                                    [item]=item2 
                                                    format='serie' 
                                                    now_in_seconds={{now_in_seconds}}
                                                    (send_loaded)="display_albums_comics_thumbnails()"></app-thumbnail-comics>
                                                </div>
                                            </div>
                                        </div>
                                        <div *ngIf="mode_visiteur && list_bd_albums_status[list_titles_albums_bd_added.length-i+1]=='public'">
                                            <div class="artwork-type-title">
                                                {{list_titles_albums_bd_added[list_titles_albums_bd_added.length-i-1]}}
                                            </div>
                                            <div class="bd-thumbnails-container container-comics" #container_comics  >
                                                <div *ngFor="let item2 of list_albums_bd[list_titles_albums_bd_added.length-i-1].slice(0,number_of_comics_to_show_by_album[list_titles_albums_bd_added.length-i+1]);let j=index" #bdThumbnail>
                                                    <app-thumbnail-comics *ngIf="item2.chaptersnumber == null" 
                                                    [item]=item2 
                                                    format='one-shot' 
                                                    now_in_seconds={{now_in_seconds}}
                                                    (send_loaded)="display_albums_comics_thumbnails()"></app-thumbnail-comics> 
                                                    <app-thumbnail-comics *ngIf="item2.chaptersnumber>=0"
                                                    [item]=item2 
                                                    format='serie' 
                                                    now_in_seconds={{now_in_seconds}}
                                                    (send_loaded)="display_albums_comics_thumbnails()"></app-thumbnail-comics>
                                                </div>
                                            </div>
                                        </div>
                                        <div *ngIf="list_albums_bd[list_titles_albums_bd_added.length-i-1].length>number_of_comics_to_show_by_album[list_titles_albums_bd_added.length-i+1]" class="see-more" (click)="see_more_comics(list_titles_albums_bd_added.length-i+1,0)">
                                            <div class="icon">
                                            </div>
                                        </div>
                                    </div>
                                </ng-container>

                                <!--On parcourt les séries -->
                                <div *ngIf="list_bd_series_added && list_bd_series.length!=0 ">   
                                    <div *ngIf="mode_visiteur && list_bd_albums_status[1]=='standard'">
                                        <div *ngIf="list_bd_series.length!=0">
                                            <div class="artwork-type-title">
                                                Séries
                                            </div>
                                        </div>
                                        <div class="bd-thumbnails-container container-comics" #container_comics  >
                                            <app-thumbnail-comics *ngFor="let item of list_bd_series.slice(0,number_of_comics_to_show_by_album[1]) ; let i = index" #container_comics
                                            [item]=item 
                                            format='serie' 
                                            now_in_seconds={{now_in_seconds}}
                                            (send_loaded)="display_albums_comics_thumbnails()"></app-thumbnail-comics>
                                        </div>
                                    </div>
                                    <div *ngIf="!mode_visiteur">
                                        <div *ngIf="list_bd_series.length!=0">
                                            <div class="artwork-type-title">
                                                Séries
                                            </div>
                                             <div class="bd-thumbnails-container container-comics"  #container_comics >
                                                <app-thumbnail-comics 
                                                *ngFor="let item of list_bd_series.slice(0,number_of_comics_to_show_by_album[1]) ; let i = index"
                                                [item]=item format='serie' now_in_seconds={{now_in_seconds}}
                                                (send_loaded)="display_albums_comics_thumbnails()"></app-thumbnail-comics>
                                            </div>
                                        </div>
                                    </div>
                                    <div *ngIf="list_bd_series.length>number_of_comics_to_show_by_album[1]" class="see-more" (click)="see_more_comics(1,0)">
                                        <div class="icon">
                                        </div>
                                    </div>
                                </div>

                                <!--On parcourt les oneshots -->
                                <div *ngIf="list_bd_oneshot_added && list_bd_oneshot.length!=0 ">   
                                    <div *ngIf="mode_visiteur && list_bd_albums_status[0]=='standard'">
                                        <div *ngIf="list_bd_oneshot.length!=0">
                                            <div class="artwork-type-title">
                                                One-shots
                                            </div>
                                        </div>
                                        <div class="bd-thumbnails-container container-comics" #container_comics >
                                            <app-thumbnail-comics *ngFor="let item of list_bd_oneshot.slice(0,number_of_comics_to_show_by_album[0]) ; let i = index" #bdThumbnail
                                            [item]=item format='one-shot' now_in_seconds={{now_in_seconds}}
                                            (send_loaded)="display_albums_comics_thumbnails()"></app-thumbnail-comics>
                                        </div>
                                    </div>
                                    <div *ngIf="!mode_visiteur">
                                        <div *ngIf="list_bd_oneshot.length!=0">
                                            <div class="artwork-type-title">
                                                One-shots
                                            </div>
                                            <div class="bd-thumbnails-container container-comics" #container_comics >
                                                <app-thumbnail-comics *ngFor="let item of list_bd_oneshot.slice(0,number_of_comics_to_show_by_album[0]) ; let i = index" #bdThumbnail
                                                [item]=item format='one-shot' now_in_seconds={{now_in_seconds}}
                                                (send_loaded)="display_albums_comics_thumbnails()"></app-thumbnail-comics>
                                            </div>
                                        </div>
                                    </div>
                                    <div *ngIf="list_bd_oneshot.length>number_of_comics_to_show_by_album[0]" class="see-more" (click)="see_more_comics(0,0)">
                                        <div class="icon">
                                        </div>
                                    </div>
                                </div>


                            </ng-container>


                            <!--ONE SHOTS-->
                            <ng-container *ngIf="opened_album==1">
                                <div class="bd-thumbnails-container container-comics" #container_comics >
                                    <app-thumbnail-comics  *ngFor="let item of list_bd_oneshot ; let i = index" #bdThumbnail
                                        [item]=item
                                        format='one-shot'
                                        now_in_seconds={{now_in_seconds}}
                                        (send_loaded)="display_albums_comics_thumbnails()"
                                    ></app-thumbnail-comics>
                                </div>
                            </ng-container>

                            <!--SERIES-->
                            <ng-container *ngIf="opened_album==2">
                                <div class="bd-thumbnails-container container-comics" #container_comics>
                                    <app-thumbnail-comics  *ngFor="let item of list_bd_series.slice(0,number_of_comics_to_show_by_album[1]) ; let i = index" #bdThumbnail
                                        [item]=item
                                        format='serie'
                                        now_in_seconds={{now_in_seconds}}
                                        (send_loaded)="display_albums_comics_thumbnails()"
                                    ></app-thumbnail-comics>
                                </div>
                                <div class="loading-page" *ngIf="new_contents_loading">
                                    <mat-spinner diameter="20" ></mat-spinner>
                                </div>
                            </ng-container>

                            <!--AUTRES ALBUMS-->
                            <ng-container *ngIf="opened_album>=3">
                                <div class="bd-thumbnails-container container-comics" #container_comics>
                                    <div *ngFor="let item of list_albums_bd[opened_album - 3].slice(0,number_of_comics_to_show_by_album[opened_album-1]) ; let j = index" #bdThumbnail>
                                        <app-thumbnail-comics *ngIf="item.chaptersnumber == null"
                                            [item]=item
                                            format='one-shot'
                                            now_in_seconds={{now_in_seconds}}
                                            (send_loaded)="display_albums_comics_thumbnails()"
                                        ></app-thumbnail-comics>
                                        <app-thumbnail-comics *ngIf="item.chaptersnumber >=0"
                                            [item]=item 
                                            format='serie'
                                            now_in_seconds={{now_in_seconds}}
                                            (send_loaded)="display_albums_comics_thumbnails()"
                                        ></app-thumbnail-comics>
                                    </div>
                                </div>
                            </ng-container>


                        </div>

                        

                        
                        <!------------------------------------------------------------------------->
                        <!----------------------- VISUALISATION DES DESSINS ----------------------->
                        <!--------------------------------------------------------------------- ---->
                        <div *ngIf="opened_category==1" class="bd-container"  [ngClass]="{'really-invisible':!list_visibility_albums_drawings }">
                            <ng-container *ngIf="opened_album==0" >
                                
                               

                                <ng-container *ngIf="list_albums_drawings_added">
                                    <div *ngFor="let item of list_titles_albums_drawings_added ; let i = index">

                                        <!--On affiche l'album-->
                                        <div *ngIf="!mode_visiteur" >
                                            <div class="bd-container"  #container_drawings>
                                                <div class="artwork-type-title">
                                                    {{list_titles_albums_drawings_added[list_titles_albums_drawings_added.length-i-1]}}
                                                </div>
                                                <div class="grid" data-masonry='{ "itemSelector": ".grid-item", "columnWidth": 200 }' >
                                                    <div *ngFor="let item of list_albums_drawings[list_titles_albums_drawings_added.length-i-1].slice(0,number_of_drawings_to_show_by_album[list_titles_albums_drawings_added.length-i+1])"  
                                                     class="grid-item" >
                                                        <app-thumbnail-drawing *ngIf="item.pagesnumber == null"
                                                            (sendLoaded)="sendLoaded( $event );"
                                                            [item]=item
                                                            format='one-shot'
                                                            now_in_seconds={{now_in_seconds}}
                                                        ></app-thumbnail-drawing>
                                                        <app-thumbnail-drawing *ngIf="item.pagesnumber >=0"
                                                            (sendLoaded)="sendLoaded( $event );"
                                                            [item]=item
                                                            format='artbook'
                                                            now_in_seconds={{now_in_seconds}}
                                                        ></app-thumbnail-drawing>
                                                    </div>
                                                    <div class="grid-item" style="height:1px;width:100px;">
                                                    </div>
                                                    <div class="grid-item" style="height:1px;width:100px;">
                                                    </div>
                                                    <div class="grid-item" style="height:1px;width:100px;">
                                                    </div>
                                                    <div class="grid-item" style="height:1px;width:100px;">
                                                    </div>
                                                    <div class="grid-item" style="height:1px;width:100px;">
                                                    </div>
                                                </div>
                                                <div *ngIf="list_albums_drawings[list_titles_albums_drawings_added.length-i-1].length>number_of_drawings_to_show_by_album[list_titles_albums_drawings_added.length-i+1]" 
                                                    class="see-more" (click)="see_more_drawings(list_titles_albums_drawings_added.length-i+1,0)">
                                                    <div class="icon">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div *ngIf="mode_visiteur && list_drawing_albums_status[list_titles_albums_drawings_added.length-i+1]=='public'">
                                            <div class="bd-container" #container_drawings>
                                                <div class="artwork-type-title">
                                                    {{list_titles_albums_drawings_added[list_titles_albums_drawings_added.length-i-1]}}
                                                </div>
                                                <div class="grid" data-masonry='{ "itemSelector": ".grid-item", "columnWidth": 200 }'>
                                                    <div *ngFor="let item of list_albums_drawings[list_titles_albums_drawings_added.length-i-1].slice(0,number_of_drawings_to_show_by_album[list_titles_albums_drawings_added.length-i+1])"  class="grid-item">
                                                        <app-thumbnail-drawing *ngIf="item.pagesnumber == null"
                                                            (sendLoaded)="sendLoaded( $event );"
                                                            [item]=item
                                                            format='one-shot'
                                                            now_in_seconds={{now_in_seconds}}
                                                        ></app-thumbnail-drawing>
                                                        <app-thumbnail-drawing *ngIf="item.pagesnumber >=0"
                                                            (sendLoaded)="sendLoaded( $event );"
                                                            [item]=item
                                                            format='artbook'
                                                            now_in_seconds={{now_in_seconds}}
                                                        ></app-thumbnail-drawing>
                                                    </div>
                                                    <div class="grid-item" style="height:1px;width:100px;">
                                                    </div>
                                                    <div class="grid-item" style="height:1px;width:100px;">
                                                    </div>
                                                    <div class="grid-item" style="height:1px;width:100px;">
                                                    </div>
                                                    <div class="grid-item" style="height:1px;width:100px;">
                                                    </div>
                                                    <div class="grid-item" style="height:1px;width:100px;">
                                                    </div>
                                                </div>
                                                <div *ngIf="list_albums_drawings[list_titles_albums_drawings_added.length-i-1].length>number_of_drawings_to_show_by_album[list_titles_albums_drawings_added.length-i+1]" class="see-more" (click)="see_more_drawings(list_titles_albums_drawings_added.length-i+1,0)">
                                                    <div class="icon">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        
                                    </div>
                                </ng-container>


                                <div *ngIf="list_drawings_artbook_added && list_drawings_artbook.length!=0 ">
                                    <div *ngIf="mode_visiteur && list_drawing_albums_status[1]=='standard'">
                                        <div *ngIf="list_drawings_artbook.length!=0" class="bd-container" #container_drawings>
                                            
                                            <div class="artwork-type-title">
                                                Artbooks
                                            </div>

                                            <div  class="grid" data-masonry='{ "itemSelector": ".grid-item", "columnWidth": 200 }' >
                                                <div *ngFor="let item of list_drawings_artbook.slice(0,number_of_drawings_to_show_by_album[1])" class="grid-item">
                                                    <app-thumbnail-drawing
                                                        [item]=item
                                                        format='artbook'
                                                        now_in_seconds={{now_in_seconds}}
                                                        (sendLoaded)="sendLoaded( $event );"
                                                    ></app-thumbnail-drawing>
                                                </div>

                                    
                                                <div class="grid-item" style="height:1px;width:100px;">
                                                </div>
                                                <div class="grid-item" style="height:1px;width:100px;">
                                                </div>
                                                <div class="grid-item" style="height:1px;width:100px;">
                                                </div>
                                                <div class="grid-item" style="height:1px;width:100px;">
                                                </div>
                                                <div class="grid-item" style="height:1px;width:100px;">
                                                </div>
                                            </div>
                                            <div *ngIf="list_drawings_artbook.length>number_of_drawings_to_show_by_album[1]" class="see-more" (click)="see_more_drawings(1,0)">
                                                <div class="icon">
                                                </div>
                                            </div>

                                        </div>
                                    </div>

                                    <div *ngIf="!mode_visiteur">
                                        <div *ngIf="list_drawings_artbook.length!=0" class="bd-container" #container_drawings>
                                            
                                            <div class="artwork-type-title">
                                                Artbooks
                                            </div>

                                            <div class="grid" data-masonry='{ "itemSelector": ".grid-item", "columnWidth": 200 }'>
                                                <div *ngFor="let item of list_drawings_artbook.slice(0,number_of_drawings_to_show_by_album[1])" class="grid-item">
                                                    <app-thumbnail-drawing
                                                        [item]=item
                                                        format='artbook'
                                                        now_in_seconds={{now_in_seconds}}
                                                        (sendLoaded)="sendLoaded( $event );"
                                                    ></app-thumbnail-drawing>
                                                </div>
                                                
                                                
                                                <div class="grid-item" style="height:1px;width:100px;">
                                                </div>
                                                <div class="grid-item" style="height:1px;width:100px;">
                                                </div>
                                                <div class="grid-item" style="height:1px;width:100px;">
                                                </div>
                                                <div class="grid-item" style="height:1px;width:100px;">
                                                </div>
                                                <div class="grid-item" style="height:1px;width:100px;">
                                                </div>
                                            </div>
                                            <div *ngIf="list_drawings_artbook.length>number_of_drawings_to_show_by_album[1]" class="see-more" (click)="see_more_drawings(1,0)">
                                                <div class="icon">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div *ngIf="list_drawings_onepage_added && list_drawings_onepage.length!=0 ">                              
                                    <div *ngIf=" mode_visiteur && list_drawing_albums_status[0]=='standard'" >
                                        <div *ngIf="list_drawings_onepage.length!=0" class="bd-container" #container_drawings>
                                            
                                            <div class="artwork-type-title">
                                                One-shots
                                            </div>

                                            <div class="grid" data-masonry='{ "itemSelector": ".grid-item", "columnWidth": 200 }'>
                                                <div *ngFor="let item of list_drawings_onepage.slice(0,number_of_drawings_to_show_by_album[0])" class="grid-item">
                                                    <app-thumbnail-drawing
                                                        [item]=item
                                                        format='one-shot'
                                                        now_in_seconds={{now_in_seconds}}
                                                        (sendLoaded)="sendLoaded( $event );"
                                                    ></app-thumbnail-drawing>
                                                </div>

                                    
                                                <div class="grid-item" style="height:1px;width:100px;">
                                                </div>
                                                <div class="grid-item" style="height:1px;width:100px;">
                                                </div>
                                                <div class="grid-item" style="height:1px;width:100px;">
                                                </div>
                                                <div class="grid-item" style="height:1px;width:100px;">
                                                </div>
                                                <div class="grid-item" style="height:1px;width:100px;">
                                                </div>
                                                
                                            </div>
                                            <div *ngIf="list_drawings_onepage.length>number_of_drawings_to_show_by_album[0]" class="see-more" (click)="see_more_drawings(0,0)">
                                                <div class="icon">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div *ngIf=" !mode_visiteur " >
                                        <div *ngIf="list_drawings_onepage.length!=0" class="bd-container" #container_drawings>

                                            <div class="artwork-type-title">
                                                One-shots
                                            </div>
                                            <div class="grid" data-masonry='{ "itemSelector": ".grid-item", "columnWidth": 200 }' >
                                                <div *ngFor="let item of list_drawings_onepage.slice(0,number_of_drawings_to_show_by_album[0])" class="grid-item" #getwidth>
                                                    <app-thumbnail-drawing 
                                                        [item]=item
                                                        format='one-shot'
                                                        now_in_seconds={{now_in_seconds}}
                                                        (sendLoaded)="sendLoaded( $event );"
                                                    ></app-thumbnail-drawing>
                                                </div>

                                    
                                                <div class="grid-item" style="height:1px;width:100px;">
                                                </div>
                                                <div class="grid-item" style="height:1px;width:100px;">
                                                </div>
                                                <div class="grid-item" style="height:1px;width:100px;">
                                                </div>
                                                <div class="grid-item" style="height:1px;width:100px;">
                                                </div>
                                                <div class="grid-item" style="height:1px;width:100px;">
                                                </div>
                                            </div>
                                            <div *ngIf="list_drawings_onepage.length>number_of_drawings_to_show_by_album[0]" class="see-more" (click)="see_more_drawings(0,0)">
                                                <div class="icon">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </ng-container>

                            <!--One-shots album-->
                            <div class="bd-container" #container_drawings>
                                <div *ngIf="opened_album==1" class="grid" data-masonry='{ "itemSelector": ".grid-item", "columnWidth": 200 }'>
                                    <div *ngFor="let item of list_drawings_onepage.slice(0,number_of_drawings_to_show_by_album[0])" class="grid-item" #getwidth>
                                        <app-thumbnail-drawing 
                                            [item]=item
                                            format='one-shot'
                                            now_in_seconds={{now_in_seconds}}
                                            (sendLoaded)="sendLoaded( $event );"
                                        ></app-thumbnail-drawing>
                                    </div>

                                    
                                    <div class="grid-item" style="height:1px;width:100px;">
                                    </div>
                                    <div class="grid-item" style="height:1px;width:100px;">
                                    </div>
                                    <div class="grid-item" style="height:1px;width:100px;">
                                    </div>
                                    <div class="grid-item" style="height:1px;width:100px;">
                                    </div>
                                    <div class="grid-item" style="height:1px;width:100px;">
                                    </div>
                                    
                                </div>
                            </div>


                            <!--Artbooks album-->
                            <div class="bd-container" #container_drawings>
                                <div *ngIf="opened_album==2" class="grid" data-masonry='{ "itemSelector": ".grid-item", "columnWidth": 200 }'>
                                    <div *ngFor="let item of list_drawings_artbook.slice(0,number_of_drawings_to_show_by_album[1])" class="grid-item" #getwidth>
                                        <app-thumbnail-drawing 
                                            [item]=item
                                            format='artbook'
                                            now_in_seconds={{now_in_seconds}}
                                            (sendLoaded)="sendLoaded( $event );"
                                        ></app-thumbnail-drawing>
                                    </div>
                                    
                                    <div class="grid-item" style="height:1px;width:100px;">
                                    </div>
                                    <div class="grid-item" style="height:1px;width:100px;">
                                    </div>
                                    <div class="grid-item" style="height:1px;width:100px;">
                                    </div>
                                    <div class="grid-item" style="height:1px;width:100px;">
                                    </div>
                                    <div class="grid-item" style="height:1px;width:100px;">
                                    </div>
                                   
                                </div>
                            </div>

                            
                            <!--Autres albums-->
                           
                            <div class="bd-container" *ngIf="opened_album>=3" #container_drawings>
                                <div *ngFor="let elem of list_titles_albums_drawings_added;let indice=index">
                                    <div *ngIf="(opened_album-3)==indice" class="grid" data-masonry='{ "itemSelector": ".grid-item", "columnWidth": 200 }'>
                                        <div *ngFor="let item of list_albums_drawings[opened_album - 3].slice(0,number_of_drawings_to_show_by_album[opened_album-1])" class="grid-item" #getwidth>
                                            <app-thumbnail-drawing *ngIf="item.pagesnumber == null"
                                                [item]=item
                                                format='one-shot'
                                                now_in_seconds={{now_in_seconds}}
                                                (sendLoaded)="sendLoaded( $event );"
                                            ></app-thumbnail-drawing>
                                            <app-thumbnail-drawing *ngIf="item.pagesnumber >=0"
                                                [item]=item 
                                                format='artbook'
                                                now_in_seconds={{now_in_seconds}}
                                                (sendLoaded)="sendLoaded( $event );"
                                            ></app-thumbnail-drawing>
                                        </div>


                                        <div class="grid-item" style="height:1px;width:100px;">
                                        </div>
                                        <div class="grid-item" style="height:1px;width:100px;">
                                        </div>
                                        <div class="grid-item" style="height:1px;width:100px;">
                                        </div>
                                        <div class="grid-item" style="height:1px;width:100px;">
                                        </div>
                                        <div class="grid-item" style="height:1px;width:100px;">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            

                        </div>

                        
                        <!------------------------------------------------------------------------->
                        <!----------------------- VISUALISATION DES ECRITS ------------------------>
                        <!------------------------------------------------------------------------->
                        

                        <div *ngIf="opened_category==2" class="bd-container" #container_writings [ngClass]="{'invisible': !display_writings_thumbnails}">
                        
                            <ng-container *ngIf="opened_album==0">
                                <ng-container *ngIf="list_albums_writings_added">
                                    <div *ngFor="let item of list_titles_albums_writings_added ; let i = index">

                                        <!--On affiche l'album-->
                                        <div *ngIf="!mode_visiteur">
                                            <div class="artwork-type-title">
                                                {{list_titles_albums_writings_added[list_titles_albums_writings_added.length-i-1]}}
                                            </div>

                                            <div class="writing-thumbnails-container container-writings">
                                                <div *ngFor="let item of list_albums_writings[list_titles_albums_writings_added.length-i-1].slice(0,number_of_writings_to_show_by_album[list_titles_albums_writings_added.length-i])" >
                                                    <app-thumbnail-writing 
                                                        (sendLoaded)="display_albums_writing_thumbnails( $event );"
                                                        [item]=item
                                                        now_in_seconds={{now_in_seconds}}
                                                    ></app-thumbnail-writing>
                                                </div>
                                            </div>

                                        </div>
                                        <div *ngIf="mode_visiteur && list_writings_albums_status[list_titles_albums_writings_added.length-i-1]=='public'">
                                            <div class="artwork-type-title">
                                                {{list_titles_albums_writings_added[list_titles_albums_writings_added.length-i-1]}}
                                            </div>

                                            <div class="writing-thumbnails-container container-writings">
                                                <div *ngFor="let item of list_albums_writings[list_titles_albums_writings_added.length-i-1].slice(0,number_of_writings_to_show_by_album[list_titles_albums_writings_added.length-i])" >
                                                    <app-thumbnail-writing
                                                        (sendLoaded)="display_albums_writing_thumbnails( $event );"
                                                        [item]=item
                                                        now_in_seconds={{now_in_seconds}}
                                                    ></app-thumbnail-writing>
                                                </div>
                                            </div>

                                        </div>
                                        <div *ngIf="list_albums_writings[list_titles_albums_writings_added.length-i-1].length>number_of_writings_to_show_by_album[list_titles_albums_writings_added.length-i]" class="see-more" (click)="see_more_writings(list_titles_albums_writings_added.length-i,0)">
                                            <div class="icon">
                                            </div>
                                        </div>
                                    </div>
                                    
                                </ng-container>

                                <ng-container>
                                    <div *ngIf="list_titles_albums_writings_added.length>0" class="artwork-type-title">
                                        Tout
                                    </div>
                                    <div *ngIf="list_writings_added && list_writings.length!=0 " class="writing-thumbnails-container container-writings">   
                                    
                                        <div *ngFor="let item of list_writings.slice(0,number_of_writings_to_show_by_album[0])">
                                            <app-thumbnail-writing 
                                            (sendLoaded)="display_albums_writing_thumbnails( $event );"
                                                [item]=item
                                                now_in_seconds={{now_in_seconds}}
                                            ></app-thumbnail-writing>
                                        </div>
                                    </div>
                                    <div *ngIf="list_writings.length>number_of_writings_to_show_by_album[0]" class="see-more" (click)="see_more_writings(0,0)">
                                        <div class="icon">
                                        </div>
                                    </div>
                                </ng-container>
                               
                            </ng-container>


                            <!--Autres albums-->
                            <ng-container *ngIf="opened_album>=1">
                                <div class="writing-thumbnails-container container-writings">
                                    <div *ngFor="let item of list_albums_writings[opened_album - 1].slice(0,number_of_writings_to_show_by_album[opened_album])" >
                                        <app-thumbnail-writing 
                                        (sendLoaded)="display_albums_writing_thumbnails( $event );"
                                        [item]=item
                                        now_in_seconds={{now_in_seconds}}
                                        ></app-thumbnail-writing>
                                    </div>
                                </div>
                            </ng-container>


                        </div>

                    </ng-container>
                    


                    <!------------------------------------------------------------------------->
                    <!------------------- CREATION D'ALBUM - BANDE DESSINEE ------------------->
                    <!------------------------------------------------------------------------->
                    <ng-container *ngIf="add_album==0">
                        <app-add-album-comic 
                            [author_name]=author_name
                            [pseudo]=pseudo
                            [user_id]=user_id
                            [profile_picture]=profile_picture
                            [primary_description]=primary_description
                            [list_bd_oneshot]=list_bd_oneshot
                            [list_bd_series]=list_bd_series>
                        </app-add-album-comic>
                    </ng-container>
                    <!------------------------------------------------------------------------->
                    <!----------------------- CREATION D'ALBUM - DESSINS ---------------------->
                    <!------------------------------------------------------------------------->
                    <ng-container *ngIf="add_album==1 && list_drawings_onepage_added && list_drawings_artbook_added">
                        <app-add-album-drawing
                            [author_name]=author_name
                            [pseudo]=pseudo
                            [user_id]=user_id
                            [profile_picture]=profile_picture
                            [primary_description]=primary_description
                            [list_drawings_onepage]=list_drawings_onepage
                            [list_drawings_artbook]=list_drawings_artbook>
                        </app-add-album-drawing>
                    </ng-container>
                    <!------------------------------------------------------------------------->
                    <!----------------------- CREATION D'ALBUM - ECRITS ----------------------->
                    <!------------------------------------------------------------------------->
                    <ng-container *ngIf="add_album==2 && list_writings_added">
                        <app-add-album-writing
                            [author_name]=author_name
                            [pseudo]=pseudo
                            [user_id]=user_id
                            [profile_picture]=profile_picture
                            [primary_description]=primary_description
                            [list_writings]=list_writings>
                        </app-add-album-writing>
                    </ng-container>



                </div>


            </ng-container>


            
        </ng-container>

        <ng-container *ngIf="(list_writings_added && list_drawings_artbook_added
        && list_drawings_onepage_added && list_bd_series_added && list_bd_oneshot_added)">

            <ng-container *ngIf="opened_section==2 && list_of_ads_added">
                
                
                <app-thumbnail-ad *ngFor="let item of list_of_ads; let i = index"
                style="margin-top:20px"
                [item]=item
                now_in_seconds={{now_in_seconds}}
                ></app-thumbnail-ad>
                
               
                <div *ngIf="list_of_ads.length==0">
                    L'utilsiateur n'a publié aucune annonce
                </div>
            </ng-container>

            <ng-container *ngIf="opened_section==6">
                <app-archives
                ></app-archives>
            </ng-container>

            <ng-container *ngIf="opened_section==5">
                <app-account-about></app-account-about>
            </ng-container>

        </ng-container>

        

       

    </main>
</div>


<div class="container-fluid account" [ngClass]="{'invisible': !(list_writings_added && list_drawings_artbook_added
&& list_drawings_onepage_added && list_bd_series_added && list_bd_oneshot_added && user_blocked_retrieved)}">
        
    <div class="account-container">

        <img [src]="cover_picture" (load)="cover_loaded()" [ngClass]="{'invisible': !cover_is_loaded }">

        <button *ngIf="!mode_visiteur && showEditCoverPic" class="change-cover-picture" (click)="change_cover_picture();">
            <mat-icon>camera_alt</mat-icon>
            <span>Changer ma photo de couverture</span>
        </button>

        <!--------------------------------------------------------------------------------->
        <!--------------------------------------------------------------------------------->
        <!-----------------------------------PROFIL---------------------------------------->
        <!--------------------------------------------------------------------------------->
        <!--------------------------------------------------------------------------------->
        <div #profileHovered class="profile">


            <div *ngIf="mode_visiteur && type_of_profile_retrieved && !profile_not_found" class="visitor-buttons-container">
                <button (click)="open_chat_link()">
                        <mat-icon>send</mat-icon>
                        <span>Écrire</span>
                </button>
                <button *ngIf="!already_subscribed" (click)="subscribtion()">
                    <mat-icon>person_add</mat-icon>
                    <span>S'abonner</span>
                </button>
                <button *ngIf="already_subscribed" (click)="subscribtion()">
                    <mat-icon>person_add_disabled</mat-icon>
                    <span>Se désabonner</span>
                </button>
            </div>

            
            <button *ngIf="user_blocked_retrieved && !profile_not_found && type_of_profile=='account' && mode_visiteur" class="profile-mat-menu" [ngClass]="{'opacity1': openedMenu=='0profile' }" (menuClosed)="menuClosed();" (menuOpened)="menuOpened(0,'profile');" [matMenuTriggerFor]="options">
                <mat-icon>more_vert</mat-icon>
            </button>
            <mat-menu #options="matMenu" xPosition='before' class="account-mat-menu">
                <button *ngIf="!user_blocked && mode_visiteur" class="account-mat-menu-item" tabIndex="-1" mat-menu-item (click)=block_user()> 	
                    <mat-icon>report</mat-icon>
                    <span>Bloquer</span>
                </button>
                <button *ngIf="user_blocked && user_who_blocked=='me' && mode_visiteur" class="account-mat-menu-item" tabIndex="-1" mat-menu-item (click)="unblock_user()"> 	
                    <mat-icon>report_off</mat-icon>
                    <span>Débloquer</span>
                </button>
                <button *ngIf="mode_visiteur && !user_blocked" class="account-mat-menu-item" tabIndex="-1" mat-menu-item (click)="report()"> 	
                    <mat-icon>flag</mat-icon>
                    <span>Signaler</span>
                </button>
            </mat-menu>

            <div class="profile-picture" [ngClass]="{'visiteur': mode_visiteur }">
                <img [src]="profile_picture" (load)="pp_loaded()" [ngClass]="{'invisible': !pp_is_loaded }">
                <button *ngIf="!mode_visiteur" class="change-profile-picture" (click)="change_profile_picture();">
                    <mat-icon>camera_alt</mat-icon>
                    <span>Changer de photo de profil</span>
                </button>
                <button *ngIf="!mode_visiteur" class="change-story-picture" (click)="add_story();">
                    <mat-icon>play_circle_outline</mat-icon>
                    <span>Ajouter une story</span>
                </button>
            </div>
            
            
            <div *ngIf="mode_visiteur_added" class="profile-information">
                <div class="profile-name">
                    <span class="author-name">{{author_name}} 

                        <mat-icon *ngIf="certified_account"
                        matTooltip="Compte certifié" 
                        matTooltipClass='tooltip-account-profile' 
                        [matTooltipPosition]="'below'"
                        [matTooltipShowDelay]="200">verified</mat-icon>

                        <span *ngIf="type_of_account_checked"
                        matTooltip="Compte professionnel" 
                        matTooltipClass='tooltip-account-profile'
                        [matTooltipPosition]="'below'"
                        [matTooltipShowDelay]="200">PRO</span>

                    </span>
                </div>
                <div class="profile-description">
                    <span *ngIf="primary_description!=null">{{primary_description}}</span>
                </div>

                <div class="profile-text" *ngIf="pseudo">	
                    <mat-icon
                    matTooltip='Pseudonyme' 
                    matTooltipClass='tooltip-account-profile' 
                    [matTooltipPosition]="'below'"
                    [matTooltipShowDelay]="200">alternate_email</mat-icon>
                    <span>{{pseudo}}</span>
                </div>

                <div class="profile-text" *ngIf="user_location">
                    <mat-icon
                    matTooltip='Localisation' 
                    matTooltipClass='tooltip-account-profile' 
                    [matTooltipPosition]="'below'"
                    [matTooltipShowDelay]="200">location_on</mat-icon>
                    <span>{{user_location}}</span>
                </div>
                <div class="profile-text" *ngIf="type_of_account">
                    <mat-icon
                    matTooltip='Profil' 
                    matTooltipClass='tooltip-account-profile' 
                    [matTooltipPosition]="'below'"
                    [matTooltipShowDelay]="200">portrait</mat-icon>

                    <span>{{type_of_account}}
                        
                        <!--<mat-icon *ngIf="professional_account"
                        matTooltip="Compte professionnel" 
                        matTooltipClass='tooltip-account-profile'
                        [matTooltipPosition]="'below'"
                        [matTooltipShowDelay]="200">home_repair_service</mat-icon>-->

                    </span>
                </div>

            </div>
            
        </div>
        <!--------------------------------------------------------------------------------->
        <!--------------------------------------------------------------------------------->
        <!-------------------------------FIN-PROFIL---------------------------------------->
        <!--------------------------------------------------------------------------------->
        <!--------------------------------------------------------------------------------->
    </div>
    

    <!--------------------------------------------------------------------------------->
    <!--------------------------------------------------------------------------------->
    <!------------------------------- BOUTONS CONTROLLER------------------------------->
    <!--------------------------------------------------------------------------------->
    <!--------------------------------------------------------------------------------->

    
    <!--------------------------------------------------------------------------------->
    <!--------------------------------------------------------------------------------->
    <div class="panel-controller" *ngIf="!user_blocked && user_blocked_retrieved && !profile_not_found">

        
        <div class="middle-container">

            <div class="absolute-background-color" #absoluteBackgroundColor></div>

            <div #buttonSection>
                <button *ngIf="!my_profile_is_suspended" [ngClass]="{'opened': opened_section == 0 }" (click)="open_section(0);">
                    <mat-icon>home</mat-icon>
                    <span>Accueil</span>
                </button>
            </div>
            <div #buttonSection>
                <button *ngIf="!my_profile_is_suspended" [ngClass]="{'opened': opened_section == 1 }" (click)="open_section(1);scrollDown();">
                    <mat-icon>palette</mat-icon>
                    <span>Œuvres ({{number_of_artpieces}})</span>
                </button>
            </div>
            <div #buttonSection>
                <button [ngClass]="{'opened': opened_section == 2 }" (click)="open_section(2);">
                    <mat-icon>announcement</mat-icon>
                    <span>Annonces ({{list_of_ads.length}})</span>
                </button>
            </div>
            <div #buttonSection>
                <button *ngIf="!my_profile_is_suspended" [ngClass]="{'opened': opened_section == 3 }" (click)="see_subscribers();">
                    <mat-icon>group</mat-icon>
                    <span>Abonnés ({{subscribed_users_list.length}})</span>
                </button>
            </div>
            <div #buttonSection>
                <button *ngIf="!my_profile_is_suspended" [ngClass]="{'opened': opened_section == 4 }" (click)="see_subscribings();">
                    <mat-icon>subscriptions</mat-icon>
                    <span>Abonnements ({{users_subscribed_to_list.length}})</span>
                </button>
            </div>
            <div #buttonSection>
                <button [ngClass]="{'opened': opened_section == 5 }" (click)="open_section(5);">
                    <mat-icon>help</mat-icon>
                    <span>Qui suis-je</span>
                </button>
            </div>
            <div #buttonSection>
                <button *ngIf="!mode_visiteur && !my_profile_is_suspended" [ngClass]="{'opened': opened_section == 6 }" (click)="open_section(6);">
                    <mat-icon>bookmarks</mat-icon>
                    <span>Archives</span>
                </button>
            </div>
            <div #buttonSection>
                <button *ngIf="!mode_visiteur" [ngClass]="{'opened': opened_section == 7 }" (click)="open_section(7);">
                    <div class="profile-picture">
                        <img [src]="profile_picture" (load)="pp_loaded()" [ngClass]="{'invisible': !pp_is_loaded }">
                    </div>
                    <span>Mon compte</span>
                </button>
            </div>
            
            <a [routerLink]=get_add_artwork_link() *ngIf="!my_profile_is_suspended">
                <button *ngIf="!mode_visiteur">
                    <mat-icon>add_circle_outline</mat-icon>
                    <span>Publier</span> 
                </button>
            </a>
        </div>
    </div>

    <!--------------------------------------------------------------------------------->
    <!--------------------------------------------------------------------------------->
    <!----------------------------FIN BOUTONS CONTROLLER------------------------------->
    <!--------------------------------------------------------------------------------->
    <!--------------------------------------------------------------------------------->


    
        
    <!--------------------------------------------------------------------------------->
    <!--------------------------------------------------------------------------------->
    <!-------------------------------PAGE COMPTE BLQUÉ--------------------------------->
    <!--------------------------------------------------------------------------------->
    <!--------------------------------------------------------------------------------->
    <div *ngIf="user_blocked && user_blocked_retrieved" class="blocked-user-container">
        <mat-icon>error_outline</mat-icon>
        <span *ngIf="user_who_blocked=='me'">Vous avez bloqué cet utilisateur et ne pouvez plus accéder à son profil</span>
        <span *ngIf="user_who_blocked!='me'">Compte suspendu</span>
    </div>
    <div *ngIf="profile_not_found" class="blocked-user-container">
        <mat-icon>error_outline</mat-icon>
        <span *ngIf="profile_suspended">Compte suspendu</span>
        <span *ngIf="!profile_suspended">Compte supprimé</span>
    </div>


    <ng-container *ngIf="!user_blocked && user_blocked_retrieved">
        
        <!--------------------------------------------------------------------------------->
        <!--------------------------------------------------------------------------------->
        <!------------------------------------ACCUEIL-------------------------------------->
        <!--------------------------------------------------------------------------------->
        <!--------------------------------------------------------------------------------->
        <div *ngIf="opened_section==0 && list_writings_added && list_drawings_artbook_added
            && list_drawings_onepage_added && list_bd_series_added && list_bd_oneshot_added && !profile_not_found && !my_profile_is_suspended">
        

            <ng-container *ngIf="emphasized_artwork_added">
                <div class="account-title">
                    <span>
                        <mat-icon>stars</mat-icon>
                        Œuvre mise en avant
                    </span>
                </div>
                <div class="highlighted-artwork">
                    <app-thumbnail-artwork 
                    [item]=emphasized_artwork
                    now_in_seconds={{now_in_seconds}}
                    ></app-thumbnail-artwork>
                </div>
            </ng-container>

            <ng-container *ngIf="!emphasized_artwork_added && !mode_visiteur && !(!new_comic_contents_added && !new_drawing_contents_added && !new_writing_contents_added)" >
                <div class="account-title">
                    <span>
                        <mat-icon>stars</mat-icon>
                        Œuvre mise en avant
                    </span>
                </div>
                <div class="text-lines">
                    <mat-icon>info_outline</mat-icon>
                    <span>Aucune œuvre mise en avant</span>
                    <span>Vous pouvez mettre une œuvre en avant depuis la lecture d'une œuvre</span>
                </div>
            </ng-container>

            <ng-container *ngIf="!new_comic_contents_added && !new_drawing_contents_added && !new_writing_contents_added">
                <div class="add-artwork-button" *ngIf="!mode_visiteur">
                    <a [routerLink]=get_add_artwork_link()>
                        <button>
                            <mat-icon>add</mat-icon>
                            <span>Publier votre première oeuvre</span>
                        </button>
                    </a>
                </div>
                <div class="text-lines large" *ngIf="mode_visiteur">
                    <mat-icon>info_outline</mat-icon>
                    <span>L'utilisateur n'a pas publié d'œuvre pour le moment</span>
                </div>
            </ng-container>


            <ng-container *ngIf="(new_comic_contents_added || new_drawing_contents_added || new_writing_contents_added)">

                <div class="account-title large-icon">
                    <span>
                        <mat-icon>campaign</mat-icon>
                        Nouveautés
                    </span>
                </div>

                <div *ngIf="new_comic_contents_added" class="bd-container" [ngClass]="{'invisible':!display_new_comic_contents || !(number_of_new_contents_to_show>0)}">
                    <div class="artwork-type-title">
                        <span>Bandes dessinées</span>
                    </div>
                    
                    <div class="container-comics newDrawings">
                        <div *ngFor="let item of new_comic_contents.slice(0,number_of_new_contents_to_show),let i=index" #getwidth>
                            <app-thumbnail-comics 
                            *ngIf="item.chaptersnumber == null" 
                            (send_loaded)="new_contents_comics_thumbnails($event)"
                            [item]=item format='one-shot' 
                            now_in_seconds={{now_in_seconds}}
                            ></app-thumbnail-comics> 
                            <app-thumbnail-comics 
                            (send_loaded)="new_contents_comics_thumbnails($event)"
                            *ngIf="item.chaptersnumber>=0"
                            [item]=item format='serie' now_in_seconds={{now_in_seconds}}
                            ></app-thumbnail-comics>
                        </div>
                    </div>
                </div>

                <div *ngIf="new_drawing_contents_added" class="bd-container" [ngClass]="{'invisible':!display_new_drawing_contents || !(number_of_new_contents_to_show>0)}">
                    <div class="artwork-type-title">
                        <span>Dessins</span>
                    </div>

                    <div class="container-drawings newDrawings">
                        <div *ngFor="let item of new_drawing_contents.slice(0,number_of_new_contents_to_show)" class="drawing-container" #getwidth>
                            <app-thumbnail-drawing *ngIf="item.pagesnumber == null"
                                (sendLoaded)="new_contents_drawings_thumbnails($event)"
                                [item]=item
                                for_news="yes"
                                format='one-shot'
                                now_in_seconds={{now_in_seconds}}
                            ></app-thumbnail-drawing>
                            <app-thumbnail-drawing *ngIf="item.pagesnumber >=0"
                                (sendLoaded)="new_contents_drawings_thumbnails($event)"
                                [item]=item 
                                for_news="yes"
                                format='artbook'
                                now_in_seconds={{now_in_seconds}}
                            ></app-thumbnail-drawing>
                        </div>
                    </div>
                </div>

                <div *ngIf="new_writing_contents_added" class="bd-container" [ngClass]="{'invisible':!display_new_writing_contents || !(number_of_new_contents_to_show>0)}">
                    <div class="artwork-type-title">
                        <span>Écrits</span>
                    </div>

                    <div class="container-writings newDrawings">
                        <div *ngFor="let item of new_writing_contents.slice(0,number_of_new_contents_to_show)" #getwidth>
                            <app-thumbnail-writing
                            (sendLoaded)="new_contents_writings_thumbnails($event)"
                            [item]=item
                            now_in_seconds={{now_in_seconds}}
                            ></app-thumbnail-writing>
                        </div>
                    </div>
                </div>
            </ng-container >
            

            <ng-container *ngIf="trendings_found">

                <div class="account-title large-icon">
                    <span>
                        <mat-icon>whatshot</mat-icon>
                        Apparitions en tendance
                    </span>
                </div>

                <div *ngIf="trendings_loaded && list_of_comics_trendings && list_of_comics_trendings.length>0" class="bd-container" [ngClass]="{'invisible':!trendings_loaded || !(number_of_new_contents_to_show>0)}">
                    <div class="artwork-type-title">
                        <span>Bandes dessinées</span>
                    </div>

                    <div class="container-comics newDrawings">
                        <div *ngFor="let item of list_of_comics_trendings.slice(0,number_of_new_contents_to_show),let i=index" #getwidth>
                            <app-thumbnail-comics 
                            *ngIf="item.chaptersnumber == null" 
                            [item]=item format='one-shot' 
                            now_in_seconds={{now_in_seconds}}
                            ></app-thumbnail-comics> 
                            <app-thumbnail-comics 
                            *ngIf="item.chaptersnumber>=0"
                            [item]=item format='serie' now_in_seconds={{now_in_seconds}}
                            ></app-thumbnail-comics>
                        </div>
                    </div>
                </div>

                <div *ngIf="trendings_loaded && list_of_drawings_trendings && list_of_drawings_trendings.length>0" class="bd-container" [ngClass]="{'invisible':!trendings_loaded}">
                    <div class="artwork-type-title">
                        <span>Dessins</span>
                    </div>
                    <div class="container-drawings newDrawings">
                        <div *ngFor="let item of list_of_drawings_trendings.slice(0,number_of_new_contents_to_show)" #getwidth>
                            <app-thumbnail-drawing *ngIf="item.pagesnumber == null"
                                [item]=item
                                for_news="yes"
                                format='one-shot'
                                now_in_seconds={{now_in_seconds}}
                            ></app-thumbnail-drawing>
                            <app-thumbnail-drawing *ngIf="item.pagesnumber >=0"
                                [item]=item 
                                for_news="yes"
                                format='artbook'
                                now_in_seconds={{now_in_seconds}}
                            ></app-thumbnail-drawing>
                        </div>
                    </div>
                </div>

                <div *ngIf="trendings_loaded && list_of_writings_trendings && list_of_writings_trendings.length>0" class="bd-container" [ngClass]="{'invisible':!trendings_loaded}">
                    <div class="artwork-type-title">
                        <span>Écrits</span>
                    </div>
                    <div class="container-writings newDrawings">
                        <div *ngFor="let item of list_of_writings_trendings.slice(0,number_of_new_contents_to_show)" #getwidth>
                            <app-thumbnail-writing
                            [item]=item
                            now_in_seconds={{now_in_seconds}}
                            ></app-thumbnail-writing>
                        </div>
                    </div>
                </div>

            </ng-container>
        </div>


            
        <!--------------------------------------------------------------------------------->
        <!--------------------------------------------------------------------------------->
        <!------------------------------------OEUVRES-------------------------------------->
        <!--------------------------------------------------------------------------------->
        <!--------------------------------------------------------------------------------->
        <ng-container *ngIf="opened_section==1 && list_writings_added && list_drawings_artbook_added
        && list_drawings_onepage_added && list_bd_series_added && list_bd_oneshot_added && !profile_not_found && !my_profile_is_suspended">
            
            
            <div class="logos-container">
                <button class="logo" [ngClass]="{'opened': opened_category == 0 }" 
                (click)="open_category(0);scroll(target);" #target
                [matTooltip]="number_of_comics==0 ? 'Aucune bande-dessinée' : null"
                matTooltipClass='tooltip-account-profile' 
                [matTooltipPosition]="'below'"
                [matTooltipShowDelay]="200">
                    <div class="image1"></div>
                    <span>Bandes dessinées ({{number_of_comics}})</span>
                </button>
                <button class="logo" [ngClass]="{'opened': opened_category == 1 }" 
                (click)="open_category(1);scroll(target);" #target
                [matTooltip]="number_of_drawings==0 ? 'Aucun dessin' : null"
                matTooltipClass='tooltip-account-profile' 
                [matTooltipPosition]="'below'"
                [matTooltipShowDelay]="200">
                    <div class="image2"></div>
                    <span>Dessins ({{number_of_drawings}})</span>
                </button>
                <button class="logo" [ngClass]="{'opened': opened_category == 2 }" 
                (click)="open_category(2);scroll(target);" #target
                [matTooltip]="number_of_writings==0 ? 'Aucun écrit' : null"
                matTooltipClass='tooltip-account-profile' 
                [matTooltipPosition]="'below'"
                [matTooltipShowDelay]="200">
                    <div class="image3"></div>
                    <span>Écrits ({{number_of_writings}})</span>
                </button>
            </div>

            
            <ng-container *ngIf="opened_category != -1">

                <div class="albums-title-main">
                    <div class="albums-title-container">
                        <!-- Titres des albums bd-->
                        <ng-container *ngIf="opened_category==0 && list_albums_bd_added && (list_bd_oneshot.length != 0 || list_bd_series.length != 0)">
                            <ng-container *ngFor="let element of list_titles_albums_bd; let i=index">

                                <ng-container *ngIf="!(i==1 && list_bd_oneshot.length==0) && !(i==2 && list_bd_series.length==0)">

                                    <div class="albums-title">
                                        
                                        <ng-container *ngIf="!mode_visiteur && ( i == 1 || i == 2 )">
                                            <button class="optionsMenu" [ngClass]="{ 'opened' : opened_album == i, 'opacity1': openedMenu==i+'album_name' }" (menuClosed)="menuClosed();" (menuOpened)="menuOpened(i,'album_name');" [matMenuTriggerFor]="albumOptions">
                                                <mat-icon class="optionsButton">more_vert</mat-icon>
                                            </button>
                                            <mat-menu class="account-mat-menu" xPosition='before' #albumOptions="matMenu">
                                                <button class="account-mat-menu-item" *ngIf="list_bd_albums_status[i-1]!=='hidden'" mat-menu-item (click)="change_bd_album_status(i-1,true)"> 	
                                                    <mat-icon class="item-icon">visibility_off</mat-icon>
                                                    <span>Rendre privé</span>
                                                </button>
                                                <button class="account-mat-menu-item" *ngIf="list_bd_albums_status[i-1]=='hidden'" mat-menu-item (click)="change_bd_album_status(i-1,false)"> 	
                                                    <mat-icon class="item-icon">visibility</mat-icon>
                                                    <span>Rendre public</span>
                                                </button>
                                            </mat-menu>
                                        </ng-container>
                                        <ng-container *ngIf="!mode_visiteur && i>2">
                                            <button class="optionsMenu" [ngClass]="{ 'opened' : opened_album == i, 'opacity1': openedMenu==i+'album_name' }" (menuClosed)="menuClosed();" (menuOpened)="menuOpened(i,'album_name');" [matMenuTriggerFor]="albumOptions">
                                                <mat-icon class="optionsButton">more_vert</mat-icon>
                                            </button>
                                            <mat-menu class="account-mat-menu" xPosition='before' #albumOptions="matMenu">
                                                <button class="account-mat-menu-item" *ngIf="list_bd_albums_status[i-1]=='public'" mat-menu-item (click)="change_bd_album_status(i,true)"> 	
                                                    <mat-icon class="item-icon">visibility_off</mat-icon>
                                                    <span>Rendre privé</span>
                                                </button>
                                                <button class="account-mat-menu-item" *ngIf="list_bd_albums_status[i-1]=='private'" mat-menu-item (click)="change_bd_album_status(i,false)"> 	
                                                    <mat-icon class="item-icon">visibility</mat-icon>
                                                    <span>Rendre public</span>
                                                </button>
                                                <button class="account-mat-menu-item" mat-menu-item (click)="remove_bd_album(i)"> 	
                                                    <mat-icon class="item-icon">cancel</mat-icon>
                                                    <span>Supprimer cet album</span>
                                                </button>
                                            </mat-menu>
                                        </ng-container>


                                        <button *ngIf="!mode_visiteur || (mode_visiteur && (3>i || (list_albums_bd[i-3] && list_albums_bd[i-3].length>0) ) && list_bd_albums_status[i-1]!='hidden' && list_bd_albums_status[i-1]!='private')"  class="albums-title-button" 
                                        (click)="open_album(i);" [ngClass]="{ 'opened' : opened_album == i }" [@enterAnimation]>

                                            <mat-icon *ngIf="list_bd_albums_status[i-1]=='private'" class="visibility-off"
                                            matTooltip="Cet album est actuellement privé"
                                            matTooltipClass='tooltip-account-profile' 
                                            [matTooltipPosition]="'below'"
                                            [matTooltipShowDelay]="200">visibility_off</mat-icon>

                                            <span>{{element}}</span>
                                        </button>
                                        
                                    </div>

                                </ng-container>
                            </ng-container>

                        </ng-container>

                        <!-- Titres des albums drawing-->
                        <ng-container *ngIf="opened_category==1 && list_albums_drawings_added && (list_drawings_onepage.length != 0 || list_drawings_artbook.length != 0)">
                            <ng-container *ngFor="let element of list_titles_albums_drawings; let i=index" class="albums-title">
                                <ng-container *ngIf="!(i==1 && list_drawings_onepage.length==0) && !(i==2 && list_drawings_artbook.length==0)">

                                    <div class="albums-title">
                                        
                                        <ng-container *ngIf="!mode_visiteur && ( i == 1 || i == 2 ) ">
                                            <button class="optionsMenu" [ngClass]="{ 'opened' : opened_album == i, 'opacity1': openedMenu==i+'album_name' }" (menuClosed)="menuClosed();" (menuOpened)="menuOpened(i,'album_name');" [matMenuTriggerFor]="albumOptions">
                                                <mat-icon class="optionsButton">more_vert</mat-icon>
                                            </button>
                                            <mat-menu class="account-mat-menu" xPosition='before' #albumOptions="matMenu">
                                                <button class="account-mat-menu-item" *ngIf="list_drawing_albums_status[i-1]!=='hidden'" mat-menu-item (click)="change_drawing_album_status(i-1,true)"> 	
                                                    <mat-icon class="item-icon">visibility_off</mat-icon>
                                                    <span>Rendre privé</span>
                                                </button>
                                                <button class="account-mat-menu-item" *ngIf="list_drawing_albums_status[i-1]=='hidden'" mat-menu-item (click)="change_drawing_album_status(i-1,false)"> 	
                                                    <mat-icon class="item-icon">visibility</mat-icon>
                                                    <span>Rendre public</span>
                                                </button>
                                            </mat-menu>
                                        </ng-container>

                                        <ng-container *ngIf="!mode_visiteur && i>2">
                                            <button class="optionsMenu" [ngClass]="{ 'opened' : opened_album == i, 'opacity1': openedMenu==i+'album_name' }" (menuClosed)="menuClosed();" (menuOpened)="menuOpened(i,'album_name');" [matMenuTriggerFor]="albumOptions">
                                                <mat-icon class="optionsButton">more_vert</mat-icon>
                                            </button>
                                            <mat-menu class="account-mat-menu" xPosition='before' #albumOptions="matMenu">
                                                <button class="account-mat-menu-item" *ngIf="list_drawing_albums_status[i-1]=='public'" mat-menu-item (click)="change_drawing_album_status(i,true)"> 	
                                                    <mat-icon class="item-icon">visibility_off</mat-icon>
                                                    <span>Rendre privé</span>
                                                </button>
                                                <button class="account-mat-menu-item" *ngIf="list_drawing_albums_status[i-1]=='private'" mat-menu-item (click)="change_drawing_album_status(i,false)"> 	
                                                    <mat-icon class="item-icon">visibility</mat-icon>
                                                    <span>Rendre public</span>
                                                </button>
                                                <button class="account-mat-menu-item" mat-menu-item (click)="remove_drawing_album(i)"> 	
                                                    <mat-icon class="item-icon">cancel</mat-icon>
                                                    <span>Supprimer cet album</span>
                                                </button>
                                            </mat-menu>
                                        </ng-container>
                                        

                                        <button *ngIf="!mode_visiteur || (mode_visiteur && (3>i || (list_albums_drawings[i-3] && list_albums_drawings[i-3].length>0) ) && list_drawing_albums_status[i-1]!='hidden' && list_drawing_albums_status[i-1]!='private')" class="albums-title-button" 
                                        (click)="open_album(i);" [ngClass]="{ 'opened' : opened_album == i }" [@enterAnimation]>
                                            
                                            <mat-icon *ngIf="list_drawing_albums_status[i-1]=='private'" class="visibility-off"
                                            matTooltip="Cet album est actuellement privé"
                                            matTooltipClass='tooltip-account-profile' 
                                            [matTooltipPosition]="'below'"
                                            [matTooltipShowDelay]="200">visibility_off</mat-icon>
                                            
                                            <span>{{element}}</span>
                                        </button>

                                    </div>

                                </ng-container>
                            </ng-container>


                        </ng-container>

                        <!-- Titres des albums writing-->
                        <ng-container *ngIf="opened_category==2 && (list_writings.length != 0)">
                            <ng-container *ngFor="let element of list_titles_albums_writings; let i=index">

                                <div class="albums-title">
                                    
                                    <ng-container *ngIf="!mode_visiteur && i>0">
                                        <button class="optionsMenu" [ngClass]="{ 'opened' : opened_album == i, 'opacity1': openedMenu==i+'album_name' }" (menuClosed)="menuClosed();" (menuOpened)="menuOpened(i,'album_name');" [matMenuTriggerFor]="albumOptions">
                                            <mat-icon class="optionsButton">more_vert</mat-icon>
                                        </button>
                                        <mat-menu class="account-mat-menu" xPosition='before' #albumOptions="matMenu">
                                            <button class="account-mat-menu-item" *ngIf="list_writings_albums_status[i-1]=='public'" mat-menu-item (click)="change_writing_album_status(i-1,true)"> 	
                                                <mat-icon class="item-icon">visibility_off</mat-icon>
                                                <span>Rendre privé</span>
                                            </button>
                                            <button class="account-mat-menu-item" *ngIf="list_writings_albums_status[i-1]=='private'" mat-menu-item (click)="change_writing_album_status(i-1,false)"> 	
                                                <mat-icon class="item-icon">visibility</mat-icon>
                                                <span>Rendre public</span>
                                            </button>
                                            <button class="account-mat-menu-item" mat-menu-item (click)="remove_writing_album(i-1)"> 	
                                                <mat-icon class="item-icon">cancel</mat-icon>
                                                <span>Supprimer cet album</span>
                                            </button>
                                        </mat-menu>
                                    </ng-container>

                                    <button *ngIf="!mode_visiteur || (mode_visiteur && (1>i || (list_albums_writings[i-1] && list_albums_writings[i-1].length>0) ) && list_writings_albums_status[i-1]!=='hidden' && list_writings_albums_status[i-1]!=='private')"  class="albums-title-button" 
                                    (click)="open_album(i);" [ngClass]="{ 'opened' : opened_album == i }" [@enterAnimation]>
                                    
                                        <mat-icon *ngIf="list_writings_albums_status[i-1]=='private'" class="visibility-off"
                                        matTooltip="Cet album est actuellement privé"
                                        matTooltipClass='tooltip-account-profile' 
                                        [matTooltipPosition]="'below'"
                                        [matTooltipShowDelay]="200">visibility_off</mat-icon>

                                        <span>{{element}}</span>
                                    </button>

                                </div>
                                    
                            </ng-container>

                        </ng-container>


                        <!--AJOUT ALBUM-->
                        <div class="albums-title">
                            <button *ngIf="(!mode_visiteur && opened_category==0 && number_of_comics!=0) || (!mode_visiteur && opened_category==1 && (number_of_drawings!=0)) || (!mode_visiteur && opened_category==2 && number_of_writings!=0)"
                            class="albums-title-button" (click)="start_add_album( opened_category )" [@enterAnimation]>
                                <ng-container *ngIf="add_album == -1">
                                    <mat-icon>add</mat-icon>
                                    <span>Créer une section</span>
                                </ng-container>
                                <ng-container *ngIf="add_album != -1">
                                    <mat-icon>cancel</mat-icon>
                                    <span>Annuler</span>
                                </ng-container>
                            </button>
                        </div>

                    </div>
                </div>
                

                <!--**********************************-->
                <!--**********************************-->
                <!--Component artist artworks-->
                <!--**********************************-->
                <!--**********************************-->
                
                <div class="artworks-container" *ngIf=" opened_category>=0  && opened_section==1">

                    <!------------------------------------------------------------------------->
                    <!------------------------------------------------------------------------->
                    <!----------- VISUALISATION DES ALBUMS - PAS DE CREATION D'ALBUM ---------->
                    <!------------------------------------------------------------------------->
                    <!------------------------------------------------------------------------->
                    <ng-container *ngIf="add_album==-1">
                        
                        <div class="loading-page" *ngIf="contents_loading">
                            <mat-spinner diameter="30" ></mat-spinner>
                        </div>
                        <!------------------------------------------------------------------------->
                        <!------------------- VISUALISATION DES BANDES DESSINEES ------------------>
                        <!------------------------------------------------------------------------->
                        <div *ngIf="opened_category==0" class="bd-container" [ngClass]="{'really-invisible': !display_comics_thumbnails}">
                            
                            <!--TOUS LES ALBUMS-->
                            <ng-container *ngIf="opened_album==0">
                                <!--On parcourt tous les ajoutés albums-->
                                <ng-container *ngIf="list_albums_bd_added">
                                    <div *ngFor="let item of list_titles_albums_bd_added; let i = index">

                                        <!--On affiche l'album-->
                                        <div *ngIf="!mode_visiteur">
                                            <div class="artwork-type-title" >
                                                <span>{{list_titles_albums_bd_added[list_titles_albums_bd_added.length-i-1]}}</span>
                                            </div>
                                            <div class="bd-thumbnails-container container-comics" #container_comics  >
                                                <div *ngFor="let item2 of list_albums_bd[list_titles_albums_bd_added.length-i-1].slice(0,number_of_comics_to_show_by_album[list_titles_albums_bd_added.length-i+1]);let j=index" >
                                                    <app-thumbnail-comics *ngIf="item2.chaptersnumber == null" 
                                                    [item]=item2 
                                                    format='one-shot' 
                                                    now_in_seconds={{now_in_seconds}}
                                                    (send_loaded)="display_albums_comics_thumbnails()"
                                                    ></app-thumbnail-comics> 
                                                    <app-thumbnail-comics *ngIf="item2.chaptersnumber>=0"
                                                    [item]=item2 
                                                    format='serie' 
                                                    now_in_seconds={{now_in_seconds}}
                                                    (send_loaded)="display_albums_comics_thumbnails()"></app-thumbnail-comics>
                                                </div>
                                            </div>
                                        </div>
                                        <div *ngIf="mode_visiteur && list_bd_albums_status[list_titles_albums_bd_added.length-i+1]=='public'">
                                            <div class="artwork-type-title" *ngIf="list_albums_bd[list_titles_albums_bd_added.length-i-1].length>0">
                                                <span>{{list_titles_albums_bd_added[list_titles_albums_bd_added.length-i-1]}}</span>
                                            </div>
                                            <div class="bd-thumbnails-container container-comics" #container_comics  >
                                                <div *ngFor="let item2 of list_albums_bd[list_titles_albums_bd_added.length-i-1].slice(0,number_of_comics_to_show_by_album[list_titles_albums_bd_added.length-i+1]);let j=index" #bdThumbnail>
                                                    <app-thumbnail-comics *ngIf="item2.chaptersnumber == null" 
                                                    [item]=item2 
                                                    format='one-shot' 
                                                    now_in_seconds={{now_in_seconds}}
                                                    (send_loaded)="display_albums_comics_thumbnails()"></app-thumbnail-comics> 
                                                    <app-thumbnail-comics *ngIf="item2.chaptersnumber>=0"
                                                    [item]=item2 
                                                    format='serie' 
                                                    now_in_seconds={{now_in_seconds}}
                                                    (send_loaded)="display_albums_comics_thumbnails()"></app-thumbnail-comics>
                                                </div>
                                            </div>
                                        </div>
                                        <button *ngIf="list_albums_bd[list_titles_albums_bd_added.length-i-1].length>number_of_comics_to_show_by_album[list_titles_albums_bd_added.length-i+1]" class="see-more" (click)="see_more_comics(list_titles_albums_bd_added.length-i+1,0)">
                                            <mat-icon>expand_more</mat-icon>
                                        </button>
                                    </div>
                                </ng-container>

                                <!--On parcourt les séries -->
                                <div *ngIf="list_bd_series_added && list_bd_series.length!=0 ">   
                                    <div *ngIf="mode_visiteur && list_bd_albums_status[1]=='standard'">
                                        <div *ngIf="list_bd_series.length!=0">
                                            <div class="artwork-type-title">
                                                <span>Séries</span>
                                            </div>
                                        </div>
                                        <div class="bd-thumbnails-container container-comics" #container_comics>
                                            <app-thumbnail-comics *ngFor="let item of list_bd_series.slice(0,number_of_comics_to_show_by_album[1]) ; let i = index" #container_comics
                                            [item]=item 
                                            format='serie' 
                                            now_in_seconds={{now_in_seconds}}
                                            (send_loaded)="display_albums_comics_thumbnails()"></app-thumbnail-comics>
                                        </div>
                                    </div>
                                    <div *ngIf="!mode_visiteur">
                                        <div *ngIf="list_bd_series.length!=0">
                                            <div class="artwork-type-title">
                                                <span>Séries</span>
                                            </div>
                                                <div class="bd-thumbnails-container container-comics"  #container_comics>
                                                <app-thumbnail-comics 
                                                *ngFor="let item of list_bd_series.slice(0,number_of_comics_to_show_by_album[1]) ; let i = index"
                                                [item]=item format='serie' now_in_seconds={{now_in_seconds}}
                                                (send_loaded)="display_albums_comics_thumbnails()"></app-thumbnail-comics>
                                            </div>
                                        </div>
                                    </div>
                                    <button *ngIf="list_bd_series.length>number_of_comics_to_show_by_album[1]" class="see-more" (click)="see_more_comics(1,0)">
                                        <mat-icon>expand_more</mat-icon>
                                    </button>
                                </div>

                                <!--On parcourt les oneshots -->
                                <div *ngIf="list_bd_oneshot_added && list_bd_oneshot.length!=0 ">   
                                    <div *ngIf="mode_visiteur && list_bd_albums_status[0]=='standard'">
                                        <div *ngIf="list_bd_oneshot.length!=0">
                                            <div class="artwork-type-title">
                                                <span>One-shots</span>
                                            </div>
                                        </div>
                                        <div class="bd-thumbnails-container container-comics" #container_comics >
                                            <app-thumbnail-comics *ngFor="let item of list_bd_oneshot.slice(0,number_of_comics_to_show_by_album[0]) ; let i = index" #bdThumbnail
                                            [item]=item format='one-shot' now_in_seconds={{now_in_seconds}}
                                            (send_loaded)="display_albums_comics_thumbnails()"></app-thumbnail-comics>
                                        </div>
                                    </div>
                                    <div *ngIf="!mode_visiteur">
                                        <div *ngIf="list_bd_oneshot.length!=0">
                                            <div class="artwork-type-title">
                                                <span>One-shots</span>
                                            </div>
                                            <div class="bd-thumbnails-container container-comics" #container_comics >
                                                <app-thumbnail-comics *ngFor="let item of list_bd_oneshot.slice(0,number_of_comics_to_show_by_album[0]) ; let i = index" #bdThumbnail
                                                [item]=item format='one-shot' now_in_seconds={{now_in_seconds}}
                                                (send_loaded)="display_albums_comics_thumbnails()"></app-thumbnail-comics>
                                            </div>
                                        </div>
                                    </div>
                                    <button *ngIf="list_bd_oneshot.length>number_of_comics_to_show_by_album[0]" class="see-more" (click)="see_more_comics(0,0)">
                                        <mat-icon>expand_more</mat-icon>
                                    </button>
                                </div>


                            </ng-container>


                            <!--ONE SHOTS-->
                            <ng-container *ngIf="opened_album==1">
                                <div class="bd-thumbnails-container container-comics" #container_comics >
                                    <app-thumbnail-comics  *ngFor="let item of list_bd_oneshot ; let i = index" #bdThumbnail
                                        [item]=item
                                        format='one-shot'
                                        now_in_seconds={{now_in_seconds}}
                                        (send_loaded)="display_albums_comics_thumbnails()"
                                    ></app-thumbnail-comics>
                                </div>
                            </ng-container>

                            <!--SERIES-->
                            <ng-container *ngIf="opened_album==2">
                                <div class="bd-thumbnails-container container-comics" #container_comics>
                                    <app-thumbnail-comics  *ngFor="let item of list_bd_series.slice(0,number_of_comics_to_show_by_album[1]) ; let i = index" #bdThumbnail
                                        [item]=item
                                        format='serie'
                                        now_in_seconds={{now_in_seconds}}
                                        (send_loaded)="display_albums_comics_thumbnails()"
                                    ></app-thumbnail-comics>
                                </div>
                                <div class="loading-page" *ngIf="new_contents_loading">
                                    <mat-spinner diameter="20" ></mat-spinner>
                                </div>
                            </ng-container>

                            <!--AUTRES ALBUMS-->
                            <ng-container *ngIf="opened_album>=3">
                                <div class="bd-thumbnails-container container-comics" #container_comics>
                                    <div *ngFor="let item of list_albums_bd[opened_album - 3].slice(0,number_of_comics_to_show_by_album[opened_album-1]) ; let j = index" #bdThumbnail>
                                        <app-thumbnail-comics *ngIf="item.chaptersnumber == null"
                                            [item]=item
                                            format='one-shot'
                                            now_in_seconds={{now_in_seconds}}
                                            (send_loaded)="display_albums_comics_thumbnails()"
                                        ></app-thumbnail-comics>
                                        <app-thumbnail-comics *ngIf="item.chaptersnumber >=0"
                                            [item]=item 
                                            format='serie'
                                            now_in_seconds={{now_in_seconds}}
                                            (send_loaded)="display_albums_comics_thumbnails()"
                                        ></app-thumbnail-comics>
                                    </div>
                                </div>
                            </ng-container>


                        </div>

                        

                        
                        <!------------------------------------------------------------------------->
                        <!----------------------- VISUALISATION DES DESSINS ----------------------->
                        <!--------------------------------------------------------------------- ---->
                        <div *ngIf="opened_category==1" class="bd-container"  [ngClass]="{'really-invisible':!list_visibility_albums_drawings }">
                            <ng-container *ngIf="opened_album==0" >
                                
                                

                                <ng-container *ngIf="list_albums_drawings_added">
                                    <div *ngFor="let item of list_titles_albums_drawings_added ; let i = index">

                                        <!--On affiche l'album-->
                                        <div *ngIf="!mode_visiteur" >
                                            <div class="bd-container"  #container_drawings>
                                                <div class="artwork-type-title" >
                                                    <span>{{list_titles_albums_drawings_added[list_titles_albums_drawings_added.length-i-1]}}</span>
                                                </div>
                                                <div class="grid" data-masonry='{ "itemSelector": ".grid-item", "columnWidth": 200 }' >
                                                    <div *ngFor="let item of list_albums_drawings[list_titles_albums_drawings_added.length-i-1].slice(0,number_of_drawings_to_show_by_album[list_titles_albums_drawings_added.length-i+1])"  
                                                        class="grid-item" >
                                                        <app-thumbnail-drawing *ngIf="item.pagesnumber == null"
                                                            (sendLoaded)="sendLoaded( $event );"
                                                            [item]=item
                                                            format='one-shot'
                                                            now_in_seconds={{now_in_seconds}}
                                                        ></app-thumbnail-drawing>
                                                        <app-thumbnail-drawing *ngIf="item.pagesnumber >=0"
                                                            (sendLoaded)="sendLoaded( $event );"
                                                            [item]=item
                                                            format='artbook'
                                                            now_in_seconds={{now_in_seconds}}
                                                        ></app-thumbnail-drawing>
                                                    </div>
                                                </div>
                                                <button *ngIf="list_albums_drawings[list_titles_albums_drawings_added.length-i-1].length>number_of_drawings_to_show_by_album[list_titles_albums_drawings_added.length-i+1]" 
                                                    class="see-more" (click)="see_more_drawings(list_titles_albums_drawings_added.length-i+1,0)">
                                                    <mat-icon>expand_more</mat-icon>
                                                </button>
                                            </div>
                                        </div>

                                        <div *ngIf="mode_visiteur && list_drawing_albums_status[list_titles_albums_drawings_added.length-i+1]=='public'">
                                            <div class="bd-container" #container_drawings>
                                                <div class="artwork-type-title" *ngIf="list_albums_drawings[list_titles_albums_drawings_added.length-i-1].length>0" >
                                                    <span>{{list_titles_albums_drawings_added[list_titles_albums_drawings_added.length-i-1]}}</span>
                                                </div>
                                                <div class="grid" data-masonry='{ "itemSelector": ".grid-item", "columnWidth": 200 }'>
                                                    <div *ngFor="let item of list_albums_drawings[list_titles_albums_drawings_added.length-i-1].slice(0,number_of_drawings_to_show_by_album[list_titles_albums_drawings_added.length-i+1])"  class="grid-item">
                                                        <app-thumbnail-drawing *ngIf="item.pagesnumber == null"
                                                            (sendLoaded)="sendLoaded( $event );"
                                                            [item]=item
                                                            format='one-shot'
                                                            now_in_seconds={{now_in_seconds}}
                                                        ></app-thumbnail-drawing>
                                                        <app-thumbnail-drawing *ngIf="item.pagesnumber >=0"
                                                            (sendLoaded)="sendLoaded( $event );"
                                                            [item]=item
                                                            format='artbook'
                                                            now_in_seconds={{now_in_seconds}}
                                                        ></app-thumbnail-drawing>
                                                    </div>
                                                    
                                                    
                                                </div>
                                                <button *ngIf="list_albums_drawings[list_titles_albums_drawings_added.length-i-1].length>number_of_drawings_to_show_by_album[list_titles_albums_drawings_added.length-i+1]" class="see-more" (click)="see_more_drawings(list_titles_albums_drawings_added.length-i+1,0)">
                                                    <mat-icon>expand_more</mat-icon>
                                                </button>
                                            </div>
                                        </div>
                                        
                                    </div>
                                </ng-container>


                                <div *ngIf="list_drawings_artbook_added && list_drawings_artbook.length!=0 ">
                                    <div *ngIf="mode_visiteur && list_drawing_albums_status[1]=='standard'">
                                        <div *ngIf="list_drawings_artbook.length!=0" class="bd-container" #container_drawings>
                                            
                                            <div class="artwork-type-title">
                                                <span>Artbooks</span>
                                            </div>

                                            <div  class="grid" data-masonry='{ "itemSelector": ".grid-item", "columnWidth": 200 }' >
                                                <div *ngFor="let item of list_drawings_artbook.slice(0,number_of_drawings_to_show_by_album[1])" class="grid-item">
                                                    <app-thumbnail-drawing
                                                        [item]=item
                                                        format='artbook'
                                                        now_in_seconds={{now_in_seconds}}
                                                        (sendLoaded)="sendLoaded( $event );"
                                                    ></app-thumbnail-drawing>
                                                </div>
                                                
                                            </div>
                                            <button *ngIf="list_drawings_artbook.length>number_of_drawings_to_show_by_album[1]" class="see-more" (click)="see_more_drawings(1,0)">
                                                <mat-icon>expand_more</mat-icon>
                                            </button>

                                        </div>
                                    </div>

                                    <div *ngIf="!mode_visiteur">
                                        <div *ngIf="list_drawings_artbook.length!=0" class="bd-container" #container_drawings>
                                            
                                            <div class="artwork-type-title">
                                                <span>Artbooks</span>
                                            </div>

                                            <div class="grid" data-masonry='{ "itemSelector": ".grid-item", "columnWidth": 200 }'>
                                                <div *ngFor="let item of list_drawings_artbook.slice(0,number_of_drawings_to_show_by_album[1])" class="grid-item">
                                                    <app-thumbnail-drawing
                                                        [item]=item
                                                        format='artbook'
                                                        now_in_seconds={{now_in_seconds}}
                                                        (sendLoaded)="sendLoaded( $event );"
                                                    ></app-thumbnail-drawing>
                                                </div>
                                                
                                            </div>
                                            <button *ngIf="list_drawings_artbook.length>number_of_drawings_to_show_by_album[1]" class="see-more" (click)="see_more_drawings(1,0)">
                                                <mat-icon>expand_more</mat-icon>
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <div *ngIf="list_drawings_onepage_added && list_drawings_onepage.length!=0 ">                              
                                    <div *ngIf=" mode_visiteur && list_drawing_albums_status[0]=='standard'" >
                                        <div *ngIf="list_drawings_onepage.length!=0" class="bd-container" #container_drawings>
                                            
                                            <div class="artwork-type-title">
                                                <span>One-shots</span>
                                            </div>

                                            <div class="grid" data-masonry='{ "itemSelector": ".grid-item", "columnWidth": 200 }'>
                                                <div *ngFor="let item of list_drawings_onepage.slice(0,number_of_drawings_to_show_by_album[0])" class="grid-item">
                                                    <app-thumbnail-drawing
                                                        [item]=item
                                                        format='one-shot'
                                                        now_in_seconds={{now_in_seconds}}
                                                        (sendLoaded)="sendLoaded( $event );"
                                                    ></app-thumbnail-drawing>
                                                </div>

                                                
                                            </div>
                                            <button *ngIf="list_drawings_onepage.length>number_of_drawings_to_show_by_album[0]" class="see-more" (click)="see_more_drawings(0,0)">
                                                <mat-icon>expand_more</mat-icon>
                                            </button>
                                        </div>
                                    </div>
                                    <div *ngIf=" !mode_visiteur " >
                                        <div *ngIf="list_drawings_onepage.length!=0" class="bd-container" #container_drawings>

                                            <div class="artwork-type-title">
                                                <span>One-shots</span>
                                            </div>
                                            <div class="grid" data-masonry='{ "itemSelector": ".grid-item", "columnWidth": 200 }' >
                                                <div *ngFor="let item of list_drawings_onepage.slice(0,number_of_drawings_to_show_by_album[0])" class="grid-item" #getwidth>
                                                    <app-thumbnail-drawing 
                                                        [item]=item
                                                        format='one-shot'
                                                        now_in_seconds={{now_in_seconds}}
                                                        (sendLoaded)="sendLoaded( $event );"
                                                    ></app-thumbnail-drawing>
                                                </div>

                                    
                                                
                                                
                                                
                                                
                                                
                                            </div>
                                            <button *ngIf="list_drawings_onepage.length>number_of_drawings_to_show_by_album[0]" class="see-more" (click)="see_more_drawings(0,0)">
                                                <mat-icon>expand_more</mat-icon>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </ng-container>

                            <!--One-shots album-->
                            <div class="bd-container" #container_drawings>
                                <div *ngIf="opened_album==1" class="grid" data-masonry='{ "itemSelector": ".grid-item", "columnWidth": 200 }'>
                                    <div *ngFor="let item of list_drawings_onepage.slice(0,number_of_drawings_to_show_by_album[0])" class="grid-item" #getwidth>
                                        <app-thumbnail-drawing 
                                            [item]=item
                                            format='one-shot'
                                            now_in_seconds={{now_in_seconds}}
                                            (sendLoaded)="sendLoaded( $event );"
                                        ></app-thumbnail-drawing>
                                    </div>

                                    
                                    <div class="grid-item" style="height:1px;width:100px;">
                                    </div>
                                    <div class="grid-item" style="height:1px;width:100px;">
                                    </div>
                                    <div class="grid-item" style="height:1px;width:100px;">
                                    </div>
                                    <div class="grid-item" style="height:1px;width:100px;">
                                    </div>
                                    <div class="grid-item" style="height:1px;width:100px;">
                                    </div>
                                    
                                </div>
                            </div>


                            <!--Artbooks album-->
                            <div class="bd-container" #container_drawings>
                                <div *ngIf="opened_album==2" class="grid" data-masonry='{ "itemSelector": ".grid-item", "columnWidth": 200 }'>
                                    <div *ngFor="let item of list_drawings_artbook.slice(0,number_of_drawings_to_show_by_album[1])" class="grid-item" #getwidth>
                                        <app-thumbnail-drawing 
                                            [item]=item
                                            format='artbook'
                                            now_in_seconds={{now_in_seconds}}
                                            (sendLoaded)="sendLoaded( $event );"
                                        ></app-thumbnail-drawing>
                                    </div>
                                    
                                    <div class="grid-item" style="height:1px;width:100px;">
                                    </div>
                                    <div class="grid-item" style="height:1px;width:100px;">
                                    </div>
                                    <div class="grid-item" style="height:1px;width:100px;">
                                    </div>
                                    <div class="grid-item" style="height:1px;width:100px;">
                                    </div>
                                    <div class="grid-item" style="height:1px;width:100px;">
                                    </div>
                                    
                                </div>
                            </div>

                            
                            <!--Autres albums-->
                            
                            <div class="bd-container" *ngIf="opened_album>=3" #container_drawings>
                                <div *ngFor="let elem of list_titles_albums_drawings_added;let indice=index">
                                    <div *ngIf="(opened_album-3)==indice" class="grid" data-masonry='{ "itemSelector": ".grid-item", "columnWidth": 200 }'>
                                        <div *ngFor="let item of list_albums_drawings[opened_album - 3].slice(0,number_of_drawings_to_show_by_album[opened_album-1])" class="grid-item" #getwidth>
                                            <app-thumbnail-drawing *ngIf="item.pagesnumber == null"
                                                [item]=item
                                                format='one-shot'
                                                now_in_seconds={{now_in_seconds}}
                                                (sendLoaded)="sendLoaded( $event );"
                                            ></app-thumbnail-drawing>
                                            <app-thumbnail-drawing *ngIf="item.pagesnumber >=0"
                                                [item]=item 
                                                format='artbook'
                                                now_in_seconds={{now_in_seconds}}
                                                (sendLoaded)="sendLoaded( $event );"
                                            ></app-thumbnail-drawing>
                                        </div>


                                        <div class="grid-item" style="height:1px;width:100px;">
                                        </div>
                                        <div class="grid-item" style="height:1px;width:100px;">
                                        </div>
                                        <div class="grid-item" style="height:1px;width:100px;">
                                        </div>
                                        <div class="grid-item" style="height:1px;width:100px;">
                                        </div>
                                        <div class="grid-item" style="height:1px;width:100px;">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            

                        </div>

                        
                        <!------------------------------------------------------------------------->
                        <!----------------------- VISUALISATION DES ECRITS ------------------------>
                        <!------------------------------------------------------------------------->
                        

                        <div *ngIf="opened_category==2" class="bd-container" #container_writings [ngClass]="{'invisible': !display_writings_thumbnails}">
                        
                            <ng-container *ngIf="opened_album==0">
                                <ng-container *ngIf="list_albums_writings_added">
                                    <div *ngFor="let item of list_titles_albums_writings_added ; let i = index">

                                        <!--On affiche l'album-->
                                        <div *ngIf="!mode_visiteur">
                                            <div class="artwork-type-title" *ngIf="list_albums_writings[list_titles_albums_writings_added.length-i-1].length>0">
                                                <span>{{list_titles_albums_writings_added[list_titles_albums_writings_added.length-i-1]}}</span>
                                            </div>

                                            <div class="writing-thumbnails-container container-writings">
                                                <div *ngFor="let item of list_albums_writings[list_titles_albums_writings_added.length-i-1].slice(0,number_of_writings_to_show_by_album[list_titles_albums_writings_added.length-i])" >
                                                    <app-thumbnail-writing 
                                                        (sendLoaded)="display_albums_writing_thumbnails( $event );"
                                                        [item]=item
                                                        now_in_seconds={{now_in_seconds}}
                                                    ></app-thumbnail-writing>
                                                </div>
                                            </div>

                                        </div>
                                        <div *ngIf="mode_visiteur && list_writings_albums_status[list_titles_albums_writings_added.length-i-1]=='public'">
                                            <div class="artwork-type-title">
                                                <span>{{list_titles_albums_writings_added[list_titles_albums_writings_added.length-i-1]}}</span>
                                            </div>

                                            <div class="writing-thumbnails-container container-writings">
                                                <div *ngFor="let item of list_albums_writings[list_titles_albums_writings_added.length-i-1].slice(0,number_of_writings_to_show_by_album[list_titles_albums_writings_added.length-i])" >
                                                    <app-thumbnail-writing
                                                        (sendLoaded)="display_albums_writing_thumbnails( $event );"
                                                        [item]=item
                                                        now_in_seconds={{now_in_seconds}}
                                                    ></app-thumbnail-writing>
                                                </div>
                                            </div>

                                        </div>
                                        <button *ngIf="list_albums_writings[list_titles_albums_writings_added.length-i-1].length>number_of_writings_to_show_by_album[list_titles_albums_writings_added.length-i]" class="see-more" (click)="see_more_writings(list_titles_albums_writings_added.length-i,0)">
                                            <mat-icon>expand_more</mat-icon>
                                        </button>
                                    </div>
                                    
                                </ng-container>

                                <ng-container>
                                    <div *ngIf="list_titles_albums_writings_added.length>0" class="artwork-type-title">
                                        <span>Tout</span>
                                    </div>
                                    <div *ngIf="list_writings_added && list_writings.length!=0 " class="writing-thumbnails-container container-writings">   
                                    
                                        <div *ngFor="let item of list_writings.slice(0,number_of_writings_to_show_by_album[0])">
                                            <app-thumbnail-writing 
                                            (sendLoaded)="display_albums_writing_thumbnails( $event );"
                                                [item]=item
                                                now_in_seconds={{now_in_seconds}}
                                            ></app-thumbnail-writing>
                                        </div>
                                    </div>
                                    <button *ngIf="list_writings.length>number_of_writings_to_show_by_album[0]" class="see-more" (click)="see_more_writings(0,0)">
                                        <mat-icon>expand_more</mat-icon>
                                    </button>
                                </ng-container>
                                
                            </ng-container>


                            <!--Autres albums-->
                            <ng-container *ngIf="opened_album>=1">
                                <div class="writing-thumbnails-container container-writings">
                                    <div *ngFor="let item of list_albums_writings[opened_album - 1].slice(0,number_of_writings_to_show_by_album[opened_album])" >
                                        <app-thumbnail-writing 
                                        (sendLoaded)="display_albums_writing_thumbnails( $event );"
                                        [item]=item
                                        now_in_seconds={{now_in_seconds}}
                                        ></app-thumbnail-writing>
                                    </div>
                                </div>
                            </ng-container>


                        </div>

                    </ng-container>
                    


                    <!------------------------------------------------------------------------->
                    <!------------------- CREATION D'ALBUM - BANDE DESSINEE ------------------->
                    <!------------------------------------------------------------------------->
                    <ng-container *ngIf="add_album==0">
                        <app-add-album-comic 
                            [author_name]=author_name
                            [pseudo]=pseudo
                            [user_id]=user_id
                            [profile_picture]=profile_picture
                            [primary_description]=primary_description
                            [list_bd_oneshot]=list_bd_oneshot
                            [list_bd_series]=list_bd_series>
                        </app-add-album-comic>
                    </ng-container>
                    <!------------------------------------------------------------------------->
                    <!----------------------- CREATION D'ALBUM - DESSINS ---------------------->
                    <!------------------------------------------------------------------------->
                    <ng-container *ngIf="add_album==1 && list_drawings_onepage_added && list_drawings_artbook_added">
                        <app-add-album-drawing
                            [author_name]=author_name
                            [pseudo]=pseudo
                            [user_id]=user_id
                            [profile_picture]=profile_picture
                            [primary_description]=primary_description
                            [list_drawings_onepage]=list_drawings_onepage
                            [list_drawings_artbook]=list_drawings_artbook>
                        </app-add-album-drawing>
                    </ng-container>
                    <!------------------------------------------------------------------------->
                    <!----------------------- CREATION D'ALBUM - ECRITS ----------------------->
                    <!------------------------------------------------------------------------->
                    <ng-container *ngIf="add_album==2 && list_writings_added">
                        <app-add-album-writing
                            [author_name]=author_name
                            [pseudo]=pseudo
                            [user_id]=user_id
                            [profile_picture]=profile_picture
                            [primary_description]=primary_description
                            [list_writings]=list_writings>
                        </app-add-album-writing>
                    </ng-container>


                </div>

            </ng-container>


            
        </ng-container>


        <!---------------------------------------------------------------------------->
        <!---------------------------------------------------------------------------->
        <!-------------------------ADS & ABOUT & MY-ACCOUNT--------------------------->
        <!---------------------------------------------------------------------------->
        <!---------------------------------------------------------------------------->
        <ng-container *ngIf="list_writings_added && list_drawings_artbook_added
        && list_drawings_onepage_added && list_bd_series_added && list_bd_oneshot_added">

            <div class="ads-container" *ngIf="opened_section==2 && list_of_ads_added && list_of_ads.length>0" [@enterAnimation]>
                <div class="ad" *ngFor="let item of list_of_ads.slice(0,number_of_ads_to_show); let i = index">
                    <app-thumbnail-ad
                    [item]=item
                    [now_in_seconds]=now_in_seconds
                    ></app-thumbnail-ad>
                </div>
            </div>

            <div class="add-artwork-button" *ngIf="!mode_visiteur && opened_section==2 && list_of_ads_added && list_of_ads.length==0">
                <a [routerLink]=get_add_artwork_link()>
                    <button>
                        <mat-icon>add</mat-icon>
                        <span>Publier votre première annonce</span>
                    </button>
                </a>
            </div>
            <div class="text-lines large" *ngIf="mode_visiteur && opened_section==2 && list_of_ads_added && list_of_ads.length==0">
                <mat-icon>info_outline</mat-icon>
                <span>Aucune annonce</span>
            </div>


            <ng-container *ngIf="opened_section==5 ">
                <app-account-about
                [pseudo]=pseudo
                [id_user]=user_id
                [author]=author
                [visitor_mode]=mode_visiteur
                ></app-account-about>
            </ng-container>

            <ng-container *ngIf="opened_section==6">
                <app-archives></app-archives>
            </ng-container>

            <ng-container *ngIf="opened_section==7 && !mode_visiteur ">
                <app-account-my-account
                [pseudo]=pseudo
                [id_user]=user_id
                ></app-account-my-account>
            </ng-container>

        </ng-container>

    </ng-container>

    
</div>

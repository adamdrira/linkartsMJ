<div class="panel-background" *ngIf="!for_reset_password">
    <div class="logos-container"  #target [@enterFromTopAnimation]>
        <button class="logo" [ngClass]="{'opened': opened_category == 0 }" (click)="open_category(0);scroll(target);" #target>
            <mat-icon [ngClass]="{'invisible': !show_icon }">settings</mat-icon>
            <span>Paramètres</span>
        </button>
        <button class="logo" [ngClass]="{'opened': opened_category == 1 }" (click)="open_category(1);scroll(target);" #target>
            <mat-icon [ngClass]="{'invisible': !show_icon }">euro_symbol</mat-icon>
            <span>Rémunération</span>
        </button>
    </div>
</div>


<div class="account-my-account" *ngIf="for_reset_password">


    <div *ngIf="!password_retrieved" >

        <div class="account-title-container">
            <!--TITRE + BOUTON EDITER/CACHER-->
            <div class="category">
                <div class="category-title shiny">
                </div>
            </div>
        </div>

        <div class="account-form-container height-loading" >


            <div class="form-item " >
                <div class="category2">
                    <div class="category-title2 shiny">
                    </div>
                </div>
            </div>


            <div class="form-item " >
                <div class="category2">
                    <div class="category-title2 shiny">
                    </div>
                </div>
            </div>

            <div class="form-item " >
                <div class="category2">
                    <div class="category-title2 shiny">
                    </div>
                </div>
            </div>
            

        </div>

        <div class="account-title-container">
            <!--TITRE + BOUTON EDITER/CACHER-->
            <div class="category">
                <div class="category-title shiny">
                </div>
            </div>
        </div>

        <div class="account-form-container height-loading" >


            <div class="form-item " >
                <div class="category2">
                    <div class="category-title2 shiny">
                    </div>
                </div>
            </div>


            <div class="form-item " >
                <div class="category2">
                    <div class="category-title2 shiny">
                    </div>
                </div>
            </div>

            <div class="form-item " >
                <div class="category2">
                    <div class="category-title2 shiny">
                    </div>
                </div>
            </div>
            

        </div>

    </div>

    <div [ngClass]="{'invisible':!password_retrieved }">
        <div class="account-form-container" [formGroup]="registerForm1">
            


            <button class="validate-form-button" *ngIf="!registerForm1_activated" (click)="edit_password();" [@enterAnimation]>
                <mat-icon [ngClass]="{'invisible': !show_icon }">lock</mat-icon>
                <span>Changer mon mot de passe</span>
            </button>

            <div class="form-item" *ngIf="registerForm1_activated" [@enterAnimation]>

                <mat-form-field floatLabel='never'>
                    <mat-label>Mot de passe actuel</mat-label>
                    <input matInput formControlName="old_password" [type]="hide_password ? 'password' : 'text'" maxLength="50" autocomplete="off">
                    <mat-error *ngIf="registerForm1.controls['old_password'].invalid ">Mot de passe incorrect
                    </mat-error>
                    <div class="length-indicator">
                        <mat-icon [ngClass]="{'invisible': !show_icon }" (click)="change_password_type();" style="cursor:pointer;">visibility</mat-icon>
                    </div>
                </mat-form-field>

                <mat-form-field floatLabel='never'>
                    <mat-label>Nouveau mot de passe</mat-label>
                    <input matInput formControlName="password" [type]="hide_password ? 'password' : 'text'" maxLength="50" autocomplete="off">
                    <mat-error *ngIf="registerForm1.controls['password'].invalid ">Minimum : 8 caractères, une minuscule, une majuscule et un chiffre
                    </mat-error>
                    <div class="length-indicator">
                        <mat-icon [ngClass]="{'invisible': !show_icon }" (click)="change_password_type();" style="cursor:pointer;">visibility</mat-icon>
                    </div>
                </mat-form-field>

                <mat-form-field floatLabel='never'>
                    <mat-label>Confirmation du nouveau mot de passe</mat-label>
                    <input matInput formControlName="confirmPassword" [type]="hide_password ? 'password' : 'text'" maxLength="50" autocomplete="off">
                    <mat-error>Confirmation incorrecte
                    </mat-error>
                    <div class="length-indicator">
                        <mat-icon [ngClass]="{'invisible': !show_icon }" (click)="change_password_type();" style="cursor:pointer;">visibility</mat-icon>
                    </div>
                </mat-form-field>

                
                <button class="validate-form-button" (click)="validate_edit_password();" [@enterAnimation]>
                    <mat-icon [ngClass]="{'invisible': !show_icon }" *ngIf="!checking_password">done_all</mat-icon>
                    <span *ngIf="!checking_password" >Valider</span>
                    <mat-spinner diameter="25" *ngIf="checking_password" style="margin:auto;"></mat-spinner>
                </button>

                
            </div>

        
        </div>

    </div>
   
</div>



<div class="account-my-account" *ngIf="!for_reset_password">



    <div *ngIf="(opened_category==0 && (!mailing_retrieved  || !password_retrieved || !groups_owned_found))" >

        <div class="account-title-container">
            <!--TITRE + BOUTON EDITER/CACHER-->
            <div class="category">
                <div class="category-title shiny">
                </div>
            </div>
        </div>

        <div class="account-form-container height-loading" >


            <div class="form-item " >
                <div class="category2">
                    <div class="category-title2 shiny">
                    </div>
                </div>
            </div>


            <div class="form-item " >
                <div class="category2">
                    <div class="category-title2 shiny">
                    </div>
                </div>
            </div>

            <div class="form-item " >
                <div class="category2">
                    <div class="category-title2 shiny">
                    </div>
                </div>
            </div>
            

        </div>

        <div class="account-title-container">
            <!--TITRE + BOUTON EDITER/CACHER-->
            <div class="category">
                <div class="category-title shiny">
                </div>
            </div>
        </div>

        <div class="account-form-container height-loading" >


            <div class="form-item " >
                <div class="category2">
                    <div class="category-title2 shiny">
                    </div>
                </div>
            </div>


            <div class="form-item " >
                <div class="category2">
                    <div class="category-title2 shiny">
                    </div>
                </div>
            </div>

            <div class="form-item " >
                <div class="category2">
                    <div class="category-title2 shiny">
                    </div>
                </div>
            </div>
            

        </div>

    </div>



    <div *ngIf="opened_category==0 " [ngClass]="{'invisible':!mailing_retrieved  || !password_retrieved || !groups_owned_found}">

        <!-- Description principale -->
        <div class="account-title-container">
            <!--TITRE + BOUTON EDITER/CACHER-->
            <div class="title">
                <span>Gestion du compte</span>
            </div>
        </div>


        <div class="account-form-container" [formGroup]="registerForm1">
            


            <button class="validate-form-button" *ngIf="!registerForm1_activated && !visitor_mode" (click)="edit_password();" [@enterAnimation]>
                <mat-icon [ngClass]="{'invisible': !show_icon }">lock</mat-icon>
                <span>Changer mon mot de passe</span>
            </button>

            <div class="form-item" *ngIf="registerForm1_activated && !visitor_mode" [@enterAnimation]>

                <mat-form-field floatLabel='never'>
                    <mat-label>Mot de passe actuel</mat-label>
                    <input matInput formControlName="old_password" [type]="hide_password ? 'password' : 'text'" maxLength="50" autocomplete="off">
                    <mat-error *ngIf="registerForm1.controls['old_password'].invalid ">Mot de passe incorrect
                    </mat-error>
                    <div class="length-indicator">
                        <mat-icon [ngClass]="{'invisible': !show_icon }" (click)="change_password_type();" style="cursor:pointer;">visibility</mat-icon>
                    </div>
                </mat-form-field>

                <mat-form-field floatLabel='never'>
                    <mat-label>Nouveau mot de passe</mat-label>
                    <input matInput formControlName="password" [type]="hide_password ? 'password' : 'text'" maxLength="50" autocomplete="off">
                    <mat-error *ngIf="registerForm1.controls['password'].invalid ">Minimum : 8 caractères, une minuscule, une majuscule et un chiffre
                    </mat-error>
                    <div class="length-indicator">
                        <mat-icon [ngClass]="{'invisible': !show_icon }" (click)="change_password_type();" style="cursor:pointer;">visibility</mat-icon>
                    </div>
                </mat-form-field>

                <mat-form-field floatLabel='never'>
                    <mat-label>Confirmation du nouveau mot de passe</mat-label>
                    <input matInput formControlName="confirmPassword" [type]="hide_password ? 'password' : 'text'" maxLength="50" autocomplete="off">
                    <mat-error>Confirmation incorrecte
                    </mat-error>
                    <div class="length-indicator">
                        <mat-icon [ngClass]="{'invisible': !show_icon }" (click)="change_password_type();" style="cursor:pointer;">visibility</mat-icon>
                    </div>
                </mat-form-field>

                
                <button class="validate-form-button" (click)="validate_edit_password();" [@enterAnimation]>
                    <mat-icon [ngClass]="{'invisible': !show_icon }" *ngIf="!checking_password">done_all</mat-icon>
                    <span *ngIf="!checking_password" >Valider</span>
                    <mat-spinner diameter="25" *ngIf="checking_password" style="margin:auto;"></mat-spinner>
                </button>
                <button class="validate-form-button" (click)="cancel_edit_password();" [@enterAnimation]>
                    <mat-icon [ngClass]="{'invisible': !show_icon }">close</mat-icon>
                    <span>Annuler</span>
                </button>

                <div class="account-horizontal-divider"></div>
                
            </div>

            
            <button class="validate-form-button" *ngIf="status!='suspended'" (click)="suspend_account();" [@enterAnimation]>
                <ng-container *ngIf="!deletion_loading">
                    <mat-icon [ngClass]="{'invisible': !show_icon }">pause_circle_outline</mat-icon>
                    <span>Suspendre mon compte</span>
                </ng-container>
                <ng-container *ngIf="deletion_loading">
                    <mat-spinner diameter="25" style="margin:auto;"></mat-spinner>
                </ng-container>
            </button>
            
            <button class="validate-form-button" *ngIf="status=='suspended'" (click)="get_back_suspended_account();" [@enterAnimation]>
                <ng-container *ngIf="!deletion_loading">
                    <mat-icon [ngClass]="{'invisible': !show_icon }">play_circle_outline</mat-icon>
                    <span>Réactiver mon compte</span>
                </ng-container>
                <ng-container *ngIf="deletion_loading">
                    <mat-spinner diameter="25" style="margin:auto;"></mat-spinner>
                </ng-container>
            </button>

            <button class="validate-form-button" (click)="delete_account();" [@enterAnimation]>
                <ng-container *ngIf="!deletion_loading">
                    <mat-icon [ngClass]="{'invisible': !show_icon }">delete_forever</mat-icon>
                    <span>Supprimer mon compte</span>
                </ng-container>
                <ng-container *ngIf="deletion_loading">
                    <mat-spinner diameter="25" style="margin:auto;"></mat-spinner>
                </ng-container>
            </button>

        </div>



        <!-- Description principale -->
        <div class="account-title-container">
            <!--TITRE + BOUTON EDITER/CACHER-->
            <div class="title">
                <span>Gestion des e-mails</span>
            </div>
        </div>


        <div class="account-form-container" [formGroup]="registerForm">
            

            <button class="validate-form-button" *ngIf="!registerForm_activated" (click)="edit_email();" [@enterAnimation]>
                <mat-icon [ngClass]="{'invisible': !show_icon }">alternate_email</mat-icon>
                <span>Changer mon adresse e-mail</span>
            </button>

            <div class="form-item" *ngIf="registerForm_activated" [@enterAnimation]>
                <mat-form-field floatLabel='never'>
                    <mat-label>Adresse e-mail</mat-label>
                    <input matInput formControlName="email" maxLength="100" type="search" autocomplete="off">
                    <mat-error *ngIf="registerForm.controls['email'].invalid">Saisie invalide : les espaces en début de saisie ainsi que certains caractères spéciaux ne sont pas autorisés
                    </mat-error>
                    <div class="length-indicator">{{registerForm.controls['email'].value?.length || 0}}/100</div>
                </mat-form-field>

                    
                <button class="validate-form-button" (click)="validate_edit_email();" [@enterAnimation]>
                    <mat-icon [ngClass]="{'invisible': !show_icon }" *ngIf="!loading_email">done</mat-icon>
                    <span  *ngIf="!loading_email">Valider</span>
                    <mat-spinner diameter="25" style="margin:auto;" *ngIf="loading_email"></mat-spinner>
                </button>
                <button class="validate-form-button" (click)="cancel_edit_email();" [@enterAnimation]>
                    <mat-icon [ngClass]="{'invisible': !show_icon }">close</mat-icon>
                    <span>Annuler</span>
                </button>
                
                <div class="account-horizontal-divider"></div>

            </div>



            <button class="validate-form-button" *ngIf="!email_agreement" (click)="change_mailing_agreement()" [@enterAnimation]>
                <mat-icon [ngClass]="{'invisible': !show_icon }">mail_outline</mat-icon>
                <span>Autoriser l'envoi d'e-mails</span>
            </button>
            <button class="validate-form-button" *ngIf="email_agreement" (click)="change_mailing_agreement()" [@enterAnimation]>
                <mat-icon [ngClass]="{'invisible': !show_icon }">block</mat-icon>
                <span>Ne plus autoriser l'envoi d'e-mails</span>
            </button>
            <div class="text-lines"  [@enterAnimation]>
                <mat-icon [ngClass]="{'invisible': !show_icon }" style="cursor: pointer;" (click)="change_show_email_infos()">info_outline</mat-icon>
                <ng-container *ngIf="show_infos_email">
                    <span style="margin-bottom:10px">L'autorisation ou le refut de recevoir des e-mails ne concerne que les e-mails informatifs suivants: </span>
                    <span> &nbsp;  - classement dans les Tendances </span>
                    <span> &nbsp;  - classement dans les Coups de cœurs </span>
                    <span> &nbsp;  - réception de réponses à vos annonces </span>
                    <span> &nbsp;  - réception de messages dans la messagerie après 2 jours sans connexion</span>
                </ng-container>
                
               
            </div>
        </div>

        <div *ngIf="show_group_managment && gender!='Groupe'">

            <!-- Description principale -->
            <div class="account-title-container">
                <!--TITRE + BOUTON EDITER/CACHER-->
                <div class="title">
                    <span>Gestion des groupes</span>
                </div>
            </div>
    
    
            <div class="account-form-container">
                
    
                <div class="text-lines" *ngIf="!user_is_in_a_group" [@enterAnimation]>
                    <mat-icon [ngClass]="{'invisible': !show_icon }">info_outline</mat-icon>
                    <span>Vous ne faites partie d'aucun groupe d'artistes</span>
                   
                </div>
    
                <ng-container [@enterAnimation]>
                    <button class="validate-form-button" 
                    (click)="create_a_group()"
                    [@enterAnimation]>
                        <mat-icon [ngClass]="{'invisible': !show_icon }">add</mat-icon>
                        <span *ngIf="!user_is_in_a_group"  >Créer un groupe</span>
                        <span *ngIf="user_is_in_a_group"  >Créer un nouveau groupe</span>
                    </button>
                </ng-container>
               
                <div [formGroup]="registerForm2" *ngIf="loading_add_artist" [@enterAnimation]> 

                    <div class="group-container" >
                        <div class="loading-page">
                            <mat-spinner diameter="20"></mat-spinner>
                        </div>
                    </div>

                </div>

                <div [formGroup]="registerForm2" *ngIf="user_is_in_a_group && !loading_add_artist" [@enterAnimation]> 

                    <div class="group-container" *ngFor="let group of list_of_groups_names; let i=index">
    
                        <div class="group">
                            <mat-icon [ngClass]="{'invisible': !show_icon }" class="group-icon">group</mat-icon>
    
                            <span *ngIf="!loading_connexion[i]" (click)="open_group(i)"
                            matTooltip="Se connecter au groupe"
                            matTooltipClass='tooltip-account-about-profile' 
                            [matTooltipPosition]="'below'"
                            [matTooltipShowDelay]="0">{{group}}</span>
                            <mat-spinner diameter="20"  *ngIf="loading_connexion[i]" style="margin:auto 15px auto 0px;"></mat-spinner>
                            <mat-icon [ngClass]="{'invisible': !show_icon }" *ngIf="list_of_groups_status[i]" class="group-status-icon" [@enterAnimation]
                            matTooltip="Groupe créé"
                            matTooltipClass='tooltip-account-about-profile' 
                            [matTooltipPosition]="'below'"
                            [matTooltipShowDelay]="0">done_all</mat-icon>
                            <mat-icon [ngClass]="{'invisible': !show_icon }" *ngIf="!list_of_groups_status[i]" class="group-status-icon" [@enterAnimation]
                            matTooltip="Groupe en attente de validation"
                            matTooltipClass='tooltip-account-about-profile' 
                            [matTooltipPosition]="'below'"
                            [matTooltipShowDelay]="0">access_time</mat-icon>
    
                            <button *ngIf="!manage_group_activated[i]" (click)="manage_group(i)" [@enterAnimation]>
                                <span>Gérer</span>
                                <mat-icon [ngClass]="{'invisible': !show_icon }">arrow_drop_down</mat-icon>
                            </button>
                            <button *ngIf="manage_group_activated[i]"  (click)="cancel_manage_group(i)" [@enterAnimation]>
                                <span>Revenir</span>
                                <mat-icon [ngClass]="{'invisible': !show_icon }">arrow_drop_up</mat-icon>
                            </button>
                            
                        </div>
    
                        <div class="loading-page" *ngIf="manage_group_loading[i] && !manage_group_activated[i]">
                            <mat-spinner diameter="20"></mat-spinner>
                        </div>
    
    
                        <div class="members-container" *ngIf="manage_group_activated[i]" [@enterAnimation]>
                            <div class="member" *ngFor="let member of list_of_members_ids_by_group[list_of_groups_ids[i]];let k=index">
    
                                <div class="image-container" [ngClass]="{'shiny': !list_of_members_pictures_by_group_loaded[list_of_groups_ids[i]][k]}" >
                                    <img [src]="list_of_members_pictures_by_group[list_of_groups_ids[i]][k]" (load)="load_list_of_members_pictures_by_group(i,k)" [ngClass]="{'invisible': !list_of_members_pictures_by_group_loaded[list_of_groups_ids[i]][k] }" >
                                </div>
                                <span>{{list_of_members_names_by_group[list_of_groups_ids[i]][k]}}</span>
    
                                <div class="member-status-icon">
                                    <mat-icon [ngClass]="{'invisible': !show_icon }" *ngIf="list_of_members_status_by_group[list_of_groups_ids[i]][k]=='validated'"
                                    matTooltip="Validé"
                                    matTooltipClass='tooltip-account-about-profile' 
                                    [matTooltipPosition]="'below'"
                                    [matTooltipShowDelay]="0" [@enterAnimation]>done</mat-icon>
                                    <mat-icon [ngClass]="{'invisible': !show_icon }" *ngIf="list_of_members_status_by_group[list_of_groups_ids[i]][k]!='validated'"
                                    matTooltip="En attente"
                                    matTooltipClass='tooltip-account-about-profile' 
                                    [matTooltipPosition]="'below'"
                                    [matTooltipShowDelay]="0" [@enterAnimation]>access_time</mat-icon>
                                </div>
    
                                        
                                <div class="form-item" *ngIf="!share_in_edition[list_of_groups_ids[i]][k]" [@enterAnimation]>
                                    <mat-form-field floatLabel='never'>
                                        <mat-label>{{list_of_members_shares_by_group[list_of_groups_ids[i]][k]}} %</mat-label>
                                        <input matInput readonly>
                                    </mat-form-field>
                                </div>
    
    
                                
                                <ng-container *ngIf="list_of_groups_admins_ids[i]==id_user">
                                    
                                    <ng-container *ngIf="share_in_edition[list_of_groups_ids[i]][k]">
                                        <div class="form-item">
                                            <mat-form-field>
                                                <input matInput formControlName="share" autocomplete="off" maxLength="5">
                                                <div class="length-indicator">%</div>
                                            </mat-form-field>
                                        </div>
                                        <button class="validate-shares-button validate" (click)="validate_share(list_of_groups_ids[i],k)">
                                            <mat-icon [ngClass]="{'invisible': !show_icon }">done</mat-icon>
                                        </button>
                                        <button class="validate-shares-button close" (click)="cancel_share(list_of_groups_ids[i],k)">
                                            <mat-icon [ngClass]="{'invisible': !show_icon }">close</mat-icon>
                                        </button>
                                    </ng-container>
    
                                    <button [matMenuTriggerFor]="artworkOptions3" class="groupOptions" *ngIf="!share_in_edition[list_of_groups_ids[i]][k]" [@enterAnimation]>
                                        <mat-icon [ngClass]="{'invisible': !show_icon }">more_vert</mat-icon>
                                    </button>
                                    
                                    <mat-menu #artworkOptions3="matMenu" xPosition='before' class="account-title-mat-menu">
                                        <button class="account-title-menu-item" mat-menu-item (click)="edit_share_equity(list_of_groups_ids[i])"> 	
                                            <mat-icon [ngClass]="{'invisible': !show_icon }">call_split</mat-icon>
                                            <span>Répartir équitablement les gains</span>
                                        </button>
                                        <button class="account-title-menu-item" mat-menu-item (click)="edit_share(list_of_groups_ids[i],k)"> 	
                                            <mat-icon [ngClass]="{'invisible': !show_icon }">euro_symbol</mat-icon>
                                            <span>Editer la répartition</span>
                                        </button>
                                        <button class="account-title-menu-item" *ngIf="k>0" mat-menu-item (click)="exit_user_from_the_group(list_of_groups_ids[i],k)"> 	
                                            <mat-icon [ngClass]="{'invisible': !show_icon }">close</mat-icon>
                                            <span>Retirer du groupe</span>
                                        </button>
                                    </mat-menu>
    
                                </ng-container>
    
                            </div>
    
    
                            <div class="buttons-container">
                                <button class="validate-form-button" 
                                *ngIf="list_of_groups_admins_ids[i]==id_user && list_of_members_status_by_group[list_of_groups_ids[i]][list_of_members_ids_by_group[list_of_groups_ids[i]].indexOf(id_user)]!='validated'"  
                                (click)="abort_group(list_of_groups_ids[i])"
                                [@enterAnimation]>
                                    <mat-icon [ngClass]="{'invisible': !show_icon }">close</mat-icon>
                                    <span  >Annuler </span>
                                </button>

                                <button class="validate-form-button" 
                                *ngIf="list_of_groups_admins_ids[i]!=id_user && list_of_members_status_by_group[list_of_groups_ids[i]][list_of_members_ids_by_group[list_of_groups_ids[i]].indexOf(id_user)]!='validated'"  
                                (click)="exit_group(list_of_groups_ids[i])"
                                [@enterAnimation]>
                                    <mat-icon [ngClass]="{'invisible': !show_icon }">close</mat-icon>
                                    <span   >Refuser </span>
                                </button>
                              
                                <button class="validate-form-button" 
                                *ngIf="(group_in_edition[list_of_groups_ids[i]] && list_of_groups_admins_ids[i]==id_user) || ( list_of_members_status_by_group[list_of_groups_ids[i]][list_of_members_ids_by_group[list_of_groups_ids[i]].indexOf(id_user)]!='validated')"
                                (click)="validate_all(list_of_groups_ids[i])"
                                [@enterAnimation]>
                                    <mat-icon [ngClass]="{'invisible': !show_icon }" *ngIf="!validation_all">done</mat-icon>
                                    <span  *ngIf="!validation_all">Valider</span>
                                    <mat-spinner diameter="25" style="margin:auto;" *ngIf="validation_all"></mat-spinner>
                                </button>
                                <button class="validate-form-button" 
                                *ngIf=" list_of_groups_admins_ids[i]==id_user && list_of_members_status_by_group[list_of_groups_ids[i]][list_of_members_ids_by_group[list_of_groups_ids[i]].indexOf(id_user)]=='validated'
                                && 10>list_of_members_ids_by_group[list_of_groups_ids[i]].length" 
                                (click)="add_artist(list_of_groups_ids[i],i)"
                                [@enterAnimation]>
                                    <mat-icon [ngClass]="{'invisible': !show_icon }">add</mat-icon>
                                    <span >Ajouter un membre</span>
                                </button>
                                <button class="validate-form-button" 
                                *ngIf="list_of_members_status_by_group[list_of_groups_ids[i]][list_of_members_ids_by_group[list_of_groups_ids[i]].indexOf(id_user)]=='validated'" 
                                (click)="exit_group(list_of_groups_ids[i])"
                                [@enterAnimation]>
                                    <mat-icon [ngClass]="{'invisible': !show_icon }">delete</mat-icon>
                                    <span >Quitter le groupe</span>
                                </button>
                            </div>
    
                        </div>
    
                    </div>
                </div>
    
            </div>
        </div>

    
        <!--!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!-->
        <!--!!!!!!!!!!!!!A FAIRE!!!!!!!!!!!!!!!!!-->
        <!--!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!-->
        <div class="category-container" *ngIf="show_list_of_members && gender=='Groupe'">
            
            
            <div class="account-title-container">
                <!--TITRE + BOUTON EDITER/CACHER-->
                <div class="title">
                    <span> Membres du groupe</span>
                </div>
            </div>

            <!--<div class="sub-category-title">
                <span class="title">
                    Membres du groupe
                </span>
            </div>-->
            <div class="account-form-container" [@enterAnimation]>

                    <div class="group-container" *ngFor="let group of list_of_groups_names; let i=index" >
    
                        <div class="group">
                            <mat-icon [ngClass]="{'invisible': !show_icon }" class="group-icon">group</mat-icon>
    
                            <span>{{group}}</span>
                            <mat-icon [ngClass]="{'invisible': !show_icon }" *ngIf="list_of_groups_status[i]" class="group-status-icon" [@enterAnimation]
                            matTooltip="Groupe créé"
                            matTooltipClass='tooltip-account-about-profile' 
                            [matTooltipPosition]="'below'"
                            [matTooltipShowDelay]="0">done_all</mat-icon>
                            <mat-icon [ngClass]="{'invisible': !show_icon }" *ngIf="!list_of_groups_status[i]" class="group-status-icon" [@enterAnimation]
                            matTooltip="Groupe en attente de validation"
                            matTooltipClass='tooltip-account-about-profile' 
                            [matTooltipPosition]="'below'"
                            [matTooltipShowDelay]="0">access_time</mat-icon>
    
                         
                            
                        </div>
    
                        <div class="loading-page" *ngIf="manage_group_loading[i] && !manage_group_activated[i]">
                            <mat-spinner diameter="20"></mat-spinner>
                        </div>
    
    
                        <div class="members-container" *ngIf="manage_group_activated[i]" [@enterAnimation]>
                            <div class="member" *ngFor="let member of list_of_members_ids_by_group[list_of_groups_ids[i]];let k=index">
    
                                <div class="image-container">
                                    <img [src]="list_of_members_pictures_by_group[list_of_groups_ids[i]][k]" >
                                </div>
                                <span>{{list_of_members_names_by_group[list_of_groups_ids[i]][k]}}</span>
    
                                <div class="member-status-icon">
                                    <mat-icon [ngClass]="{'invisible': !show_icon }" *ngIf="list_of_members_status_by_group[list_of_groups_ids[i]][k]=='validated'"
                                    matTooltip="Validé"
                                    matTooltipClass='tooltip-account-about-profile' 
                                    [matTooltipPosition]="'below'"
                                    [matTooltipShowDelay]="0" [@enterAnimation]>done</mat-icon>
                                    <mat-icon [ngClass]="{'invisible': !show_icon }" *ngIf="list_of_members_status_by_group[list_of_groups_ids[i]][k]!='validated'"
                                    matTooltip="En attente"
                                    matTooltipClass='tooltip-account-about-profile' 
                                    [matTooltipPosition]="'below'"
                                    [matTooltipShowDelay]="0" [@enterAnimation]>access_time</mat-icon>
                                </div>
    
                                        
                                <div class="form-item" *ngIf="!share_in_edition[list_of_groups_ids[i]][k]" [@enterAnimation]>
                                    <mat-form-field floatLabel='never'>
                                        <mat-label>{{list_of_members_shares_by_group[list_of_groups_ids[i]][k]}} %</mat-label>
                                        <input matInput readonly>
                                    </mat-form-field>
                                </div>
    
    
                            
    
                            </div>
    
    
                        
    
                        </div>
    
                    </div>
            </div>
            
        </div>


    </div>
   



    <div *ngIf="opened_category== 1">



        <div class="stats-container "  >
            
            <!-- Title container -->
            <div class="account-title-container">
                <!--TITRE + BOUTON EDITER/CACHER-->
                <div class="title">
                    <span>Tendances</span>
                </div>
            </div>

            <div class="account-form-container" >
                <div class="dropdowns-container">
                    <select name="somename" class="Sumo_trendings" [ngClass]="{'invisible':!sumo_ready }">
                        <option selected label="Depuis toujours">Depuis toujours</option>
                        <option label="Depuis 1 semaine">Depuis 1 semaine</option>
                        <option label="Depuis 1 mois">Depuis 1 mois</option>
                        <option label="Depuis 1 an">Depuis 1 an</option>
                    </select>
                </div>
                <div class="no-data-container" *ngIf="!trendings_found">
                    <ng-container *ngIf="trendings_loaded">
                        <mat-icon [ngClass]="{'invisible': !show_icon }">info_outline</mat-icon>
                        <span>
                            Vous n'avez aucune œuvre en tendances sur cette période. 
                        </span>
                    </ng-container>
                    <div *ngIf="!trendings_loaded ">
                        <mat-spinner diameter="20"></mat-spinner>
                    </div>
                </div>


                <div class="stats-number-container" *ngIf="trendings_found && trendings_loaded">
                    <div>
                        <mat-icon [ngClass]="{'invisible': !show_icon }">keyboard_arrow_right</mat-icon>
                        <span>Total des gains sur la période : <b>{{total_gains_trendings.toFixed(2)}} &euro; </b></span>
                    </div>
                    <div>
                        <mat-icon [ngClass]="{'invisible': !show_icon }">keyboard_arrow_right</mat-icon>
                        <span>Total des gains reliés aux bandes dessinés : <b>{{number_of_comics_gains.toFixed(2)}} &euro; </b></span>
                    </div>
                    <div>
                        <mat-icon [ngClass]="{'invisible': !show_icon }">keyboard_arrow_right</mat-icon>
                        <span>Total des gains reliés aux dessins : <b>{{number_of_drawings_gains.toFixed(2)}} &euro; </b></span>
                    </div>
                    <div>
                        <mat-icon [ngClass]="{'invisible': !show_icon }">keyboard_arrow_right</mat-icon>
                        <span>Total des gains reliés aux écrits : <b>{{number_of_writings_gains.toFixed(2)}} &euro; </b></span>
                    </div>
                </div>


                <div class="chart-container" #chartContainer *ngIf="trendings_found && trendings_loaded">
                    <ngx-charts-line-chart
                   
                    [scheme]="colorScheme"
                    [results]="multi_trendings_1"
                    [gradient]="gradient"
                    [xAxis]="showXAxis"
                    [yAxis]="showYAxis"
                    [legend]="show_legends"
                    [showXAxisLabel]="showXAxisLabel"
                    [showYAxisLabel]="showYAxisLabel"
                    [xAxisLabel]="xAxis_trendings_1"
                    [yAxisLabel]="yAxis_trendings_1">
                    </ngx-charts-line-chart>
                </div>

                <div class="chart-container" #chartContainer *ngIf="trendings_found && trendings_loaded">
                    <ngx-charts-line-chart
                   
                    [scheme]="colorScheme"
                    [results]="multi_trendings_2"
                    [gradient]="gradient"
                    [xAxis]="showXAxis"
                    [yAxis]="showYAxis"
                    [legend]="show_legends"
                    [showXAxisLabel]="showXAxisLabel"
                    [showYAxisLabel]="showYAxisLabel"
                    [xAxisLabel]="xAxis_trendings_2"
                    [yAxisLabel]="yAxis_trendings_2">
                    </ngx-charts-line-chart>
                </div>
            </div>
        </div>



        <div class="stats-container "  [ngClass]="{'really-invisible':!user_is_in_a_group }">
            
            <!-- Title container -->
            <div class="account-title-container">
                <!--TITRE + BOUTON EDITER/CACHER-->
                <div class="title">
                    <span>Tendances partagées</span>
                </div>
            </div>

            <div class="account-form-container" >
                <div class="dropdowns-container" [ngClass]="{'invisible':!sumo_ready }">
                    <select name="somename" class="Sumo_trendings_chose_group">
                        <option *ngFor="let section of list_of_groups_names;let i=index;" [selected]="i == 0">{{section}}</option> 
                    </select>
                </div>
                <div class="dropdowns-container" [ngClass]="{'invisible':!sumo_ready }">
                    <select name="somename" class="Sumo_trendings_groups">
                        <option selected label="Depuis toujours">Depuis toujours</option>
                        <option label="Depuis 1 semaine">Depuis 1 semaine</option>
                        <option label="Depuis 1 mois">Depuis 1 mois</option>
                        <option label="Depuis 1 an">Depuis 1 an</option>
                    </select>
                </div>
                <div class="no-data-container" *ngIf="!trendings_found_groups">
                    <ng-container *ngIf="trendings_loaded_groups">
                        <mat-icon [ngClass]="{'invisible': !show_icon }">info_outline</mat-icon>
                        <span>
                            Vous n'avez aucune œuvre en tendances sur cette période pour ce groupe. 
                        </span>
                    </ng-container>
                    <div *ngIf="!trendings_loaded_groups">
                        <mat-spinner diameter="20"></mat-spinner>
                    </div>
                </div>

                <div class="stats-number-container" *ngIf="trendings_found_groups && trendings_loaded_groups">
                    <div>
                        <mat-icon [ngClass]="{'invisible': !show_icon }">keyboard_arrow_right</mat-icon>
                        <span>Total des gains sur la période : <b>{{total_gains_groups.toFixed(2)}} &euro; </b></span>
                    </div>
                    <div>
                        <mat-icon [ngClass]="{'invisible': !show_icon }">keyboard_arrow_right</mat-icon>
                        <span>Total des gains reliés aux bandes dessinés : <b>{{number_of_comics_gains_groups.toFixed(2)}} &euro; </b></span>
                    </div>
                    <div>
                        <mat-icon [ngClass]="{'invisible': !show_icon }">keyboard_arrow_right</mat-icon>
                        <span>Total des gains reliés aux dessins : <b>{{number_of_drawings_gains_groups.toFixed(2)}} &euro; </b></span>
                    </div>
                    <div>
                        <mat-icon [ngClass]="{'invisible': !show_icon }">keyboard_arrow_right</mat-icon>
                        <span>Total des gains reliés aux écrits : <b>{{number_of_writings_gains_groups.toFixed(2)}} &euro; </b></span>
                    </div>
                </div>
                
                <div class="chart-container" #chartContainer *ngIf="trendings_found_groups && trendings_loaded_groups">
                    <ngx-charts-line-chart
                   
                    [scheme]="colorScheme"
                    [results]="multi_trendings_groups_1"
                    [gradient]="gradient"
                    [xAxis]="showXAxis"
                    [yAxis]="showYAxis"
                    [legend]="show_legends"
                    [showXAxisLabel]="showXAxisLabel"
                    [showYAxisLabel]="showYAxisLabel"
                    [xAxisLabel]="xAxis_trendings_groups_1"
                    [yAxisLabel]="yAxis_trendings_groups_1">
                    </ngx-charts-line-chart>
                </div>

                <div class="chart-container" #chartContainer *ngIf="trendings_found_groups && trendings_loaded_groups">
                    <ngx-charts-line-chart
                   
                    [scheme]="colorScheme"
                    [results]="multi_trendings_groups_2"
                    [gradient]="gradient"
                    [xAxis]="showXAxis"
                    [yAxis]="showYAxis"
                    [legend]="show_legends"
                    [showXAxisLabel]="showXAxisLabel"
                    [showYAxisLabel]="showYAxisLabel"
                    [xAxisLabel]="xAxis_trendings_groups_2"
                    [yAxisLabel]="yAxis_trendings_groups_2">
                    </ngx-charts-line-chart>
                </div>


            </div>
        </div>


        <div class="stats-container " *ngIf="concerned_by_favorites" >
            
            <!-- Title container -->
            <div class="account-title-container">
                <!--TITRE + BOUTON EDITER/CACHER-->
                <div class="title">
                    <span>Coups de cœur</span>
                </div>
            </div>

            <div class="account-form-container" >

                <div class="dropdowns-container">
                    <select name="somename" class="Sumo_favorites" [ngClass]="{'invisible':!sumo_ready }">
                        <option selected label="Depuis toujours">Depuis toujours</option>
                        <option label="Depuis 1 semaine">Depuis 1 semaine</option>
                        <option label="Depuis 1 mois">Depuis 1 mois</option>
                        <option label="Depuis 1 an">Depuis 1 an</option>
                    </select>
                </div>

                <div class="no-data-container" *ngIf="!favorites_found">
                    <ng-container *ngIf="favorites_loaded && !visitor_mode">
                        <mat-icon [ngClass]="{'invisible': !show_icon }">info_outline</mat-icon>
                        <span>
                            Vous n'avez pas encore atteint le top 15 des coups de cœur. 
                        </span>
                    </ng-container>
                    <div *ngIf="!favorites_loaded">
                        <mat-spinner diameter="20"></mat-spinner>
                    </div>
                </div>

                <div class="stats-number-container" *ngIf="favorites_found && favorites_loaded">
                    <div>
                        <mat-icon [ngClass]="{'invisible': !show_icon }">keyboard_arrow_right</mat-icon>
                        <span>Total des gains sur la période : <b>{{total_gains_favorites.toFixed(2)}} &euro; </b></span>
                    </div>
                </div>

                <div class="chart-container" #chartContainer *ngIf="trendings_found_groups && trendings_loaded_groups">
                    <ngx-charts-line-chart
                   
                    [scheme]="colorScheme"
                    [results]="multi_favorites_1"
                    [gradient]="gradient"
                    [xAxis]="showXAxis"
                    [yAxis]="showYAxis"
                    [legend]="show_legends"
                    [showXAxisLabel]="showXAxisLabel"
                    [showYAxisLabel]="showYAxisLabel"
                    [xAxisLabel]="xAxis_favorites_1"
                    [yAxisLabel]="yAxis_favorites_1">
                    </ngx-charts-line-chart>
                </div>
            </div>
        </div>

        

        <div class="stats-container " [ngClass]="{'really-invisible':!user_is_in_a_group }">
            
            <!-- Title container -->
            <div class="account-title-container">
                <!--TITRE + BOUTON EDITER/CACHER-->
                <div class="title">
                    <span>Coups de cœur partagés</span>
                </div>
            </div>

            <div class="account-form-container">

                <div class="dropdowns-container"  [ngClass]="{'invisible':!sumo_ready }">
                    <select name="somename" class="Sumo_favorites_chose_group" >
                        <option *ngFor="let section of list_of_groups_names;let i=index;" [selected]="i == 0">{{section}}</option> 
                    </select>
                </div>
                <div class="dropdowns-container"  [ngClass]="{'invisible':!sumo_ready }">
                    <select name="somename" class="Sumo_favorites_groups">
                        <option selected label="Depuis toujours">Depuis toujours</option>
                        <option label="Depuis 1 semaine">Depuis 1 semaine</option>
                        <option label="Depuis 1 mois">Depuis 1 mois</option>
                        <option label="Depuis 1 an">Depuis 1 an</option>
                    </select>
                </div>

                <div class="no-data-container" *ngIf="!favorites_found_groups">
                    <ng-container *ngIf="favorites_loaded_groups">
                        <mat-icon [ngClass]="{'invisible': !show_icon }">info_outline</mat-icon>
                        <span>
                            Vous n'avez pas encore atteint le top 15 des coups de cœur avec ce groupe. 
                        </span>
                    </ng-container>
                    <div *ngIf="!favorites_loaded_groups">
                        <mat-spinner diameter="20"></mat-spinner>
                    </div>
                </div>

                <div class="stats-number-container" *ngIf="favorites_found && favorites_loaded">
                    <div>
                        <mat-icon [ngClass]="{'invisible': !show_icon }">keyboard_arrow_right</mat-icon>
                        <span>Total des gains sur la période : <b>{{total_gains_groups_favorites.toFixed(2)}} &euro; </b></span>
                    </div>
                </div>

                <div class="chart-container"  #chartContainer *ngIf="favorites_found_groups && favorites_loaded_groups">
                    <ngx-charts-line-chart
                   
                    [scheme]="colorScheme"
                    [results]="multi_favorites_groups_1"
                    [gradient]="gradient"
                    [xAxis]="showXAxis"
                    [yAxis]="showYAxis"
                    [legend]="show_legends"
                    [showXAxisLabel]="showXAxisLabel"
                    [showYAxisLabel]="showYAxisLabel"
                    [xAxisLabel]="xAxis_favorites_groups_1"
                    [yAxisLabel]="yAxis_favorites_groups_1">
                    </ngx-charts-line-chart>
                </div>


            </div>
        </div>


        <div class="stats-container " >
            
            <!-- Title container -->
            <div class="account-title-container">
                <!--TITRE + BOUTON EDITER/CACHER-->
                <div class="title">
                    <span>Gestion des gains</span>
                </div>
            </div>

            <div class="account-form-container">

                <div class="no-data-container"  *ngIf="!display_all_gains">
                    <mat-spinner diameter="20"></mat-spinner>
                </div>

                <div class="stats-number-container" *ngIf="display_all_gains">
                    <div class="center-gains"> 
                        <span>Total des gains : <b>{{total_gains.toFixed(2)}} &euro; </b></span>
                    </div>
                </div>

                <button class="validate-form-button" *ngIf="display_all_gains" (click)="get_my_gains();" [@enterAnimation]>
                    
                    <mat-icon [ngClass]="{'invisible': !show_icon }">monetization_on</mat-icon>
                    <span>Me rémunérer</span>
                </button>
               


            </div>
        </div>


    </div>


</div>















